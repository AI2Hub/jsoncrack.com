"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[562],{5562:function(n,t,e){e.r(t),e.d(t,{Graph:function(){return W}});var r=e(6042),i=e(9534),o=e(828),u=e(7297),c=e(5893),a=e(7294),f=e(6126),h=e(8188),s=e(2670),d=e(9396),l=e(4159),v=e(4235),p=e(2125);function g(){var n=(0,u.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 12px;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  cursor: pointer;\n"]);return g=function(){return n},n}function x(){var n=(0,u.Z)(["\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  width: ",";\n  height: ",";\n  min-height: 50;\n  color: ",";\n"]);return x=function(){return n},n}function y(){var n=(0,u.Z)(['\n  pointer-events: none;\n\n  * {\n    font-family: "Roboto Mono", monospace;\n  }\n\n  &.searched {\n    border: 2px solid ',";\n    border-radius: 2px;\n  }\n\n  .highlight {\n    background-color: rgba(255, 0, 255, 0.5);\n    filter: hue-rotate();\n  }\n\n  .renderVisible {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 12px;\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n    cursor: pointer;\n  }\n"]);return y=function(){return n},n}function b(){var n=(0,u.Z)(["\n  font-weight: 500;\n  color: ",";\n  font-size: ",";\n"]);return b=function(){return n},n}function j(){var n=(0,u.Z)(["\n  height: 18px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  padding: 0 auto;\n  width: ",";\n  color: ",";\n"]);return j=function(){return n},n}var Z=p.ZP.div(g()),w=p.ZP.pre(x(),(function(n){return n.width}),(function(n){return n.height}),(function(n){return n.theme.TEXT_NORMAL})),O=p.ZP.foreignObject(y(),(function(n){return n.theme.TEXT_POSITIVE})),m=p.ZP.span(b(),(function(n){var t=n.theme,e=n.objectKey;return n.parent?t.NODE_KEY:e?t.OBJECT_KEY:t.TEXT_POSITIVE}),(function(n){return n.parent&&"14px"})),S=p.ZP.span(j(),(function(n){var t=n.width;return"".concat(t-20,"px")}),(function(n){var t=n.theme;return function(n,t){return Number.isNaN(+n)?"true"===n?t.TEXT_POSITIVE:"false"===n?t.TEXT_DANGER:void 0:"#FD0079"}(n.value,t)})),E=function(n){var t=n.width,e=n.height,r=n.value,i=n.x,o=n.y,u=(0,v.Z)((function(n){return n.settings.performance}));return(0,c.jsx)(O,{width:t,height:e,x:0,y:0,children:(0,c.jsx)(T,{condition:u,children:(0,c.jsx)(w,{width:t,height:e,children:r.map((function(n,e){return n[1]&&(0,c.jsxs)(S,{"data-key":n[1],"data-x":i,"data-y":o,width:t,value:n[1],children:[(0,c.jsxs)(m,{objectKey:!0,children:[n[0],": "]}),n[1]]},e)}))})})})},N=function(n){var t=n.width,e=n.height,r=n.value,i=n.isParent,o=void 0!==i&&i,u=n.x,a=n.y,f=(0,v.Z)((function(n){return n.settings.performance}));return(0,c.jsx)(O,{width:t,height:e,x:0,y:0,children:(0,c.jsx)(T,{condition:f,children:(0,c.jsx)(w,{width:t,height:e,children:(0,c.jsx)(m,{"data-x":u,"data-y":a,"data-key":r,parent:o,children:r})})})})},P={fill:"transparent",stroke:"transparent",strokeWidth:0},T=function(n){var t=n.condition,e=n.children;return t?(0,c.jsx)(l.Z,{rootElementClass:"renderVisible",children:e}):(0,c.jsx)(Z,{children:e})},A=function(n){var t=n.properties;return(0,c.jsx)(h.Node,(0,d.Z)((0,r.Z)({},n),{label:(0,c.jsx)(h.Label,{style:P}),children:function(n){var e=n.width,r=n.height,i=n.x,o=n.y;if((0,s.Z)(t.text,Object)){var u=Object.entries(t.text);return(0,c.jsx)(E,{value:u,width:e,height:r,x:i,y:o})}return(0,c.jsx)(N,{isParent:t.data.isParent,value:t.text,width:e,height:r,x:i,y:o})}}))},k=e(4913),I=e(374),_=e(6501);function C(){var n=(0,u.Z)(["\n  position: absolute;\n  width: 100%;\n  height: ",";\n  background: ",";\n\n  :active {\n    cursor: move;\n  }\n\n  rect {\n    fill: ",";\n  }\n"]);return C=function(){return n},n}var D={step:.05},R=p.ZP.div(C(),(function(n){return n.isWidget?"100vh":"calc(100vh - 36px)"}),(function(n){return n.theme.BACKGROUND_SECONDARY}),(function(n){return n.theme.BACKGROUND_NODE})),W=function(n){var t=n.json,e=n.isWidget,u=void 0!==e&&e,s=(0,i.Z)(n,["json","isWidget"]),d=(0,v.Z)((function(n){return n.updateSetting})),l=(0,o.Z)((0,v.Z)((function(n){return[n.settings.expand,n.settings.layout]}),I.Z),2),p=l[0],g=l[1],x=(0,o.Z)(a.useState([]),2),y=x[0],b=x[1],j=(0,o.Z)(a.useState([]),2),Z=j[0],w=j[1],O=(0,o.Z)(a.useState({width:2e3,height:2e3}),2),m=O[0],S=O[1];a.useEffect((function(){var n=(0,k.h)(t,p),e=n.nodes,r=n.edges;b(e),w(r)}),[t,p]);return(0,c.jsx)(R,{isWidget:u,children:(0,c.jsx)(f.d$,{maxScale:1.8,minScale:.4,initialScale:.7,wheel:D,onInit:function(n){d("zoomPanPinch",n)},children:(0,c.jsx)(f.Uv,{wrapperStyle:{width:"100%",height:"100%",overflow:"hidden"},children:(0,c.jsx)(h.Canvas,(0,r.Z)({nodes:y,edges:Z,maxWidth:m.width+100,maxHeight:m.height+100,direction:g,onCanvasClick:function(){var n=document.querySelector("input:focus");n&&n.blur()},onLayoutChange:function(n){n.width&&n.height&&S({width:n.width,height:n.height})},node:function(n){return(0,c.jsx)(A,(0,r.Z)({onClick:function(t){return function(n,t){2===n.detail&&((0,_.ZP)("Object copied to clipboard!"),navigator.clipboard.writeText(JSON.stringify(t.properties.text)))}(t,n)}},n))},zoomable:!1,readonly:!0},s),g)})})})}},4913:function(n,t,e){e.d(t,{h:function(){return x},a:function(){return y}});var r=e(2670),i=e(9534),o=e(828),u=e(9815),c=e(6501),a=function(n){var t=(0,o.Z)(n,2),e=(t[0],t[1]),i=null===e,u=Array.isArray(e)&&e.length,c=(0,r.Z)(e,Object);return!i&&(u||c)},f=function(n){var t=(0,o.Z)(n,2),e=(t[0],t[1]);return!Array.isArray(e)&&!(0,r.Z)(e,Object)};function h(n,t){return(0,r.Z)(n,Object)||(n=[n]),Object.entries(n).filter(a).flatMap((function(n){var e=(0,o.Z)(n,2),r=e[0],i=e[1];return[{id:t(),text:r,parent:!0,children:d(i,t)}]}))}function s(n){if((0,r.Z)(n,Object)){var t=Object.entries(n).filter(f);return Object.fromEntries(t)}return String(n)}var d=function(n){var t,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t=0,function(){return String(++t)});return n?[n].flat().map((function(n){return{id:e(),text:s(n),children:h(n,e),parent:!1}})):[]},l=function(n){return n.flatMap((function(n){var t=n.children;return[(0,i.Z)(n,["children"])].concat((0,u.Z)(l(t)))}))},v=function(n){return n.flatMap((function(n){var t=n.id,e=n.children,r=void 0===e?[]:e;return(0,u.Z)(r.map((function(n){var e=n.id;return{id:"e".concat(t,"-").concat(e),from:t,to:e}}))).concat((0,u.Z)(v(r)))}))},p=function(n){try{Array.isArray(n)||(n=[n]);var t=d(n);return(0,u.Z)(l(t)).concat((0,u.Z)(v(t)))}catch(e){return console.error(e),c.ZP.error("An error occured while parsing JSON data!"),[]}},g=function(n){if((0,r.Z)(n,Object)){var t=Object.entries(n).map((function(n){return[JSON.stringify(n[0]).replaceAll('"',""),JSON.stringify(n[1])]}));return Object.fromEntries(t)}return String(n)};function x(n){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],e=p(JSON.parse(n)),r=[],i=[],o=0;o<e.length;o++){var u=e[o];if(j(u)){var c=b(u.text),a=c.split("\n"),f=a.map((function(n){return n.length})).sort((function(n,t){return n-t})),h=f.reverse()[0],s=17.8*a.length<30?40:17.8*a.length;r.push({id:u.id,text:g(u.text),data:{isParent:u.parent},width:t?35+h*(u.parent?9:8):180,height:s})}else i.push(u)}return{nodes:r,edges:i}}function y(n){switch(n){case"RIGHT":return"DOWN";case"DOWN":return"LEFT";case"LEFT":return"UP";default:return"RIGHT"}}function b(n){if((0,r.Z)(n,Object)){var t="",e=Object.entries(n);return Object.keys(n).every((function(n){return!isNaN(+n)}))?Object.values(n).join(""):(e.forEach((function(n){t+="".concat(n[0],": ").concat(String(n[1]),"\n")})),t)}return n}function j(n){return"text"in n}},2670:function(n,t,e){function r(n,t){return null!=t&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](n):n instanceof t}e.d(t,{Z:function(){return r}})},9534:function(n,t,e){function r(n,t){if(null==n)return{};var e,r,i=function(n,t){if(null==n)return{};var e,r,i={},o=Object.keys(n);for(r=0;r<o.length;r++)e=o[r],t.indexOf(e)>=0||(i[e]=n[e]);return i}(n,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)e=o[r],t.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(n,e)&&(i[e]=n[e])}return i}e.d(t,{Z:function(){return r}})},9815:function(n,t,e){e.d(t,{Z:function(){return u}});var r=e(943);var i=e(3375);var o=e(1566);function u(n){return function(n){if(Array.isArray(n))return(0,r.Z)(n)}(n)||(0,i.Z)(n)||(0,o.Z)(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);