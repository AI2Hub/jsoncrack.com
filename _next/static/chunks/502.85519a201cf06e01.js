"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[502],{6502:function(n,t,e){e.r(t),e.d(t,{Graph:function(){return W}});var r=e(5893),i=e(7294),o=e(6126),c=e(8188),u=e(4159),a=e(9896),f=e(2125);function l(n,t){return t||(t=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(t)}}))}function s(){var n=l(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 12px;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  cursor: pointer;\n"]);return s=function(){return n},n}function h(){var n=l(["\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  width: ",";\n  height: ",";\n  min-height: 50;\n  color: ",";\n"]);return h=function(){return n},n}function d(){var n=l(['\n  pointer-events: none;\n\n  * {\n    font-family: "Roboto Mono", monospace;\n  }\n\n  &.searched {\n    border: 2px solid ',";\n    border-radius: 2px;\n  }\n\n  .highlight {\n    background-color: rgba(255, 0, 255, 0.5);\n    filter: hue-rotate();\n  }\n\n  .renderVisible {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 12px;\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n    cursor: pointer;\n  }\n"]);return d=function(){return n},n}function y(){var n=l(["\n  font-weight: 500;\n  color: ",";\n"]);return y=function(){return n},n}function b(){var n=l(["\n  height: 18px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  padding: 0 auto;\n  width: ",";\n"]);return b=function(){return n},n}var p=f.ZP.div.withConfig({componentId:"sc-8fe9debd-0"})(s()),v=f.ZP.pre.withConfig({componentId:"sc-8fe9debd-1"})(h(),(function(n){return n.width}),(function(n){return n.height}),(function(n){return n.theme.TEXT_NORMAL})),g=f.ZP.foreignObject.withConfig({componentId:"sc-8fe9debd-2"})(d(),(function(n){return n.theme.TEXT_POSITIVE})),m=f.ZP.span.withConfig({componentId:"sc-8fe9debd-3"})(y(),(function(n){var t=n.theme,e=n.objectKey;return n.parent?t.NODE_KEY:e?"#5c87ff":t.TEXT_POSITIVE})),j=f.ZP.span.withConfig({componentId:"sc-8fe9debd-4"})(b(),(function(n){var t=n.width;return"".concat(t-20,"px")})),O=function(n){var t=n.width,e=n.height,i=n.value,o=n.x,c=n.y,u=(0,a.Z)((function(n){return n.settings.performance}));return(0,r.jsx)(g,{width:t,height:e,x:0,y:0,children:(0,r.jsx)(I,{condition:u,children:(0,r.jsx)(v,{width:t,height:e,children:i.map((function(n,e){return n[1]&&(0,r.jsxs)(j,{"data-key":n[1],"data-x":o,"data-y":c,width:t,children:[(0,r.jsxs)(m,{objectKey:!0,children:[n[0],": "]}),n[1]]},e)}))})})})},w=function(n){var t=n.width,e=n.height,i=n.value,o=n.isParent,c=void 0!==o&&o,u=n.x,f=n.y,l=(0,a.Z)((function(n){return n.settings.performance}));return(0,r.jsx)(g,{width:t,height:e,x:0,y:0,children:(0,r.jsx)(I,{condition:l,children:(0,r.jsx)(v,{width:t,height:e,children:(0,r.jsx)(m,{"data-x":u,"data-y":f,"data-key":i,parent:c,children:i})})})})};function x(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var S={fill:"transparent",stroke:"transparent",strokeWidth:0},I=function(n){var t=n.condition,e=n.children;return t?(0,r.jsx)(u.Z,{rootElementClass:"renderVisible",children:e}):(0,r.jsx)(p,{children:e})},P=function(n){var t=n.properties;return(0,r.jsx)(c.Node,function(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{},r=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})))),r.forEach((function(t){x(n,t,e[t])}))}return n}({},n,{label:(0,r.jsx)(c.Label,{style:S}),children:function(n){var e,i,o=n.width,c=n.height,u=n.x,a=n.y;if(e=t.text,null!=(i=Object)&&"undefined"!==typeof Symbol&&i[Symbol.hasInstance]?i[Symbol.hasInstance](e):e instanceof i){var f=Object.entries(t.text);return(0,r.jsx)(O,{value:f,width:o,height:c,x:u,y:a})}return(0,r.jsx)(w,{isParent:t.data.isParent,value:t.text,width:o,height:c,x:u,y:a})}}))},A=e(4585),E=e(374);function C(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function k(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function N(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{},r=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})))),r.forEach((function(t){k(n,t,e[t])}))}return n}function T(n,t){if(null==n)return{};var e,r,i=function(n,t){if(null==n)return{};var e,r,i={},o=Object.keys(n);for(r=0;r<o.length;r++)e=o[r],t.indexOf(e)>=0||(i[e]=n[e]);return i}(n,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)e=o[r],t.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(n,e)&&(i[e]=n[e])}return i}function Z(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var r,i,o=[],c=!0,u=!1;try{for(e=e.call(n);!(c=(r=e.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(a){u=!0,i=a}finally{try{c||null==e.return||e.return()}finally{if(u)throw i}}return o}}(n,t)||function(n,t){if(!n)return;if("string"===typeof n)return C(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return C(n,t)}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(){var n,t,e=(n=["\n  position: absolute;\n  width: 100%;\n  height: ",";\n  background: ",";\n\n  :active {\n    cursor: move;\n  }\n\n  rect {\n    fill: ",";\n  }\n"],t||(t=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(t)}})));return _=function(){return e},e}var D={step:.05},z=f.ZP.div.withConfig({componentId:"sc-b3c3ead3-0"})(_(),(function(n){return n.isWidget?"100vh":"calc(100vh - 36px)"}),(function(n){return n.theme.BACKGROUND_SECONDARY}),(function(n){return n.theme.BACKGROUND_NODE})),W=function(n){var t=n.json,e=n.isWidget,u=void 0!==e&&e,f=T(n,["json","isWidget"]),l=(0,a.Z)((function(n){return n.updateSetting})),s=Z((0,a.Z)((function(n){return[n.settings.expand,n.settings.layout]}),E.Z),2),h=s[0],d=s[1],y=Z(i.useState([]),2),b=y[0],p=y[1],v=Z(i.useState([]),2),g=v[0],m=v[1],j=Z(i.useState({width:2e3,height:2e3}),2),O=j[0],w=j[1];i.useEffect((function(){var n=(0,A.h)(t,h),e=n.nodes,r=n.edges;p(e),m(r)}),[t,h]);return(0,r.jsx)(z,{isWidget:u,children:(0,r.jsx)(o.d$,{maxScale:1.8,minScale:.4,initialScale:.7,wheel:D,onInit:function(n){l("zoomPanPinch",n)},centerOnInit:!0,children:(0,r.jsx)(o.Uv,{wrapperStyle:{width:"100%",height:"100%",overflow:"hidden"},children:(0,r.jsx)(c.Canvas,N({nodes:b,edges:g,maxWidth:O.width+100,maxHeight:O.height+100,direction:d,onCanvasClick:function(){var n=document.querySelector("input:focus");n&&n.blur()},onLayoutChange:function(n){n.width&&n.height&&w({width:n.width,height:n.height})},node:P,zoomable:!1,readonly:!0},f),d)})})})}},4585:function(n,t,e){e.d(t,{h:function(){return j},a:function(){return O}});var r=e(4931);function i(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function o(n,t){return null!=t&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](n):n instanceof t}function c(n,t){if(null==n)return{};var e,r,i=function(n,t){if(null==n)return{};var e,r,i={},o=Object.keys(n);for(r=0;r<o.length;r++)e=o[r],t.indexOf(e)>=0||(i[e]=n[e]);return i}(n,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)e=o[r],t.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(n,e)&&(i[e]=n[e])}return i}function u(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var r,i,o=[],c=!0,u=!1;try{for(e=e.call(n);!(c=(r=e.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(a){u=!0,i=a}finally{try{c||null==e.return||e.return()}finally{if(u)throw i}}return o}}(n,t)||f(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(n){return function(n){if(Array.isArray(n))return i(n)}(n)||function(n){if("undefined"!==typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||f(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(n,t){if(n){if("string"===typeof n)return i(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?i(n,t):void 0}}var l=function(n){var t=u(n,2),e=(t[0],t[1]),r=null!==e,i=Array.isArray(e)?!!e.length:"object"===typeof e;return r&&i},s=function(n){var t=u(n,2),e=(t[0],t[1]);return!Array.isArray(e)&&!o(e,Object)};function h(n,t){return Object.entries(n).filter(l).flatMap((function(n){var e=u(n,2),r=e[0],i=e[1];return[{id:t(),text:r,parent:!0,children:y(i,t)}]}))}function d(n){if(o(n,Object)){var t=Object.entries(n).filter(s);return Object.fromEntries(t)}return n.toString()}var y=function(n){var t,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t=0,function(){return String(++t)});return n?[n].flat().map((function(n){return{id:e(),text:d(n),children:h(n,e),parent:!1}})):[]},b=function(n){return n.flatMap((function(n){var t=n.children;return[c(n,["children"])].concat(a(b(t)))}))},p=function(n){return n.flatMap((function(n){var t=n.id,e=n.children,r=void 0===e?[]:e;return a(r.map((function(n){var e=n.id;return{id:"e".concat(t,"-").concat(e),from:t,to:e}}))).concat(a(p(r)))}))},v=function(n){try{Array.isArray(n)||(n=[n]);var t=y(n);return a(b(t)).concat(a(p(t)))}catch(e){return console.error(e),r.ZP.error("An error occured while parsing JSON data!"),[]}};function g(n,t){return null!=t&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](n):n instanceof t}var m=function(n){if(g(n,Object)){var t=Object.entries(n).map((function(n){return[n[0],String(n[1])]}));return Object.fromEntries(t)}return String(n)};function j(n){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],e=v(JSON.parse(n)),r=[],i=[],o=0;o<e.length;o++){var c=e[o];if(x(c)){var u=w(c.text),a=u.split("\n"),f=a.map((function(n){return n.length})).sort((function(n,t){return n-t})),l=f.reverse()[0],s=17.8*a.length<30?40:17.8*a.length;r.push({id:c.id,text:m(c.text),data:{isParent:c.parent},width:t?35+8*l:180,height:s})}else i.push(c)}return{nodes:r,edges:i}}function O(n){switch(n){case"RIGHT":return"DOWN";case"DOWN":return"LEFT";case"LEFT":return"UP";default:return"RIGHT"}}function w(n){if(g(n,Object)){var t="",e=Object.entries(n);return Object.keys(n).every((function(n){return!isNaN(+n)}))?Object.values(n).join(""):(e.forEach((function(n){t+="".concat(n[0],": ").concat(String(n[1]),"\n")})),t)}return n}function x(n){return"text"in n}}}]);