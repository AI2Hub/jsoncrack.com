(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[154],{1862:function(e,t,n){"use strict";n.d(t,{z:function(){return f}});var r,i=n(9499),o=n(4730),s=(n(7294),n(186)),c=n(5893),a=["children","status"];function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.PRIMARY="SILVER_DARK",e.SECONDARY="BLURPLE",e.DANGER="DANGER",e.SUCCESS="SEAGREEN",e.WARNING="ORANGE"}(r||(r={}));var u=s.ZP.button.withConfig({displayName:"Button__StyledButton",componentId:"sc-6goz99-0"})(["display:block;background:",";color:",";cursor:pointer;padding:8px 16px;@media only screen and (max-width:768px){font-size:18px;}"],(function(e){return function(e,t){return t[r[e]]}(e.status,e.theme)}),(function(e){return e.theme.FULL_WHITE})),p=s.ZP.div.withConfig({displayName:"Button__StyledButtonContent",componentId:"sc-6goz99-1"})(["display:flex;justify-content:center;align-items:center;gap:8px;"]),f=function(e){var t=e.children,n=e.status,r=(0,o.Z)(e,a);return(0,c.jsx)(u,d(d({type:"button",status:null!==n&&void 0!==n?n:"PRIMARY"},r),{},{children:(0,c.jsx)(p,{children:t})}))}},9286:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ce}});var r=n(6835),i=n(7294),o=n(9008),s=n(1163),c=n(186),a=n(5884),l=n(1862),d=n(9499),u=n(1664),p=n(4059),f=n(9583),h=n(5434),m=n(8193),x=n(4730),y=n(7812),g=["children"];function j(e){for(var t=function(e){try{"object"!==typeof e&&(e=JSON.parse(e)),Array.isArray(e)||(e=[e]);var t=function e(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(n=0,function(){return String(++n)});return t?[t].flat().map((function(t){return{id:i(),text:Object.fromEntries(Object.entries(t).filter((function(e){var t=(0,r.Z)(e,2),n=(t[0],t[1]);return!Array.isArray(n)&&!(n instanceof Object)}))),children:Object.entries(t).filter((function(e){var t=(0,r.Z)(e,2),n=(t[0],t[1]);return Array.isArray(n)||"object"===typeof n})).flatMap((function(t){var n=(0,r.Z)(t,2),o=n[0],s=n[1];return[{id:i(),text:o,children:e(s,i)}]}))}})):[]}(e);return[].concat((0,y.Z)(function e(t){return t.flatMap((function(t){var n=t.children;return[(0,x.Z)(t,g)].concat((0,y.Z)(e(n)))}))}(t)),(0,y.Z)(function e(t){return t.flatMap((function(t){var n=t.id,r=t.children,i=void 0===r?[]:r;return[].concat((0,y.Z)(i.map((function(e){var t=e.id;return{id:"e".concat(t,"-").concat(n),from:t,to:n}}))),(0,y.Z)(e(i)))}))}(t)))}catch(n){return console.error("An error occured while parsin JSON data!"),[]}}(e=JSON.parse(e)),n=[],i=[],o=0;o<t.length;o++){var s=t[o];if(w(s)){var c=v(s.text).split("\n"),a=c.map((function(e){return e.length})).sort((function(e,t){return e-t})).reverse()[0];n.push({id:s.id,text:s.text,width:35+8*a,height:30+10*c.length,data:{type:"special"}})}else i.push(s)}return{nodes:n,edges:i}}function b(e){switch(e){case"LEFT":return"UP";case"UP":return"RIGHT";case"RIGHT":return"DOWN";default:return"LEFT"}}function v(e){if(e instanceof Object){var t="",n=Object.entries(e);return Object.keys(e).every((function(e){return!isNaN(+e)}))?Object.values(e).join(""):(n.forEach((function(e){t+="".concat(e[0],": ").concat(e[1],"\n")})),t)}return e}function w(e){return"text"in e}var S=n(5893);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=c.ZP.div.withConfig({displayName:"Sidebar__StyledSidebar",componentId:"sc-77ih9s-0"})(["display:flex;justify-content:space-between;flex-direction:column;align-items:center;width:60px;background:#2f3136;padding:8px;border-right:1px solid ",";"],(function(e){return e.theme.SILVER_DARK})),E=c.ZP.div.withConfig({displayName:"Sidebar__StyledElement",componentId:"sc-77ih9s-1"})(["text-align:center;font-size:32px;font-weight:700;width:100%;color:",";cursor:pointer;pointer-events:",";a{text-align:center;width:100%;}svg{vertical-align:middle;}"],(function(e){var t=e.theme;return e.disabled?t.SILVER_DARK:t.SILVER}),(function(e){return e.disabled&&"none"})),N=c.ZP.span.withConfig({displayName:"Sidebar__StyledText",componentId:"sc-77ih9s-2"})(["color:",";"],(function(e){var t=e.theme;return e.secondary?t.FULL_WHITE:t.ORANGE})),C=c.ZP.nav.withConfig({displayName:"Sidebar__StyledTopWrapper",componentId:"sc-77ih9s-3"})(["display:flex;justify-content:space-between;flex-direction:column;align-items:center;width:100%;& > div,a{border-bottom:1px solid ",";}"],(function(e){return e.theme.SILVER_DARK})),I=c.ZP.nav.withConfig({displayName:"Sidebar__StyledBottomWrapper",componentId:"sc-77ih9s-4"})(["display:flex;justify-content:space-between;flex-direction:column;align-items:center;width:100%;& > div,a{border-top:1px solid ",";}"],(function(e){return e.theme.SILVER_DARK})),R=c.ZP.div.withConfig({displayName:"Sidebar__StyledLogo",componentId:"sc-77ih9s-5"})(["color:",";"],(function(e){return e.theme.FULL_WHITE})),Z=c.ZP.label.withConfig({displayName:"Sidebar__StyledImportFile",componentId:"sc-77ih9s-6"})(['cursor:pointer;input[type="file"]{display:none;}']),k=function(e){var t=e.setJson,n=i.useState(null),o=(0,r.Z)(n,2),s=o[0],c=o[1],a=(0,p._)("config",{layout:"LEFT",minimap:!0,controls:!0}),l=(0,r.Z)(a,2),x=(l[0],l[1]),y=function(e){x((function(t){return _(_({},t),{},(0,d.Z)({},e,!t[e]))}))};return i.useEffect((function(){if(s){var e=new FileReader;e.readAsText(s,"UTF-8"),e.onload=function(e){var n;t(null===(n=e.target)||void 0===n?void 0:n.result)}}}),[s,t]),(0,S.jsxs)(P,{children:[(0,S.jsxs)(C,{children:[(0,S.jsx)(E,{children:(0,S.jsx)(u.default,{href:"/",children:(0,S.jsx)("a",{children:(0,S.jsxs)(R,{children:[(0,S.jsx)(N,{children:"J"}),(0,S.jsx)(N,{secondary:!0,children:"V"})]})})})}),(0,S.jsx)(E,{title:"Home",children:(0,S.jsx)(u.default,{href:"/",children:(0,S.jsx)("a",{children:(0,S.jsx)(m.V9Z,{})})})}),(0,S.jsx)(E,{as:"a",onClick:function(){t("[]"),localStorage.removeItem("json")},title:"Clear JSON",children:(0,S.jsx)(m.XzY,{})}),(0,S.jsx)(E,{as:"a",onClick:function(){return x((function(e){return _(_({},e),{},{layout:b(e.layout)})}))},title:"Change Layout",children:(0,S.jsx)(h.u9z,{})}),(0,S.jsx)(E,{title:"Toggle Minimap",as:"a",onClick:function(){return y("minimap")},disabled:!0,children:(0,S.jsx)(f.Kth,{})}),(0,S.jsx)(E,{title:"Toggle Controls",as:"a",onClick:function(){return y("controls")},children:(0,S.jsx)(m.yLO,{})}),(0,S.jsx)(E,{title:"Import JSON File",children:(0,S.jsx)("a",{children:(0,S.jsxs)(Z,{children:[(0,S.jsx)("input",{onChange:function(e){var t;e.target.files&&c(null===(t=e.target.files)||void 0===t?void 0:t.item(0))},type:"file",accept:"application/JSON"},null===s||void 0===s?void 0:s.name),(0,S.jsx)(f.Xur,{})]})})})]}),(0,S.jsxs)(I,{children:[(0,S.jsx)(E,{children:(0,S.jsx)(u.default,{href:"https://twitter.com/aykutsarach",children:(0,S.jsx)("a",{rel:"me",target:"_blank",children:(0,S.jsx)(m.h3E,{})})})}),(0,S.jsx)(E,{children:(0,S.jsx)(u.default,{href:"https://github.com/AykutSarac/jsonvisio.com",children:(0,S.jsx)("a",{rel:"me",target:"_blank",children:(0,S.jsx)(m.RrF,{})})})})]})]})},z=n(8336),L=n(4597),A=(0,c.ZP)(z.Z).withConfig({displayName:"JsonEditor__StyledJSONInput",componentId:"sc-1sxvk25-0"})(["margin-top:10px;padding:5px;"]),T=[{Author:"J. K. Rowling.",Genre:"Fantasy",Characters:["Hermione Granger","Harry Potter","Lord Voldemort","MORE"],Books:[{title:"Philosopher's Stone",date:"1997"},{title:"Chamber of Secrets",date:"1998"},{title:"Prisoner of Azkaban",date:"1999"},{title:"Goblet of Fire",date:"1999"},{title:"Order of the Phoenix",date:"2003"},{title:"Half-Blood Prince",date:"2005"},{title:"Deathly Hallows",date:"2007"}]}],D=function(e){var t=e.json,n=e.setJson,o=i.useState(i.useMemo((function(){return"undefined"!==typeof localStorage&&localStorage.getItem("json")?localStorage.getItem("json"):t}),[])),s=(0,r.Z)(o,2),c=s[0],a=s[1];i.useEffect((function(){"[]"===t&&a(t)}),[t]),i.useEffect((function(){var e=document.querySelector('[name="outer-box"] > div');e&&(e.style.transform="translate(-75%, 25%)")}),[]);return(0,S.jsx)(A,{placeholder:JSON.parse(c),onChange:function(e){if(!e.error){if(""===e.json)return n("[]");n(e.json)}},locale:L.Z,height:"100%",width:"auto"})},J=n(6126),G=n(3607);function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F=(0,c.ZP)(G.Node).withConfig({displayName:"CustomNode__StyledNode",componentId:"sc-enntnn-0"})(["stroke:black;stroke-width:1;"]),H=c.ZP.div.withConfig({displayName:"CustomNode__StyledTextWrapper",componentId:"sc-enntnn-1"})(["position:absolute;display:flex;justify-content:center;align-items:center;font-size:12px;width:100%;height:100%;"]),K=c.ZP.pre.withConfig({displayName:"CustomNode__StyledText",componentId:"sc-enntnn-2"})(["width:",";height:",";color:",";"],(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.theme.SILVER})),W=c.ZP.foreignObject.withConfig({displayName:"CustomNode__StyledForeignObject",componentId:"sc-enntnn-3"})(['position:"relative" !important;pointer-events:"none" !important;width:',";height:",";"],(function(e){return e.width+"px"}),(function(e){return e.height+"px"})),U=c.ZP.span.withConfig({displayName:"CustomNode__StyledKey",componentId:"sc-enntnn-4"})(["color:",";"],(function(e){var t=e.theme,n=e.bond,r=e.arrayValue;return n?t.SEAGREEN:r?t.ORANGE:t.BLURPLE})),M={fill:"transparent",stroke:"transparent",strokeWidth:0},Y={fill:"black"},X=function(e){var t=e.nodeProps,n=t.properties;return(0,S.jsx)(F,B(B({label:(0,S.jsx)(G.Label,{style:M}),port:(0,S.jsx)(G.Port,{style:Y,rx:10,ry:10})},t),{},{children:function(e){var t=e.width,r=e.height;if(n.text instanceof Object){var i=Object.entries(n.text);return Object.keys(n.text).every((function(e){return!isNaN(+e)}))?(0,S.jsx)(W,{width:t,height:r,x:0,y:0,children:(0,S.jsx)(H,{children:(0,S.jsx)(K,{width:t,height:r,children:(0,S.jsx)(U,{arrayValue:!0,children:Object.values(n.text).join("")})})})}):(0,S.jsx)(W,{width:t,height:r,x:0,y:0,children:(0,S.jsx)(H,{children:(0,S.jsx)(K,{width:t,height:r,children:i.map((function(t){return(0,S.jsxs)("div",{style:{height:"fit-content"},children:[(0,S.jsxs)(U,{children:[t[0],": "]}),t[1]]},e.id)}))})})})}return(0,S.jsx)(W,{width:t,height:r,x:0,y:0,children:(0,S.jsx)(H,{children:(0,S.jsx)(K,{width:t,height:r,children:(0,S.jsx)(U,{bond:!0,children:n.text})})})})}}))},q=function(e){var t,n;return null!==(t=e.properties)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.type?(0,S.jsx)(X,{nodeProps:e}):(0,S.jsx)(G.Node,B({},e))},Q=c.ZP.div.withConfig({displayName:"LiveEditor__StyledLiveEditor",componentId:"sc-143se6z-0"})(["position:relative;border-left:3px solid ",";"],(function(e){return e.theme.SILVER_DARK})),$=c.ZP.div.withConfig({displayName:"LiveEditor__StyledEditorWrapper",componentId:"sc-143se6z-1"})(["position:absolute;"]),ee=c.ZP.div.withConfig({displayName:"LiveEditor__StyledControls",componentId:"sc-143se6z-2"})(["position:fixed;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr 1fr;gap:8px;bottom:8px;right:8px;opacity:0.8;"]),te=function(e){var t=e.json,n=i.useRef(null),o=i.useRef(null),s=(0,p._)("config",{layout:"LEFT",minimap:!0,controls:!0}),c=(0,r.Z)(s,1)[0];i.useEffect((function(){var e;o.current&&(null===(e=o.current)||void 0===e||e.resetTransform())}),[t,o]);var a=j(t),d=a.nodes,u=a.edges;return(0,S.jsxs)(Q,{children:[(0,S.jsx)($,{children:(0,S.jsx)(J.d$,{maxScale:2,minScale:.4,initialScale:.8,ref:o,limitToBounds:!1,wheel:{step:.4},children:(0,S.jsx)(J.Uv,{children:(0,S.jsx)(G.Canvas,{ref:n,nodes:d,edges:u,layoutOptions:{"elk.direction":c.layout},maxWidth:2e4,maxHeight:2e4,center:!1,zoomable:!1,fit:!0,readonly:!0,animated:!0,node:q})})})}),c.controls&&(0,S.jsxs)(ee,{children:[(0,S.jsx)(l.z,{onClick:function(){return function(e){var t,n,r;null!==(t=o.current)&&void 0!==t&&t.state.scale&&(null===(n=o.current)||void 0===n?void 0:n.state.scale)<2&&(null===(r=o.current)||void 0===r||r.setTransform(o.current.instance.transformState.positionX-200,o.current.instance.transformState.positionY-200,o.current.state.scale+e))}(.5)},children:(0,S.jsx)(m.SxL,{size:20})}),(0,S.jsx)(l.z,{onClick:function(){return function(e){var t,n,r;null!==(t=o.current)&&void 0!==t&&t.state.scale&&(null===(n=o.current)||void 0===n?void 0:n.state.scale)>.4&&(null===(r=o.current)||void 0===r||r.setTransform(o.current.instance.transformState.positionX+200,o.current.instance.transformState.positionY+200,o.current.state.scale-e))}(.4)},children:(0,S.jsx)(m.aAQ,{size:20})}),(0,S.jsx)(l.z,{onClick:function(){var e;return null===(e=o.current)||void 0===e?void 0:e.resetTransform()},children:(0,S.jsx)(m.vju,{size:20})}),(0,S.jsx)(l.z,{onClick:function(){return localStorage.setItem("json",t)},children:(0,S.jsx)(m.gg_,{size:20})})]})]})},ne=c.ZP.div.withConfig({displayName:"editor__StyledPageWrapper",componentId:"sc-19myogy-0"})(["display:flex;"]),re=c.ZP.div.withConfig({displayName:"editor__StyledIncompatible",componentId:"sc-19myogy-1"})(["display:none;@media only screen and (max-width:568px){position:fixed;top:0;left:0;display:flex;flex-direction:column;background:",';content:"This app is not compatible with your device!";color:',';width:100%;height:100vh;justify-content:center;align-items:center;button{margin-top:60px;}&::before{content:"Uh, oh!";font-weight:700;font-size:60px;opacity:0.6;}}'],(function(e){return e.theme.BLACK_LIGHT}),(function(e){return e.theme.SILVER})),ie=c.ZP.div.withConfig({displayName:"editor__StyledEditorWrapper",componentId:"sc-19myogy-2"})(["width:100%;overflow:hidden;@media only screen and (max-width:568px){display:none;}"]),oe=c.ZP.div.withConfig({displayName:"editor__StyledTools",componentId:"sc-19myogy-3"})(["display:flex;align-items:center;height:15px;border-bottom:1px solid ",";padding:4px 16px;background:",";color:",";"],(function(e){return e.theme.BLACK}),(function(e){return e.theme.BLACK_SECONDARY}),(function(e){return e.theme.SILVER})),se=(0,c.ZP)(a.Z).withConfig({displayName:"editor__StyledEditor",componentId:"sc-19myogy-4"})(["position:relative !important;display:flex;background:",";height:calc(100vh - 26px) !important;.Resizer{background:#000;opacity:0.2;z-index:1;box-sizing:border-box;background-clip:padding-box;}.Resizer:hover{transition:all 2s ease;}.Resizer.horizontal{height:11px;margin:-5px 0;border-top:5px solid rgba(255,255,255,0);border-bottom:5px solid rgba(255,255,255,0);cursor:row-resize;width:100%;}.Resizer.horizontal:hover{border-top:5px solid rgba(0,0,0,0.5);border-bottom:5px solid rgba(0,0,0,0.5);}.Resizer.vertical{width:11px;margin:0 -5px;border-left:5px solid rgba(255,255,255,0);border-right:5px solid rgba(255,255,255,0);cursor:col-resize;}.Resizer.vertical:hover{border-left:5px solid rgba(0,0,0,0.5);border-right:5px solid rgba(0,0,0,0.5);}.Resizer.disabled{cursor:not-allowed;}.Resizer.disabled:hover{border-color:transparent;}"],(function(e){return e.theme.BLACK_LIGHT})),ce=function(){var e=i.useState(JSON.stringify(T)),t=(0,r.Z)(e,2),n=t[0],c=t[1],a=(0,s.useRouter)();return i.useEffect((function(){var e=localStorage.getItem("json");e&&c(e)}),[]),(0,S.jsxs)(ne,{children:[(0,S.jsx)(o.default,{children:(0,S.jsx)("title",{children:"Editor | JSON Visio"})}),(0,S.jsx)(k,{setJson:c}),(0,S.jsxs)(ie,{children:[(0,S.jsx)(oe,{}),(0,S.jsxs)(se,{maxSize:800,minSize:300,defaultSize:450,split:"vertical",children:[(0,S.jsx)(D,{json:n,setJson:c}),(0,S.jsx)(te,{json:n,setJson:c})]})]}),(0,S.jsxs)(re,{children:["This app is not compatible with your device!",(0,S.jsx)(l.z,{className:"incompatible",onClick:function(){return a.push("/")},children:"Go Back"})]})]})}},545:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/editor",function(){return n(9286)}])}},function(e){e.O(0,[617,228,445,319,987,825,872,774,888,179],(function(){return t=545,e(e.s=t);var t}));var t=e.O();_N_E=t}]);