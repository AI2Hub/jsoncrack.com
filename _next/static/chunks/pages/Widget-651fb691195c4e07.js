(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[83],{2776:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Widget",function(){return t(3237)}])},5326:function(n,e,t){"use strict";t.d(e,{c:function(){return f}});var r=t(7297),o=t(5893),i=(t(7294),t(6501)),u=t(9647),c=t(3565),s=t(1342);function a(){var n=(0,r.Z)(["\n  resize: none;\n  width: 100%;\n  min-height: 200px;\n\n  padding: 10px;\n  background: ",";\n  color: ",";\n  outline: none;\n  border-radius: 4px;\n  line-height: 20px;\n  border: none;\n"]);return a=function(){return n},n}var d=t(9521).ZP.textarea(a(),(function(n){return n.theme.BACKGROUND_TERTIARY}),(function(n){return n.theme.INTERACTIVE_NORMAL})),f=function(n){var e=n.selectedNode,t=n.visible,r=n.closeModal,a=Array.isArray(e)?Object.fromEntries(e):e;return(0,o.jsxs)(s.u,{visible:t,setVisible:r,children:[(0,o.jsx)(s.u.Header,{children:"Node Content"}),(0,o.jsx)(s.u.Content,{children:(0,o.jsx)(d,{defaultValue:JSON.stringify(a,(function(n,e){return"string"===typeof e?e.replaceAll('"',""):e}),2),readOnly:!0})}),(0,o.jsx)(s.u.Controls,{setVisible:r,children:(0,o.jsxs)(c.z,{status:"SECONDARY",onClick:function(){i.ZP.success("Content copied to clipboard!"),navigator.clipboard.writeText(JSON.stringify(a)),r()},children:[(0,o.jsx)(u.C3L,{size:18})," Clipboard"]})})]})}},3237:function(n,e,t){"use strict";t.r(e);var r=t(828),o=t(7297),i=t(5893),u=t(7294),c=t(5152),s=t.n(c),a=t(1163),d=t(6065),f=t(6501),l=t(9193),h=t(5326),p=t(9189),v=t(3719),g=t(369),x=t(9521);function m(){var n=(0,o.Z)(["\n  position: fixed;\n  bottom: 0;\n  right: 0;\n  color: ",";\n  background: ",";\n  padding: 4px 8px;\n  font-size: 14px;\n  font-weight: 500;\n  border-radius: 3px 0 0 0;\n  opacity: 0.8;\n\n  @media only screen and (max-width: 768px) {\n    font-size: 12px;\n  }\n"]);return m=function(){return n},n}var E=s()((function(){return Promise.all([t.e(228),t.e(987),t.e(434),t.e(717),t.e(62),t.e(628)]).then(t.bind(t,4062)).then((function(n){return n.Graph}))}),{loadableGenerated:{webpack:function(){return[4062]}},ssr:!1}),b=x.ZP.a(m(),(function(n){return n.theme.INTERACTIVE_NORMAL}),(function(n){return n.theme.SILVER_DARK}));e.default=function(){var n=(0,a.useRouter)(),e=n.query,t=n.push,o=(0,r.Z)(u.useState(l.d),2),c=o[0],s=o[1];u.useEffect((function(){e.json&&s(JSON.stringify({warning:"\u26a0\ufe0f Query params are deprecated now",new:"Check out https://jsoncrack.com/embed"}))}),[e.json]);var x=(0,r.Z)(u.useState(!1),2),m=x[0],w=x[1],N=(0,r.Z)(u.useState([]),2),j=N[0],y=N[1],_=(0,v.Z)((function(n){return n.collapsedNodes})),C=(0,v.Z)((function(n){return n.collapsedEdges})),A=(0,v.Z)((function(n){return n.loading})),S=(0,v.Z)((function(n){return n.setGraphValue})),Z=(0,p.Z)((function(n){return n.centerView})),k=u.useCallback((function(){return w(!0)}),[]);return u.useEffect((function(){var n=_.map((function(n){return'[id$="node-'.concat(n,'"]')})),e=C.map((function(n){return'[class$="edge-'.concat(n,'"]')}));if(document.querySelectorAll(".hide").forEach((function(n){return n.classList.remove("hide")})),n.length){var t=document.querySelectorAll(n.join(",")),r=document.querySelectorAll(e.join(","));t.forEach((function(n){return n.classList.add("hide")})),r.forEach((function(n){return n.classList.add("hide")}))}}),[_,C,A]),u.useEffect((function(){var n=function(n){try{var e;if(!(null===(e=n.data)||void 0===e?void 0:e.json))return;var t=JSON.stringify((0,d.Qc)(n.data.json));s(t)}catch(r){f.ZP.error("Invalid JSON!")}};return window.addEventListener("message",n),function(){return window.removeEventListener("message",n)}}),[]),u.useEffect((function(){if(c){var n=(0,g.E)(c),e=n.nodes,r=n.edges;S("nodes",e),S("edges",r)}(function(){try{return window.self!==window.top}catch(n){return!0}})()||t("/")}),[t,c,S,Z]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(E,{openModal:k,setSelectedNode:y,isWidget:!0}),(0,i.jsx)(h.c,{selectedNode:j,visible:m,closeModal:function(){return w(!1)}}),(0,i.jsx)(b,{href:"".concat(l.v,"/editor"),target:"_blank",rel:"noreferrer",children:"jsoncrack.com"})]})}}},function(n){n.O(0,[630,756,774,888,179],(function(){return e=2776,n(n.s=e);var e}));var e=n.O();_N_E=e}]);