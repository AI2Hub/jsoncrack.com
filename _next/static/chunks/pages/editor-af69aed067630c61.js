(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[154],{1862:function(e,t,n){"use strict";n.d(t,{z:function(){return f}});var r,i=n(9499),o=n(4730),c=(n(7294),n(7379)),a=n(5893),s=["children","status"];function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.PRIMARY="SILVER_DARK",e.SECONDARY="BLURPLE",e.DANGER="DANGER",e.SUCCESS="SEAGREEN",e.WARNING="ORANGE"}(r||(r={}));var u=c.ZP.button.withConfig({displayName:"Button__StyledButton",componentId:"sc-6goz99-0"})(["display:block;background:",";color:",";cursor:pointer;padding:8px 16px;@media only screen and (max-width:768px){font-size:18px;}"],(function(e){return function(e,t){return t[r[e]]}(e.status,e.theme)}),(function(e){return e.theme.FULL_WHITE})),p=c.ZP.div.withConfig({displayName:"Button__StyledButtonContent",componentId:"sc-6goz99-1"})(["display:flex;justify-content:center;align-items:center;gap:8px;"]),f=function(e){var t=e.children,n=e.status,r=(0,o.Z)(e,s);return(0,a.jsx)(u,l(l({type:"button",status:null!==n&&void 0!==n?n:"PRIMARY"},r),{},{children:(0,a.jsx)(p,{children:t})}))}},9104:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Y}});var r=n(1163),i=n(7294),o=n(1862),c=n(6835),a=n(1664),s=n(7379),d=n(8193),l=n(9583),u=n(5434),p=n(4059),f=n(8336),h=n(4597),y=n(5893),m=(0,s.ZP)(f.Z).withConfig({displayName:"JsonEditor__StyledJSONInput",componentId:"sc-1sxvk25-0"})(['margin-top:10px;padding:5px;[name="outer-box"] > div{transform:translate(-75%,25%);}']),x=[{Author:"J. K. Rowling.",Genre:"Fantasy",Characters:["Hermione Granger","Harry Potter","Lord Voldemort","MORE"],Books:[{title:"Philosopher's Stone",date:"1997"},{title:"Chamber of Secrets",date:"1998"},{title:"Prisoner of Azkaban",date:"1999"},{title:"Goblet of Fire",date:"1999"},{title:"Order of the Phoenix",date:"2003"},{title:"Half-Blood Prince",date:"2005"},{title:"Deathly Hallows",date:"2007"}]}],g=function(){var e=(0,p._)("json",JSON.stringify(x)),t=(0,c.Z)(e,2),n=t[0],r=t[1];return i.useEffect((function(){var e=document.querySelector('[name="outer-box"] > div');e&&(e.style.transform="translate(-75%, 25%)")}),[]),(0,y.jsx)(m,{placeholder:JSON.parse(n),onChange:function(e){try{JSON.parse(e.json),r(e.json)}catch(t){console.error("Invalid JSON!",t.stack)}},locale:h.Z,height:"100%"})},j=n(681),b=n.n(j),v=n(9362),_=n(4730),w=n(7812),S=["children"],L=function(e){try{e=JSON.parse(e),Array.isArray(e)||(e=[e]);var t=function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(n=0,function(){return String(++n)});return t?[t].flat().map((function(t){return{id:r(),data:{label:Object.fromEntries(Object.entries(t).filter((function(e){var t=(0,c.Z)(e,2),n=(t[0],t[1]);return!Array.isArray(n)})))},position:{x:0,y:0},type:"special",children:Object.entries(t).filter((function(e){var t=(0,c.Z)(e,2),n=(t[0],t[1]);return Array.isArray(n)||"object"===typeof n})).flatMap((function(t){var n=(0,c.Z)(t,2),i=n[0],o=n[1];return[{id:r(),data:{label:i},position:{x:0,y:0},children:e(o,r),type:"special"}]}))}})):[]}(e);return[].concat((0,w.Z)(function e(t){return t.flatMap((function(t){var n=t.children;return[(0,_.Z)(t,S)].concat((0,w.Z)(e(n)))}))}(t)),(0,w.Z)(function e(t){return t.flatMap((function(t){var n=t.id,r=t.children,i=void 0===r?[]:r;return[].concat((0,w.Z)(i.map((function(e){var t=e.id;return{id:"e".concat(t,"-").concat(n),source:t,target:n}}))),(0,w.Z)(e(i)))}))}(t)))}catch(n){return console.error("An error occured while parsin JSON data!",n.stack),Array}},E=new(b().graphlib.Graph);E.setDefaultEdgeLabel((function(){return{}}));var N=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r="LR"===e;E.setGraph({rankdir:e}),t.forEach((function(e){(0,v.UG)(e)?E.setNode(e.id,{width:n?e.__rf.width:200,height:n?e.__rf.height:100}):E.setEdge(e.source,e.target)})),b().layout(E);var i=t.map((function(e){if((0,v.UG)(e)){var t=E.node(e.id);e.targetPosition=r?v.Ly.Left:v.Ly.Top,e.sourcePosition=r?v.Ly.Right:v.Ly.Bottom,e.position={x:t.x+Math.random()/1e3,y:t.y}}return e}));return i};var R=s.ZP.div.withConfig({displayName:"Sidebar__StyledSidebar",componentId:"sc-77ih9s-0"})(["display:flex;justify-content:space-between;flex-direction:column;align-items:center;width:60px;background:#2f3136;padding:8px;border-right:1px solid ",";"],(function(e){return e.theme.SILVER_DARK})),O=s.ZP.div.withConfig({displayName:"Sidebar__StyledElement",componentId:"sc-77ih9s-1"})(["text-align:center;font-size:32px;font-weight:700;width:100%;color:",";cursor:pointer;a{text-align:center;width:100%;}svg{vertical-align:middle;}"],(function(e){return e.theme.SILVER})),C=s.ZP.span.withConfig({displayName:"Sidebar__StyledText",componentId:"sc-77ih9s-2"})(["color:",";"],(function(e){var t=e.theme;return e.secondary?t.FULL_WHITE:t.ORANGE})),P=s.ZP.nav.withConfig({displayName:"Sidebar__StyledTopWrapper",componentId:"sc-77ih9s-3"})(["display:flex;justify-content:space-between;flex-direction:column;align-items:center;width:100%;& > div,a{border-bottom:1px solid ",";}"],(function(e){return e.theme.SILVER_DARK})),Z=s.ZP.nav.withConfig({displayName:"Sidebar__StyledBottomWrapper",componentId:"sc-77ih9s-4"})(["display:flex;justify-content:space-between;flex-direction:column;align-items:center;width:100%;& > div,a{border-top:1px solid ",";}"],(function(e){return e.theme.SILVER_DARK})),I=s.ZP.div.withConfig({displayName:"Sidebar__StyledLogo",componentId:"sc-77ih9s-5"})(["color:",";"],(function(e){return e.theme.FULL_WHITE})),A=s.ZP.label.withConfig({displayName:"Sidebar__StyledImportFile",componentId:"sc-77ih9s-6"})(['cursor:pointer;input[type="file"]{display:none;}']),k=function(){var e=i.useState(null),t=(0,c.Z)(e,2),n=t[0],r=t[1],o=(0,p._)("json",JSON.stringify(x)),s=(0,c.Z)(o,2),f=(s[0],s[1]),h=(0,p._)("layout","RL"),m=(0,c.Z)(h,2),g=m[0],j=m[1];return i.useEffect((function(){n&&function(e,t){var n=new FileReader;n.readAsText(e,"UTF-8"),n.onload=function(e){var n;t(null===(n=e.target)||void 0===n?void 0:n.result)}}(n,f)}),[n]),(0,y.jsxs)(R,{children:[(0,y.jsxs)(P,{children:[(0,y.jsx)(O,{children:(0,y.jsx)(a.default,{href:"/",children:(0,y.jsx)("a",{children:(0,y.jsxs)(I,{children:[(0,y.jsx)(C,{children:"J"}),(0,y.jsx)(C,{secondary:!0,children:"V"})]})})})}),(0,y.jsx)(O,{title:"Home",children:(0,y.jsx)(a.default,{href:"/",children:(0,y.jsx)("a",{children:(0,y.jsx)(d.V9Z,{})})})}),(0,y.jsx)(O,{as:"a",onClick:function(){f("[]")},title:"Clear JSON",children:(0,y.jsx)(d.XzY,{})}),(0,y.jsx)(O,{title:"Import JSON File",children:(0,y.jsx)("a",{children:(0,y.jsxs)(A,{children:[(0,y.jsx)("input",{onChange:function(e){var t;return r(null===(t=e.target.files)||void 0===t?void 0:t.item(0))},type:"file",accept:"application/JSON"},n),(0,y.jsx)(l.Xur,{})]})})}),(0,y.jsx)(O,{as:"a",onClick:function(){return j(function(e){switch(e){case"TB":return"BT";case"BT":return"RL";case"RL":return"LR";default:return"TB"}}(g))},title:"Change Layout",children:(0,y.jsx)(u.u9z,{})})]}),(0,y.jsxs)(Z,{children:[(0,y.jsx)(O,{children:(0,y.jsx)(a.default,{href:"https://twitter.com/aykutsarach",children:(0,y.jsx)("a",{rel:"me",target:"_blank",children:(0,y.jsx)(d.h3E,{})})})}),(0,y.jsx)(O,{children:(0,y.jsx)(a.default,{href:"https://github.com/AykutSarac/jsonvisio.com",children:(0,y.jsx)("a",{rel:"me",target:"_blank",children:(0,y.jsx)(d.RrF,{})})})})]})]})},H=s.ZP.div.withConfig({displayName:"Node__StyledWrapper",componentId:"sc-3dlpyb-0"})(["background:",";border:1px solid ",";border-radius:5px;padding:16px;color:",";width:",";height:",";min-width:",";text-align:",";border-radius:",";"],(function(e){return e.theme.BLACK_PRIMARY}),(function(e){return e.theme.BLACK}),(function(e){var t=e.theme,n=e.isArray,r=e.isElement;return n?t.SEAGREEN:r&&t.ORANGE}),(function(e){return e.circle?"20px":"auto"}),(function(e){return e.circle?"20px":"auto"}),(function(e){return!e.circle&&"100px"}),(function(e){return e.isArray&&"center"}),(function(e){return e.circle&&"50%"})),B=s.ZP.span.withConfig({displayName:"Node__StyledKey",componentId:"sc-3dlpyb-1"})(["color:",";"],(function(e){return e.theme.BLURPLE})),T=[[0,0],[1e3,1e3]],G={special:function(e){var t=e.id,n=e.data.label;if(0===Object.keys(n).length)return(0,y.jsxs)(H,{circle:!0,children:[(0,y.jsx)(v.HH,{type:"source",position:v.Ly.Left}),(0,y.jsx)(v.HH,{type:"target",position:v.Ly.Right})]});if("string"===typeof n)return(0,y.jsxs)(H,{isArray:!0,children:[n,(0,y.jsx)(v.HH,{type:"source",position:v.Ly.Left}),(0,y.jsx)(v.HH,{type:"target",position:v.Ly.Right})]});if("object"===typeof n){var r=Object.entries(n);return Object.keys(n).every((function(e){return!isNaN(+e)}))?(0,y.jsxs)(H,{isElement:!0,children:[Object.values(n).join(""),(0,y.jsx)(v.HH,{type:"source",position:v.Ly.Left}),(0,y.jsx)(v.HH,{type:"target",position:v.Ly.Right})]}):(0,y.jsxs)(H,{children:[r.map((function(e){var t="string"===typeof e[1]||"number"===typeof e[1];return(0,y.jsxs)("div",{children:[(0,y.jsxs)(B,{children:[e[0],": "]}),t&&e[1]]},e[0])})),(0,y.jsx)(v.HH,{type:"source",id:t,position:v.Ly.Left}),(0,y.jsx)(v.HH,{type:"target",id:t,position:v.Ly.Right})]})}return null}},J=function(){var e=(0,p._)("json",JSON.stringify(x)),t=(0,c.Z)(e,1)[0],n=(0,p._)("layout","RL"),r=(0,c.Z)(n,1)[0],o=i.useState([]),a=(0,c.Z)(o,2),s=a[0],d=a[1],l=i.useState(null),u=(0,c.Z)(l,2),f=u[0],h=u[1],m=i.useState(!0),g=(0,c.Z)(m,2),j=g[0],b=g[1];return i.useEffect((function(){f&&f.fitView()}),[f]),i.useEffect((function(){try{var e=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=L(t);return N(e,r,n)}(r,t);d(e),b(!0)}catch(n){b(!1)}}),[f,t,r]),j?(0,y.jsx)(v.ZP,{nodeExtent:T,elements:s,nodeTypes:G,onLoad:function(e){return h(e)},children:(0,y.jsx)(v.ZX,{children:(0,y.jsx)(v.Bw,{onClick:function(){return d(N(r,s))},style:{gridColumn:"1 / 3",width:"auto"},children:"Format"})})}):null},V=s.ZP.div.withConfig({displayName:"LiveEditor__StyledLiveEditor",componentId:"sc-143se6z-0"})(["width:100%;height:100%;.react-flow__controls{display:grid;grid-auto-flow:dense;grid-template-columns:1fr 1fr;grid-auto-rows:1fr;gap:8px;right:10px;left:unset;}.react-flow__controls-button{background:",";fill:",";color:",";font-weight:600;border:1px solid ",";&:hover{background:unset;}}"],(function(e){return e.theme.BLACK_PRIMARY}),(function(e){return e.theme.SILVER}),(function(e){return e.theme.SILVER}),(function(e){return e.theme.BLACK})),D=function(){return(0,y.jsx)(V,{children:(0,y.jsx)(v.tV,{children:(0,y.jsx)(J,{})})})},K=n(9008),z=s.ZP.div.withConfig({displayName:"editor__StyledPageWrapper",componentId:"sc-19myogy-0"})(["display:flex;"]),F=s.ZP.div.withConfig({displayName:"editor__StyledIncompatible",componentId:"sc-19myogy-1"})(["display:none;@media only screen and (max-width:768px){position:fixed;top:0;left:0;display:flex;flex-direction:column;background:",';content:"This app is not compatible with your device!";color:',";width:100%;height:100vh;justify-content:center;align-items:center;button{margin-top:60px;}&::before{content:'Uh, oh!';font-weight:700;font-size:60px;opacity:0.6;}}"],(function(e){return e.theme.BLACK_LIGHT}),(function(e){return e.theme.SILVER})),U=s.ZP.div.withConfig({displayName:"editor__StyledEditorWrapper",componentId:"sc-19myogy-2"})(["width:100%;@media only screen and (max-width:768px){display:none;}"]),M=s.ZP.div.withConfig({displayName:"editor__StyledTools",componentId:"sc-19myogy-3"})(["display:flex;align-items:center;height:36px;border-bottom:1px solid ",";padding:4px 16px;background:",";color:",";"],(function(e){return e.theme.BLACK}),(function(e){return e.theme.BLACK_SECONDARY}),(function(e){return e.theme.SILVER})),W=s.ZP.div.withConfig({displayName:"editor__StyledEditor",componentId:"sc-19myogy-4"})(["display:flex;background:",";height:calc(100vh - 46px);"],(function(e){return e.theme.BLACK_LIGHT})),Y=function(){var e=(0,r.useRouter)();return(0,y.jsxs)(z,{children:[(0,y.jsx)(K.default,{children:(0,y.jsx)("title",{children:"Editor | JSON Visio"})}),(0,y.jsx)(k,{}),(0,y.jsxs)(U,{children:[(0,y.jsx)(M,{children:"Editor"}),(0,y.jsxs)(W,{children:[(0,y.jsx)(g,{}),(0,y.jsx)(D,{})]})]}),(0,y.jsxs)(F,{children:["This app is not compatible with your device!",(0,y.jsx)(o.z,{className:"incompatible",onClick:function(){return e.push("/")},children:"Go Back"})]})]})}},545:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/editor",function(){return n(9104)}])}},function(e){e.O(0,[617,228,445,740,825,124,774,888,179],(function(){return t=545,e(e.s=t);var t}));var t=e.O();_N_E=t}]);