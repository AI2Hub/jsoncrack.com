(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[154],{1862:function(e,t,n){"use strict";n.d(t,{z:function(){return f}});var r,i=n(9499),o=n(4730),c=(n(7294),n(186)),s=n(5893),a=["children","status"];function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.PRIMARY="SILVER_DARK",e.SECONDARY="BLURPLE",e.DANGER="DANGER",e.SUCCESS="SEAGREEN",e.WARNING="ORANGE"}(r||(r={}));var u=c.ZP.button.withConfig({displayName:"Button__StyledButton",componentId:"sc-6goz99-0"})(["display:block;background:",";color:",";cursor:pointer;padding:8px 16px;@media only screen and (max-width:768px){font-size:18px;}"],(function(e){return function(e,t){return t[r[e]]}(e.status,e.theme)}),(function(e){return e.theme.FULL_WHITE})),p=c.ZP.div.withConfig({displayName:"Button__StyledButtonContent",componentId:"sc-6goz99-1"})(["display:flex;justify-content:center;align-items:center;gap:8px;"]),f=function(e){var t=e.children,n=e.status,r=(0,o.Z)(e,a);return(0,s.jsx)(u,d(d({type:"button",status:null!==n&&void 0!==n?n:"PRIMARY"},r),{},{children:(0,s.jsx)(p,{children:t})}))}},9286:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return se}});var r=n(7294),i=n(9008),o=n(1163),c=n(186),s=n(5884),a=n(1862),l=n(9499),d=n(6835),u=n(1664),p=n(4059),f=n(9583),h=n(5434),x=n(8193),m=n(8336),y=n(4597),g=n(5893),j=(0,c.ZP)(m.Z).withConfig({displayName:"JsonEditor__StyledJSONInput",componentId:"sc-1sxvk25-0"})(["margin-top:10px;padding:5px;"]),b=[{Author:"J. K. Rowling.",Genre:"Fantasy",Characters:["Hermione Granger","Harry Potter","Lord Voldemort","MORE"],Books:[{title:"Philosopher's Stone",date:"1997"},{title:"Chamber of Secrets",date:"1998"},{title:"Prisoner of Azkaban",date:"1999"},{title:"Goblet of Fire",date:"1999"},{title:"Order of the Phoenix",date:"2003"},{title:"Half-Blood Prince",date:"2005"},{title:"Deathly Hallows",date:"2007"}]}],v=function(){var e=r.useState(0),t=(0,d.Z)(e,2),n=t[0],i=t[1],o=(0,p._)("json",JSON.stringify(b)),c=(0,d.Z)(o,2),s=c[0],a=c[1],l=r.useMemo((function(){return JSON.parse(s)}),[n]);r.useEffect((function(){"[]"===s&&i((function(e){return e+1}))}),[s]),r.useEffect((function(){var e=document.querySelector('[name="outer-box"] > div');e&&(e.style.transform="translate(-75%, 25%)")}),[]);return(0,g.jsx)(j,{placeholder:l,onChange:function(e){if(!e.error){if(""===e.json)return a("[]");a(e.json)}},locale:y.Z,height:"100%",width:"auto"})},w=n(4730),O=n(7812),S=["children"];function _(e){for(var t=function(e){try{"object"!==typeof e&&(e=JSON.parse(e)),Array.isArray(e)||(e=[e]);var t=function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(n=0,function(){return String(++n)});return t?[t].flat().map((function(t){return{id:r(),text:Object.fromEntries(Object.entries(t).filter((function(e){var t=(0,d.Z)(e,2),n=(t[0],t[1]);return!Array.isArray(n)&&!(n instanceof Object)}))),children:Object.entries(t).filter((function(e){var t=(0,d.Z)(e,2),n=(t[0],t[1]);return Array.isArray(n)||"object"===typeof n})).flatMap((function(t){var n=(0,d.Z)(t,2),i=n[0],o=n[1];return[{id:r(),text:i,children:e(o,r)}]}))}})):[]}(e);return[].concat((0,O.Z)(function e(t){return t.flatMap((function(t){var n=t.children;return[(0,w.Z)(t,S)].concat((0,O.Z)(e(n)))}))}(t)),(0,O.Z)(function e(t){return t.flatMap((function(t){var n=t.id,r=t.children,i=void 0===r?[]:r;return[].concat((0,O.Z)(i.map((function(e){var t=e.id;return{id:"e".concat(t,"-").concat(n),from:t,to:n}}))),(0,O.Z)(e(i)))}))}(t)))}catch(n){return console.error("An error occured while parsin JSON data!"),[]}}(e=JSON.parse(e)),n=[],r=[],i=0;i<t.length;i++){var o=t[i];if(E(o)){var c=P(o.text).split("\n"),s=c.map((function(e){return e.length})).sort((function(e,t){return e-t})).reverse()[0];n.push({id:o.id,text:o.text,width:35+8*s,height:30+10*c.length,data:{type:"special"}})}else r.push(o)}return{nodes:n,edges:r}}function N(e){switch(e){case"LEFT":return"UP";case"UP":return"RIGHT";case"RIGHT":return"DOWN";default:return"LEFT"}}function P(e){if(e instanceof Object){var t="",n=Object.entries(e);return Object.keys(e).every((function(e){return!isNaN(+e)}))?Object.values(e).join(""):(n.forEach((function(e){t+="".concat(e[0],": ").concat(e[1],"\n")})),t)}return e}function E(e){return"text"in e}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=c.ZP.div.withConfig({displayName:"Sidebar__StyledSidebar",componentId:"sc-77ih9s-0"})(["display:flex;justify-content:space-between;flex-direction:column;align-items:center;width:60px;background:#2f3136;padding:8px;border-right:1px solid ",";"],(function(e){return e.theme.SILVER_DARK})),I=c.ZP.div.withConfig({displayName:"Sidebar__StyledElement",componentId:"sc-77ih9s-1"})(["text-align:center;font-size:32px;font-weight:700;width:100%;color:",";cursor:pointer;pointer-events:",";a{text-align:center;width:100%;}svg{vertical-align:middle;}"],(function(e){var t=e.theme;return e.disabled?t.SILVER_DARK:t.SILVER}),(function(e){return e.disabled&&"none"})),k=c.ZP.span.withConfig({displayName:"Sidebar__StyledText",componentId:"sc-77ih9s-2"})(["color:",";"],(function(e){var t=e.theme;return e.secondary?t.FULL_WHITE:t.ORANGE})),z=c.ZP.nav.withConfig({displayName:"Sidebar__StyledTopWrapper",componentId:"sc-77ih9s-3"})(["display:flex;justify-content:space-between;flex-direction:column;align-items:center;width:100%;& > div,a{border-bottom:1px solid ",";}"],(function(e){return e.theme.SILVER_DARK})),L=c.ZP.nav.withConfig({displayName:"Sidebar__StyledBottomWrapper",componentId:"sc-77ih9s-4"})(["display:flex;justify-content:space-between;flex-direction:column;align-items:center;width:100%;& > div,a{border-top:1px solid ",";}"],(function(e){return e.theme.SILVER_DARK})),A=c.ZP.div.withConfig({displayName:"Sidebar__StyledLogo",componentId:"sc-77ih9s-5"})(["color:",";"],(function(e){return e.theme.FULL_WHITE})),T=c.ZP.label.withConfig({displayName:"Sidebar__StyledImportFile",componentId:"sc-77ih9s-6"})(['cursor:pointer;input[type="file"]{display:none;}']),D=function(){var e=r.useState(null),t=(0,d.Z)(e,2),n=t[0],i=t[1],o=(0,p._)("json",JSON.stringify(b)),c=(0,d.Z)(o,2),s=(c[0],c[1]),a=(0,p._)("config",{layout:"LEFT",minimap:!0,controls:!0}),m=(0,d.Z)(a,2),y=(m[0],m[1]),j=function(e){y((function(t){return R(R({},t),{},(0,l.Z)({},e,!t[e]))}))};return r.useEffect((function(){if(n){var e=new FileReader;e.readAsText(n,"UTF-8"),e.onload=function(e){var t;s(null===(t=e.target)||void 0===t?void 0:t.result)}}}),[n,s]),(0,g.jsxs)(Z,{children:[(0,g.jsxs)(z,{children:[(0,g.jsx)(I,{children:(0,g.jsx)(u.default,{href:"/",children:(0,g.jsx)("a",{children:(0,g.jsxs)(A,{children:[(0,g.jsx)(k,{children:"J"}),(0,g.jsx)(k,{secondary:!0,children:"V"})]})})})}),(0,g.jsx)(I,{title:"Home",children:(0,g.jsx)(u.default,{href:"/",children:(0,g.jsx)("a",{children:(0,g.jsx)(x.V9Z,{})})})}),(0,g.jsx)(I,{as:"a",onClick:function(){return s("[]")},title:"Clear JSON",children:(0,g.jsx)(x.XzY,{})}),(0,g.jsx)(I,{as:"a",onClick:function(){return y((function(e){return R(R({},e),{},{layout:N(e.layout)})}))},title:"Change Layout",children:(0,g.jsx)(h.u9z,{})}),(0,g.jsx)(I,{title:"Toggle Minimap",as:"a",onClick:function(){return j("minimap")},disabled:!0,children:(0,g.jsx)(f.Kth,{})}),(0,g.jsx)(I,{title:"Toggle Controls",as:"a",onClick:function(){return j("controls")},children:(0,g.jsx)(x.yLO,{})}),(0,g.jsx)(I,{title:"Import JSON File",children:(0,g.jsx)("a",{children:(0,g.jsxs)(T,{children:[(0,g.jsx)("input",{onChange:function(e){var t;e.target.files&&i(null===(t=e.target.files)||void 0===t?void 0:t.item(0))},type:"file",accept:"application/JSON"},null===n||void 0===n?void 0:n.name),(0,g.jsx)(f.Xur,{})]})})})]}),(0,g.jsxs)(L,{children:[(0,g.jsx)(I,{children:(0,g.jsx)(u.default,{href:"https://twitter.com/aykutsarach",children:(0,g.jsx)("a",{rel:"me",target:"_blank",children:(0,g.jsx)(x.h3E,{})})})}),(0,g.jsx)(I,{children:(0,g.jsx)(u.default,{href:"https://github.com/AykutSarac/jsonvisio.com",children:(0,g.jsx)("a",{rel:"me",target:"_blank",children:(0,g.jsx)(x.RrF,{})})})})]})]})},G=n(6126),V=n(3607);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J=(0,c.ZP)(V.Node).withConfig({displayName:"CustomNode__StyledNode",componentId:"sc-enntnn-0"})(["stroke:black;stroke-width:1;"]),H=c.ZP.div.withConfig({displayName:"CustomNode__StyledTextWrapper",componentId:"sc-enntnn-1"})(["position:absolute;display:flex;justify-content:center;align-items:center;font-size:12px;width:100%;height:100%;"]),K=c.ZP.pre.withConfig({displayName:"CustomNode__StyledText",componentId:"sc-enntnn-2"})(["width:",";height:",";color:",";"],(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.theme.SILVER})),W=c.ZP.foreignObject.withConfig({displayName:"CustomNode__StyledForeignObject",componentId:"sc-enntnn-3"})(['position:"relative" !important;pointer-events:"none" !important;width:',";height:",";"],(function(e){return e.width+"px"}),(function(e){return e.height+"px"})),U=c.ZP.span.withConfig({displayName:"CustomNode__StyledKey",componentId:"sc-enntnn-4"})(["color:",";"],(function(e){var t=e.theme,n=e.bond,r=e.arrayValue;return n?t.SEAGREEN:r?t.ORANGE:t.BLURPLE})),M={fill:"transparent",stroke:"transparent",strokeWidth:0},Y={fill:"black"},X=function(e){var t=e.nodeProps,n=t.properties;return(0,g.jsx)(J,F(F({label:(0,g.jsx)(V.Label,{style:M}),port:(0,g.jsx)(V.Port,{style:Y,rx:10,ry:10})},t),{},{children:function(e){var t=e.width,r=e.height;if(n.text instanceof Object){var i=Object.entries(n.text);return Object.keys(n.text).every((function(e){return!isNaN(+e)}))?(0,g.jsx)(W,{width:t,height:r,x:0,y:0,children:(0,g.jsx)(H,{children:(0,g.jsx)(K,{width:t,height:r,children:(0,g.jsx)(U,{arrayValue:!0,children:Object.values(n.text).join("")})})})}):(0,g.jsx)(W,{width:t,height:r,x:0,y:0,children:(0,g.jsx)(H,{children:(0,g.jsx)(K,{width:t,height:r,children:i.map((function(e){return(0,g.jsxs)("div",{style:{height:"fit-content"},children:[(0,g.jsxs)(U,{children:[e[0],": "]}),e[1]]})}))})})})}return(0,g.jsx)(W,{width:t,height:r,x:0,y:0,children:(0,g.jsx)(H,{children:(0,g.jsx)(K,{width:t,height:r,children:(0,g.jsx)(U,{bond:!0,children:n.text})})})})}}))},q=function(e){var t,n;return null!==(t=e.properties)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.type?(0,g.jsx)(X,{nodeProps:e}):(0,g.jsx)(V.Node,F({},e))},Q=c.ZP.div.withConfig({displayName:"LiveEditor__StyledLiveEditor",componentId:"sc-143se6z-0"})(["position:relative;border-left:3px solid ",";"],(function(e){return e.theme.SILVER_DARK})),$=c.ZP.div.withConfig({displayName:"LiveEditor__StyledEditorWrapper",componentId:"sc-143se6z-1"})(["position:absolute;"]),ee=c.ZP.div.withConfig({displayName:"LiveEditor__StyledControls",componentId:"sc-143se6z-2"})(["position:fixed;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr 1fr;gap:8px;bottom:8px;right:8px;opacity:0.8;"]),te=function(){var e=r.useRef(null),t=r.useRef(null),n=(0,p._)("json",JSON.stringify(b)),i=(0,d.Z)(n,1)[0],o=(0,p._)("config",{layout:"LEFT",minimap:!0,controls:!0}),c=(0,d.Z)(o,1)[0];r.useEffect((function(){var e;null===(e=t.current)||void 0===e||e.resetTransform()}),[i,t]);var s=_(i),l=s.nodes,u=s.edges;return(0,g.jsxs)(Q,{children:[(0,g.jsx)($,{children:(0,g.jsx)(G.d$,{maxScale:2,minScale:.4,initialScale:.8,ref:t,limitToBounds:!1,wheel:{step:.4},children:(0,g.jsx)(G.Uv,{children:(0,g.jsx)(V.Canvas,{ref:e,nodes:l,edges:u,layoutOptions:{"elk.direction":c.layout},maxWidth:2e4,maxHeight:2e4,center:!1,zoomable:!1,fit:!0,readonly:!0,animated:!0,node:q})})})}),c.controls&&(0,g.jsxs)(ee,{children:[(0,g.jsx)(a.z,{onClick:function(){return function(e){var n,r,i;null!==(n=t.current)&&void 0!==n&&n.state.scale&&(null===(r=t.current)||void 0===r?void 0:r.state.scale)<2&&(null===(i=t.current)||void 0===i||i.setTransform(t.current.instance.transformState.positionX-200,t.current.instance.transformState.positionY-200,t.current.state.scale+e))}(.6)},children:(0,g.jsx)(x.SxL,{size:20})}),(0,g.jsx)(a.z,{onClick:function(){return function(e){var n,r,i;null!==(n=t.current)&&void 0!==n&&n.state.scale&&(null===(r=t.current)||void 0===r?void 0:r.state.scale)>.4&&(null===(i=t.current)||void 0===i||i.setTransform(t.current.instance.transformState.positionX+200,t.current.instance.transformState.positionY+200,t.current.state.scale-e))}(.4)},children:(0,g.jsx)(x.aAQ,{size:20})}),(0,g.jsx)(a.z,{onClick:function(){var e;return null===(e=t.current)||void 0===e?void 0:e.resetTransform()},children:(0,g.jsx)(x.vju,{size:20})}),(0,g.jsx)(a.z,{children:(0,g.jsx)(x.gg_,{size:20})})]})]})},ne=c.ZP.div.withConfig({displayName:"editor__StyledPageWrapper",componentId:"sc-19myogy-0"})(["display:flex;"]),re=c.ZP.div.withConfig({displayName:"editor__StyledIncompatible",componentId:"sc-19myogy-1"})(["display:none;@media only screen and (max-width:568px){position:fixed;top:0;left:0;display:flex;flex-direction:column;background:",';content:"This app is not compatible with your device!";color:',';width:100%;height:100vh;justify-content:center;align-items:center;button{margin-top:60px;}&::before{content:"Uh, oh!";font-weight:700;font-size:60px;opacity:0.6;}}'],(function(e){return e.theme.BLACK_LIGHT}),(function(e){return e.theme.SILVER})),ie=c.ZP.div.withConfig({displayName:"editor__StyledEditorWrapper",componentId:"sc-19myogy-2"})(["width:100%;overflow:hidden;@media only screen and (max-width:568px){display:none;}"]),oe=c.ZP.div.withConfig({displayName:"editor__StyledTools",componentId:"sc-19myogy-3"})(["display:flex;align-items:center;height:15px;border-bottom:1px solid ",";padding:4px 16px;background:",";color:",";"],(function(e){return e.theme.BLACK}),(function(e){return e.theme.BLACK_SECONDARY}),(function(e){return e.theme.SILVER})),ce=(0,c.ZP)(s.Z).withConfig({displayName:"editor__StyledEditor",componentId:"sc-19myogy-4"})(["position:relative !important;display:flex;background:",";height:calc(100vh - 26px) !important;.Resizer{background:#000;opacity:0.2;z-index:1;box-sizing:border-box;background-clip:padding-box;}.Resizer:hover{transition:all 2s ease;}.Resizer.horizontal{height:11px;margin:-5px 0;border-top:5px solid rgba(255,255,255,0);border-bottom:5px solid rgba(255,255,255,0);cursor:row-resize;width:100%;}.Resizer.horizontal:hover{border-top:5px solid rgba(0,0,0,0.5);border-bottom:5px solid rgba(0,0,0,0.5);}.Resizer.vertical{width:11px;margin:0 -5px;border-left:5px solid rgba(255,255,255,0);border-right:5px solid rgba(255,255,255,0);cursor:col-resize;}.Resizer.vertical:hover{border-left:5px solid rgba(0,0,0,0.5);border-right:5px solid rgba(0,0,0,0.5);}.Resizer.disabled{cursor:not-allowed;}.Resizer.disabled:hover{border-color:transparent;}"],(function(e){return e.theme.BLACK_LIGHT})),se=function(){var e=(0,o.useRouter)();return(0,g.jsxs)(ne,{children:[(0,g.jsx)(i.default,{children:(0,g.jsx)("title",{children:"Editor | JSON Visio"})}),(0,g.jsx)(D,{}),(0,g.jsxs)(ie,{children:[(0,g.jsx)(oe,{}),(0,g.jsxs)(ce,{maxSize:800,minSize:300,defaultSize:450,split:"vertical",children:[(0,g.jsx)(v,{}),(0,g.jsx)(te,{})]})]}),(0,g.jsxs)(re,{children:["This app is not compatible with your device!",(0,g.jsx)(a.z,{className:"incompatible",onClick:function(){return e.push("/")},children:"Go Back"})]})]})}},545:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/editor",function(){return n(9286)}])}},function(e){e.O(0,[617,228,445,319,987,825,872,774,888,179],(function(){return t=545,e(e.s=t);var t}));var t=e.O();_N_E=t}]);