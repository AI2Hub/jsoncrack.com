(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[83],{2776:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Widget",function(){return t(3237)}])},638:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(6856).Z;Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){var t=i.default,u=(null==n?void 0:n.suspense)?{}:{loading:function(e){e.error,e.isLoading;return e.pastDelay,null}};r(e,Promise)?u.loader=function(){return e}:"function"===typeof e?u.loader=e:"object"===typeof e&&(u=o({},u,e));!1;(u=o({},u,n)).suspense&&(delete u.ssr,delete u.loading);u.loadableGenerated&&delete(u=o({},u,u.loadableGenerated)).loadableGenerated;if("boolean"===typeof u.ssr&&!u.suspense){if(!u.ssr)return delete u.ssr,a(t,u);delete u.ssr}return t(u)},n.noSSR=a;var o=t(6495).Z,u=t(2648).Z,i=(u(t(7294)),u(t(4302)));function a(e,n){return delete n.webpack,delete n.modules,e(n)}("function"===typeof n.default||"object"===typeof n.default&&null!==n.default)&&"undefined"===typeof n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),e.exports=n.default)},6319:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.LoadableContext=void 0;var r=(0,t(2648).Z)(t(7294)).default.createContext(null);n.LoadableContext=r},4302:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(9658).Z,o=t(7222).Z;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var u=t(6495).Z,i=(0,t(2648).Z)(t(7294)),a=t(6319),l=t(7294).useSyncExternalStore,s=[],d=[],c=!1;function f(e){var n=e(),t={loading:!0,loaded:null,error:null};return t.promise=n.then((function(e){return t.loading=!1,t.loaded=e,e})).catch((function(e){throw t.loading=!1,t.error=e,e})),t}var p=function(){function e(n,t){r(this,e),this._loadFn=n,this._opts=t,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}return o(e,[{key:"promise",value:function(){return this._res.promise}},{key:"retry",value:function(){var e=this;this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};var n=this._res,t=this._opts;n.loading&&("number"===typeof t.delay&&(0===t.delay?this._state.pastDelay=!0:this._delay=setTimeout((function(){e._update({pastDelay:!0})}),t.delay)),"number"===typeof t.timeout&&(this._timeout=setTimeout((function(){e._update({timedOut:!0})}),t.timeout))),this._res.promise.then((function(){e._update({}),e._clearTimeouts()})).catch((function(n){e._update({}),e._clearTimeouts()})),this._update({})}},{key:"_update",value:function(e){this._state=u({},this._state,{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading},e),this._callbacks.forEach((function(e){return e()}))}},{key:"_clearTimeouts",value:function(){clearTimeout(this._delay),clearTimeout(this._timeout)}},{key:"getCurrentValue",value:function(){return this._state}},{key:"subscribe",value:function(e){var n=this;return this._callbacks.add(e),function(){n._callbacks.delete(e)}}}]),e}();function h(e){return function(e,n){var t=function(){if(!s){var n=new p(e,o);s={getCurrentValue:n.getCurrentValue.bind(n),subscribe:n.subscribe.bind(n),retry:n.retry.bind(n),promise:n.promise.bind(n)}}return s.promise()},r=function(){t();var e=i.default.useContext(a.LoadableContext);e&&Array.isArray(o.modules)&&o.modules.forEach((function(n){e(n)}))},o=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null,suspense:!1},n);o.suspense&&(o.lazy=i.default.lazy(o.loader));var s=null;if(!c){var f=o.webpack?o.webpack():o.modules;f&&d.push((function(e){var n=!0,r=!1,o=void 0;try{for(var u,i=f[Symbol.iterator]();!(n=(u=i.next()).done);n=!0){var a=u.value;if(-1!==e.indexOf(a))return t()}}catch(l){r=!0,o=l}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}}))}var h=o.suspense?function(e,n){return r(),i.default.createElement(o.lazy,u({},e,{ref:n}))}:function(e,n){r();var t=l(s.subscribe,s.getCurrentValue,s.getCurrentValue);return i.default.useImperativeHandle(n,(function(){return{retry:s.retry}}),[]),i.default.useMemo((function(){return t.loading||t.error?i.default.createElement(o.loading,{isLoading:t.loading,pastDelay:t.pastDelay,timedOut:t.timedOut,error:t.error,retry:s.retry}):t.loaded?i.default.createElement((n=t.loaded)&&n.__esModule?n.default:n,e):null;var n}),[e,t])};return h.preload=function(){return t()},h.displayName="LoadableComponent",i.default.forwardRef(h)}(f,e)}function v(e,n){for(var t=[];e.length;){var r=e.pop();t.push(r(n))}return Promise.all(t).then((function(){if(e.length)return v(e,n)}))}h.preloadAll=function(){return new Promise((function(e,n){v(s).then(e,n)}))},h.preloadReady=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise((function(n){var t=function(){return c=!0,n()};v(d,e).then(t,t)}))},window.__NEXT_PRELOADREADY=h.preloadReady;var y=h;n.default=y},3719:function(e,n,t){"use strict";t.d(n,{Z:function(){return f}});var r=t(4924),o=t(6042),u=t(9396),i=t(828),a=function(e,n){var t=e.map((function(e){return e.id}));return n.filter((function(e){return t.includes(e.from)||t.includes(e.to)}))},l=t(9815),s=function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=[],u=[],i=function(e){var a,s=t.filter((function(n){return n.from===e})).map((function(e){return e.to})),d=n.filter((function(e){return r.includes(e.id)&&!u.includes(e.id)&&u.push(e.id),s.includes(e.id)&&!r.includes(e.id)}));(a=o).push.apply(a,(0,l.Z)(d)),d.forEach((function(e){return i(e.id)}))};return i(e),[o,u]},d=t(6902),c={loading:!1,graphCollapsed:!1,nodes:[],edges:[],collapsedNodes:[],collapsedEdges:[],collapsedParents:[]},f=(0,d.ZP)((function(e,n){return(0,u.Z)((0,o.Z)({},c),{setGraphValue:function(n,t){return e((0,r.Z)({collapsedParents:[],collapsedNodes:[],collapsedEdges:[]},n,t))},expandNodes:function(t){var r=(0,i.Z)(s(t,n().nodes,n().edges,n().collapsedParents),2),o=r[0],u=r[1],l=a(o,n().edges),d=o.map((function(e){return e.id})).concat(u),c=l.map((function(e){return e.id})),f=n().collapsedParents.filter((function(e){return e!==t})),p=n().collapsedNodes.filter((function(e){return!d.includes(e)})),h=n().collapsedEdges.filter((function(e){return!c.includes(e)}));e({collapsedParents:f,collapsedNodes:p,collapsedEdges:h,graphCollapsed:!1})},collapseNodes:function(t){var r=(0,i.Z)(s(t,n().nodes,n().edges),1)[0],o=a(r,n().edges),u=r.map((function(e){return e.id})),l=o.map((function(e){return e.id}));e({collapsedParents:n().collapsedParents.concat(t),collapsedNodes:n().collapsedNodes.concat(u),collapsedEdges:n().collapsedEdges.concat(l)})},collapseGraph:function(){var t=n().edges,r=t.map((function(e){return e.to})),o=t.map((function(e){return e.from})).filter((function(e){return!r.includes(e)})),u=t.filter((function(e){return o.includes(e.from)})).map((function(e){return e.to}));e({collapsedParents:n().nodes.filter((function(e){return!o.includes(e.id)&&e.data.isParent})).map((function(e){return e.id})),collapsedNodes:n().nodes.filter((function(e){return!o.includes(e.id)&&!u.includes(e.id)})).map((function(e){return e.id})),collapsedEdges:n().edges.filter((function(e){return!o.includes(e.from)})).map((function(e){return e.id})),graphCollapsed:!0})},expandGraph:function(){e({collapsedNodes:[],collapsedEdges:[],collapsedParents:[],graphCollapsed:!1})}})}))},3237:function(e,n,t){"use strict";t.r(n);var r=t(7297),o=t(5893),u=t(7294),i=t(5152),a=t.n(i),l=t(1163),s=t(8305),d=t(6065),c=t(9193),f=t(3719),p=t(9833),h=t(369),v=t(9521);function y(){var e=(0,r.Z)(["\n  position: fixed;\n  bottom: 0;\n  right: 0;\n  color: ",";\n  background: ",";\n  padding: 4px 8px;\n  font-size: 14px;\n  font-weight: 500;\n  border-radius: 3px 0 0 0;\n  opacity: 0.8;\n\n  @media only screen and (max-width: 768px) {\n    font-size: 12px;\n  }\n"]);return y=function(){return e},e}var m=a()((function(){return Promise.all([t.e(228),t.e(987),t.e(434),t.e(847),t.e(62),t.e(628)]).then(t.bind(t,4062)).then((function(e){return e.Graph}))}),{loadableGenerated:{webpack:function(){return[4062]}},ssr:!1}),g=v.ZP.a(y(),(function(e){return e.theme.INTERACTIVE_NORMAL}),(function(e){return e.theme.SILVER_DARK}));n.default=function(){var e=(0,l.useRouter)(),n=e.query,t=e.push,r=(0,f.Z)((function(e){return e.setGraphValue}));return u.useEffect((function(){if(n.json){var e=decodeURIComponent(n.json),o=(0,p.V)(e);if(o){var u=(0,s.Lj)((0,d.Qc)(o)),i=(0,h.E)(JSON.stringify(u)),a=i.nodes,l=i.edges;r("nodes",a),r("edges",l)}}(function(){try{return window.self!==window.top}catch(e){return!0}})()||t("/")}),[t,n.json,r]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(m,{isWidget:!0}),(0,o.jsx)(g,{href:"".concat(c.v,"/editor?json=").concat(n.json),target:"_blank",rel:"noreferrer",children:"jsoncrack.com"})]})}},369:function(e,n,t){"use strict";t.d(n,{E:function(){return y}});var r=t(2670),o=t(9534),u=t(828),i=t(9815),a=t(6065),l=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2?arguments[2]:void 0,r=("string"===typeof e?e:e.map((function(e){var n=(0,u.Z)(e,2),t=n[0],r=n[1];return"".concat(t,": ").concat(r)})).join("\n")).split("\n"),o=r.map((function(e){return e.length})),i=o.sort((function(e,n){return n-e}))[0],a=function(){return Array.isArray(e)&&!e.length?40:t?35+8*i+(n?60:0):n?170:200},l=function(){return 17.8*r.length<30?40:18*(r.length+1)};return{width:a(),height:l()}},s=function(e){var n=(0,u.Z)(e,2),t=(n[0],n[1]),o=null===t,i=Array.isArray(t)&&t.length,a=(0,r.Z)(t,Object);return!o&&(i||a)},d=function(e){var n=(0,u.Z)(e,2),t=(n[0],n[1]);return!Array.isArray(t)&&!(0,r.Z)(t,Object)};function c(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=arguments.length>2?arguments[2]:void 0;return(0,r.Z)(e,Object)||(e=[e]),Object.entries(e).filter(s).flatMap((function(e){var r=(0,u.Z)(e,2),o=r[0],i=r[1],a=l(o,!0,n),s=a.width,d=a.height,c=p(i,n,t);return[{id:t(),text:o,children:c,width:s,height:d,data:{isParent:!0,childrenCount:c.length}}]}))}function f(e){return(0,r.Z)(e,Object)?Object.entries(e).filter(d):String(e)}var p=function(e){var n,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(n=0,function(){return String(++n)});return e?[e].flat().map((function(e){var n=f(e),o=l(n,!1,t),u=o.width,i=o.height;return{id:r(),text:n,width:u,height:i,children:c(e,t,r),data:{isParent:!1,childrenCount:0,isEmpty:!n.length}}})):[]},h=function(e){return e.flatMap((function(e){var n=e.children;return[(0,o.Z)(e,["children"])].concat((0,i.Z)(h(n)))}))},v=function(e){return e.flatMap((function(e){var n=e.id,t=e.children,r=void 0===t?[]:t;return(0,i.Z)(r.map((function(e){var t=e.id;return{id:"e".concat(n,"-").concat(t),from:n,to:t}}))).concat((0,i.Z)(v(r)))}))},y=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{var t=(0,a.Qc)(e);Array.isArray(t)||(t=[t]);var r=[],o=[],u=p(t,n),l=(0,i.Z)(h(u)).concat((0,i.Z)(v(u)));return l.forEach((function(e){m(e)?r.push(e):o.push(e)})),{nodes:r,edges:o}}catch(s){return console.error(s),{nodes:[],edges:[]}}};function m(e){return"text"in e}},5152:function(e,n,t){e.exports=t(638)},2670:function(e,n,t){"use strict";function r(e,n){return null!=n&&"undefined"!==typeof Symbol&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](e):e instanceof n}t.d(n,{Z:function(){return r}})},9534:function(e,n,t){"use strict";function r(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},u=Object.keys(e);for(r=0;r<u.length;r++)t=u[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(r=0;r<u.length;r++)t=u[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}t.d(n,{Z:function(){return r}})},9815:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var r=t(943);var o=t(3375);var u=t(1566);function i(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,o.Z)(e)||(0,u.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}},function(e){e.O(0,[774,888,179],(function(){return n=2776,e(e.s=n);var n}));var n=e.O();_N_E=n}]);