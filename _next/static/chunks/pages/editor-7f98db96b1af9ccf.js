(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[154],{1862:function(e,t,n){"use strict";n.d(t,{z:function(){return p}});var r,i=n(9499),o=n(4730),c=(n(7294),n(186)),s=n(5893),a=["children","status"];function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.PRIMARY="SILVER_DARK",e.SECONDARY="BLURPLE",e.DANGER="DANGER",e.SUCCESS="SEAGREEN",e.WARNING="ORANGE"}(r||(r={}));var u=c.ZP.button.withConfig({displayName:"Button__StyledButton",componentId:"sc-6goz99-0"})(["display:block;background:",";color:",";cursor:pointer;padding:8px 16px;@media only screen and (max-width:768px){font-size:18px;}"],(function(e){return function(e,t){return t[r[e]]}(e.status,e.theme)}),(function(e){return e.theme.FULL_WHITE})),f=c.ZP.div.withConfig({displayName:"Button__StyledButtonContent",componentId:"sc-6goz99-1"})(["display:flex;justify-content:center;align-items:center;gap:8px;"]),p=function(e){var t=e.children,n=e.status,r=(0,o.Z)(e,a);return(0,s.jsx)(u,d(d({type:"button",status:null!==n&&void 0!==n?n:"PRIMARY"},r),{},{children:(0,s.jsx)(f,{children:t})}))}},753:function(e,t,n){"use strict";n.d(t,{d:function(){return r},u:function(){return i}});var r=[{Author:"J. K. Rowling.",Genre:"Fantasy",Characters:["Hermione Granger","Harry Potter","Lord Voldemort","MORE"],Books:[{title:"Philosopher's Stone",date:"1997"},{title:"Chamber of Secrets",date:"1998"},{title:"Prisoner of Azkaban",date:"1999"},{title:"Goblet of Fire",date:"1999"},{title:"Order of the Phoenix",date:"2003"},{title:"Half-Blood Prince",date:"2005"},{title:"Deathly Hallows",date:"2007"}]}],i={layout:"LEFT",expand:!0,controls:!0,autoformat:!0}},6547:function(e,t,n){"use strict";n.d(t,{h:function(){return l},a:function(){return d}});var r=n(4730),i=n(7812),o=n(6835),c=n(4931),s=["children"],a=function(e){try{"object"!==typeof e&&(e=JSON.parse(e)),Array.isArray(e)||(e=[e]);var t=function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(n=0,function(){return String(++n)});return t?[t].flat().map((function(t){return{id:r(),text:Object.fromEntries(Object.entries(t).filter((function(e){var t=(0,o.Z)(e,2),n=(t[0],t[1]);return!Array.isArray(n)&&!(n instanceof Object)}))),children:Object.entries(t).filter((function(e){var t=(0,o.Z)(e,2),n=(t[0],t[1]);return Array.isArray(n)||"object"===typeof n})).flatMap((function(t){var n=(0,o.Z)(t,2),i=n[0],c=n[1];return[{id:r(),text:i,children:e(c,r)}]}))}})):[]}(e);return[].concat((0,i.Z)(function e(t){return t.flatMap((function(t){var n=t.children;return[(0,r.Z)(t,s)].concat((0,i.Z)(e(n)))}))}(t)),(0,i.Z)(function e(t){return t.flatMap((function(t){var n=t.id,r=t.children,o=void 0===r?[]:r;return[].concat((0,i.Z)(o.map((function(e){var t=e.id;return{id:"e".concat(t,"-").concat(n),from:t,to:n}}))),(0,i.Z)(e(o)))}))}(t)))}catch(n){return c.ZP.error("An error occured while parsin JSON data!"),[]}};function l(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e=JSON.parse(e);for(var n=a(e),r=[],i=[],o=0;o<n.length;o++){var c=n[o];if(f(c)){var s=u(c.text),l=s.split("\n"),d=l.map((function(e){return e.length})).sort((function(e,t){return e-t})),p=d.reverse()[0];r.push({id:c.id,text:c.text,width:t?35+8*p:180,height:t?30+10*l.length:50})}else i.push(c)}return{nodes:r,edges:i}}function d(e){switch(e){case"LEFT":return"UP";case"UP":return"RIGHT";case"RIGHT":return"DOWN";default:return"LEFT"}}function u(e){if(e instanceof Object){var t="",n=Object.entries(e);return Object.keys(e).every((function(e){return!isNaN(+e)}))?Object.values(e).join(""):(n.forEach((function(e){t+="".concat(e[0],": ").concat(e[1],"\n")})),t)}return e}function f(e){return"text"in e}},9943:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return B}});var r=n(6835),i=n(7294),o=n(9008),c=n(1163),s=n(186),a=n(5884),l=n(1862),d=n(753),u=n(5152),f=n(6126),p=n(4059),h=n(3607),x=n(6547),m=n(9499),y=n(5893);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=s.ZP.div.withConfig({displayName:"CustomNode__StyledTextWrapper",componentId:"sc-enntnn-0"})(["position:absolute;display:flex;justify-content:center;align-items:center;font-size:12px;width:100%;height:100%;overflow:hidden;&:hover{cursor:pointer;stroke:white !important;}"]),j=s.ZP.pre.withConfig({displayName:"CustomNode__StyledText",componentId:"sc-enntnn-1"})(["display:flex;justify-content:center;flex-direction:column;width:",";height:",";color:",";"],(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.theme.SILVER})),w=s.ZP.foreignObject.withConfig({displayName:"CustomNode__StyledForeignObject",componentId:"sc-enntnn-2"})(['position:"relative" !important;pointer-events:"none" !important;width:',";height:",";"],(function(e){return e.width+"px"}),(function(e){return e.height+"px"})),O=s.ZP.span.withConfig({displayName:"CustomNode__StyledKey",componentId:"sc-enntnn-3"})(["color:",";"],(function(e){var t=e.theme,n=e.bond,r=e.arrayValue;return n?t.SEAGREEN:r?t.ORANGE:t.BLURPLE})),S={fill:"transparent",stroke:"transparent",strokeWidth:0},P={fill:"black"},_=function(e){var t=e.properties;return(0,y.jsx)(h.Node,b(b({},e),{},{label:(0,y.jsx)(h.Label,{style:S}),port:(0,y.jsx)(h.Port,{style:P,rx:10,ry:10}),children:function(e){var n=e.width,r=e.height;if(t.text instanceof Object){var i=Object.entries(t.text);if(Object.keys(t.text).every((function(e){return!isNaN(+e)}))){var o=Object.values(t.text).join("");return(0,y.jsx)(w,{width:n,height:r,x:0,y:0,children:(0,y.jsx)(v,{children:(0,y.jsx)(j,{width:n,height:r,children:(0,y.jsx)(O,{arrayValue:!0,children:o})})})})}return(0,y.jsx)(w,{width:n,height:r,x:0,y:0,children:(0,y.jsx)(v,{children:(0,y.jsx)(j,{width:n,height:r,children:i.map((function(e,t){return null!==e[1]&&(0,y.jsxs)("div",{style:{height:"fit-content",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",padding:"0 auto",width:n-20},children:[(0,y.jsxs)(O,{children:[e[0],": "]}),e[1]]},t)}))})})})}return(0,y.jsx)(w,{width:n,height:r,x:0,y:0,children:(0,y.jsx)(v,{children:(0,y.jsx)(j,{width:n,height:r,children:(0,y.jsx)(O,{bond:!0,children:t.text})})})})}}))},E=n(8193),N=n(4931),C=s.ZP.div.withConfig({displayName:"LiveEditor__StyledLiveEditor",componentId:"sc-143se6z-0"})(["position:relative;border-left:3px solid ",";"],(function(e){return e.theme.SILVER_DARK})),z=s.ZP.div.withConfig({displayName:"LiveEditor__StyledEditorWrapper",componentId:"sc-143se6z-1"})(["position:absolute;"]),R=s.ZP.div.withConfig({displayName:"LiveEditor__StyledControls",componentId:"sc-143se6z-2"})(["position:fixed;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr 1fr;gap:8px;bottom:8px;right:8px;opacity:0.9;button:hover{opacity:0.5;}"]),Z=function(e){var t=e.json,n=function(){var e=(0,i.useState)(!1),t=e[0],n=e[1];return(0,i.useEffect)((function(){return n(!0)}),[]),t}(),o=i.useRef(null),c=i.useRef(null),s=(0,p._)("config",d.u),a=(0,r.Z)(s,1)[0];i.useEffect((function(){var e;c.current&&(null===(e=c.current)||void 0===e||e.resetTransform())}),[t,c]);var u=(0,x.h)(t,a.expand),m=u.nodes,g=u.edges;return n?(0,y.jsxs)(C,{children:[(0,y.jsx)(z,{children:(0,y.jsx)(f.d$,{maxScale:2,minScale:.4,initialScale:.8,ref:c,limitToBounds:!1,wheel:{step:.4},children:(0,y.jsx)(f.Uv,{children:(0,y.jsx)(h.Canvas,{ref:o,nodes:m,edges:g,layoutOptions:{"elk.direction":a.layout},maxWidth:2e4,maxHeight:2e4,center:!1,zoomable:!1,fit:!0,readonly:!0,animated:!0,node:_})})})}),a.controls&&(0,y.jsxs)(R,{children:[(0,y.jsx)(l.z,{onClick:function(){return function(e){var t,n,r;null!==(t=c.current)&&void 0!==t&&t.state.scale&&(null===(n=c.current)||void 0===n?void 0:n.state.scale)<2&&(null===(r=c.current)||void 0===r||r.setTransform(c.current.instance.transformState.positionX-200,c.current.instance.transformState.positionY-200,c.current.state.scale+e))}(.5)},children:(0,y.jsx)(E.SxL,{size:24})}),(0,y.jsx)(l.z,{onClick:function(){return function(e){var t,n,r;null!==(t=c.current)&&void 0!==t&&t.state.scale&&(null===(n=c.current)||void 0===n?void 0:n.state.scale)>.4&&(null===(r=c.current)||void 0===r||r.setTransform(c.current.instance.transformState.positionX+200,c.current.instance.transformState.positionY+200,c.current.state.scale-e))}(.4)},children:(0,y.jsx)(E.aAQ,{size:24})}),(0,y.jsx)(l.z,{onClick:function(){var e;return null===(e=c.current)||void 0===e?void 0:e.resetTransform()},children:(0,y.jsx)(E.vju,{size:24})}),(0,y.jsx)(l.z,{onClick:function(){localStorage.setItem("json",t),N.ZP.success("Saved JSON successfully!")},children:(0,y.jsx)(E.gg_,{size:24})})]})]}):null},k=(0,u.default)((function(){return Promise.all([n.e(281),n.e(966),n.e(346)]).then(n.bind(n,4346))}),{ssr:!1,loadableGenerated:{webpack:function(){return[4346]}}}),I=(0,u.default)((function(){return Promise.all([n.e(228),n.e(445),n.e(955),n.e(991)]).then(n.bind(n,8991))}),{ssr:!1,loadableGenerated:{webpack:function(){return[8991]}}}),A=s.ZP.div.withConfig({displayName:"editor__StyledPageWrapper",componentId:"sc-19myogy-0"})(["display:flex;"]),L=s.ZP.div.withConfig({displayName:"editor__StyledIncompatible",componentId:"sc-19myogy-1"})(["display:none;@media only screen and (max-width:568px){position:fixed;top:0;left:0;display:flex;flex-direction:column;background:",";color:",';width:100%;height:100vh;justify-content:center;align-items:center;button{margin-top:60px;}&::before{content:"Uh, oh!";font-weight:700;font-size:60px;opacity:0.6;}}'],(function(e){return e.theme.BLACK_LIGHT}),(function(e){return e.theme.SILVER})),T=s.ZP.div.withConfig({displayName:"editor__StyledEditorWrapper",componentId:"sc-19myogy-2"})(["width:100%;overflow:hidden;@media only screen and (max-width:568px){display:none;}"]),G=s.ZP.div.withConfig({displayName:"editor__StyledTools",componentId:"sc-19myogy-3"})(["display:flex;align-items:center;height:15px;border-bottom:1px solid ",";padding:4px 16px;background:",";color:",";"],(function(e){return e.theme.BLACK}),(function(e){return e.theme.BLACK_SECONDARY}),(function(e){return e.theme.SILVER})),D=(0,s.ZP)(a.Z).withConfig({displayName:"editor__StyledEditor",componentId:"sc-19myogy-4"})(["position:relative !important;display:flex;background:",";height:calc(100vh - 26px) !important;.Resizer{background:#000;opacity:0.2;z-index:1;box-sizing:border-box;background-clip:padding-box;}.Resizer:hover{transition:all 2s ease;}.Resizer.horizontal{height:11px;margin:-5px 0;border-top:5px solid rgba(255,255,255,0);border-bottom:5px solid rgba(255,255,255,0);cursor:row-resize;width:100%;}.Resizer.horizontal:hover{border-top:5px solid rgba(0,0,0,0.5);border-bottom:5px solid rgba(0,0,0,0.5);}.Resizer.vertical{width:11px;margin:0 -5px;border-left:5px solid rgba(255,255,255,0);border-right:5px solid rgba(255,255,255,0);cursor:col-resize;}.Resizer.vertical:hover{border-left:5px solid rgba(0,0,0,0.5);border-right:5px solid rgba(0,0,0,0.5);}.Resizer.disabled{cursor:not-allowed;}.Resizer.disabled:hover{border-color:transparent;}"],(function(e){return e.theme.BLACK_LIGHT})),B=function(){var e=i.useState(JSON.stringify(d.d)),t=(0,r.Z)(e,2),n=t[0],s=t[1],a=(0,c.useRouter)();return i.useEffect((function(){var e=localStorage.getItem("json");e&&s(e)}),[]),(0,y.jsxs)(A,{children:[(0,y.jsx)(o.default,{children:(0,y.jsx)("title",{children:"Editor | JSON Visio"})}),(0,y.jsx)(I,{setJson:s}),(0,y.jsxs)(T,{children:[(0,y.jsx)(G,{}),(0,y.jsxs)(D,{maxSize:800,minSize:300,defaultSize:450,split:"vertical",children:[(0,y.jsx)(k,{json:n,setJson:s}),(0,y.jsx)(Z,{json:n,setJson:s})]})]}),(0,y.jsxs)(L,{children:["This app is not compatible with your device!",(0,y.jsx)(l.z,{className:"incompatible",onClick:function(){return a.push("/")},children:"Go Back"})]})]})}},545:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/editor",function(){return n(9943)}])}},function(e){e.O(0,[774,617,319,987,683,888,179],(function(){return t=545,e(e.s=t);var t}));var t=e.O();_N_E=t}]);