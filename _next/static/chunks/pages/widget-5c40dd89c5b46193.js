(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[110],{4469:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/widget",function(){return t(65622)}])},90638:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(96856).Z;Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){var t=u.default,i=(null==n?void 0:n.suspense)?{}:{loading:function(e){e.error,e.isLoading;return e.pastDelay,null}};r(e,Promise)?i.loader=function(){return e}:"function"===typeof e?i.loader=e:"object"===typeof e&&(i=o({},i,e));!1;(i=o({},i,n)).suspense&&(delete i.ssr,delete i.loading);i.loadableGenerated&&delete(i=o({},i,i.loadableGenerated)).loadableGenerated;if("boolean"===typeof i.ssr&&!i.suspense){if(!i.ssr)return delete i.ssr,a(t,i);delete i.ssr}return t(i)},n.noSSR=a;var o=t(6495).Z,i=t(92648).Z,u=(i(t(67294)),i(t(14302)));function a(e,n){return delete n.webpack,delete n.modules,e(n)}("function"===typeof n.default||"object"===typeof n.default&&null!==n.default)&&"undefined"===typeof n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),e.exports=n.default)},16319:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.LoadableContext=void 0;var r=(0,t(92648).Z)(t(67294)).default.createContext(null);n.LoadableContext=r},14302:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(79658).Z,o=t(7222).Z;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=t(6495).Z,u=(0,t(92648).Z)(t(67294)),a=t(16319),l=t(67294).useSyncExternalStore,s=[],c=[],d=!1;function f(e){var n=e(),t={loading:!0,loaded:null,error:null};return t.promise=n.then((function(e){return t.loading=!1,t.loaded=e,e})).catch((function(e){throw t.loading=!1,t.error=e,e})),t}var h=function(){function e(n,t){r(this,e),this._loadFn=n,this._opts=t,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}return o(e,[{key:"promise",value:function(){return this._res.promise}},{key:"retry",value:function(){var e=this;this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};var n=this._res,t=this._opts;n.loading&&("number"===typeof t.delay&&(0===t.delay?this._state.pastDelay=!0:this._delay=setTimeout((function(){e._update({pastDelay:!0})}),t.delay)),"number"===typeof t.timeout&&(this._timeout=setTimeout((function(){e._update({timedOut:!0})}),t.timeout))),this._res.promise.then((function(){e._update({}),e._clearTimeouts()})).catch((function(n){e._update({}),e._clearTimeouts()})),this._update({})}},{key:"_update",value:function(e){this._state=i({},this._state,{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading},e),this._callbacks.forEach((function(e){return e()}))}},{key:"_clearTimeouts",value:function(){clearTimeout(this._delay),clearTimeout(this._timeout)}},{key:"getCurrentValue",value:function(){return this._state}},{key:"subscribe",value:function(e){var n=this;return this._callbacks.add(e),function(){n._callbacks.delete(e)}}}]),e}();function p(e){return function(e,n){var t=function(){if(!s){var n=new h(e,o);s={getCurrentValue:n.getCurrentValue.bind(n),subscribe:n.subscribe.bind(n),retry:n.retry.bind(n),promise:n.promise.bind(n)}}return s.promise()},r=function(){t();var e=u.default.useContext(a.LoadableContext);e&&Array.isArray(o.modules)&&o.modules.forEach((function(n){e(n)}))},o=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null,suspense:!1},n);o.suspense&&(o.lazy=u.default.lazy(o.loader));var s=null;if(!d){var f=o.webpack?o.webpack():o.modules;f&&c.push((function(e){var n=!0,r=!1,o=void 0;try{for(var i,u=f[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var a=i.value;if(-1!==e.indexOf(a))return t()}}catch(l){r=!0,o=l}finally{try{n||null==u.return||u.return()}finally{if(r)throw o}}}))}var p=o.suspense?function(e,n){return r(),u.default.createElement(o.lazy,i({},e,{ref:n}))}:function(e,n){r();var t=l(s.subscribe,s.getCurrentValue,s.getCurrentValue);return u.default.useImperativeHandle(n,(function(){return{retry:s.retry}}),[]),u.default.useMemo((function(){return t.loading||t.error?u.default.createElement(o.loading,{isLoading:t.loading,pastDelay:t.pastDelay,timedOut:t.timedOut,error:t.error,retry:s.retry}):t.loaded?u.default.createElement((n=t.loaded)&&n.__esModule?n.default:n,e):null;var n}),[e,t])};return p.preload=function(){return t()},p.displayName="LoadableComponent",u.default.forwardRef(p)}(f,e)}function v(e,n){for(var t=[];e.length;){var r=e.pop();t.push(r(n))}return Promise.all(t).then((function(){if(e.length)return v(e,n)}))}p.preloadAll=function(){return new Promise((function(e,n){v(s).then(e,n)}))},p.preloadReady=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise((function(n){var t=function(){return d=!0,n()};v(c,e).then(t,t)}))},window.__NEXT_PRELOADREADY=p.preloadReady;var m=p;n.default=m},39867:function(e,n,t){"use strict";t.d(n,{w:function(){return T}});var r=t(7297),o=t(85893),i=t(67294),u=t(8193),a=t(86893),l=t(5434),s=t(26042),c=t(69396),d=t(828),f=t(60155),h=t(84980),p=function(){var e=(0,h.Z)((function(e){return e.zoomPanPinch})),n=(0,d.Z)(i.useState(0),2),t=n[0],r=n[1],o=(0,d.Z)(i.useState({value:"",debounced:""}),2),u=o[0],a=o[1];return i.useEffect((function(){var e=setTimeout((function(){a((function(e){return(0,c.Z)((0,s.Z)({},e),{debounced:u.value})}))}),800);return function(){return clearTimeout(e)}}),[u.value]),i.useEffect((function(){if(e){var n,o=e.instance.wrapperComponent,i=(n="span[data-key*='".concat(u.debounced,"' i]"),document.querySelectorAll("".concat(n))),a=i[t]||null;if(function(){var e=document.querySelectorAll("foreignObject.searched, .highlight");null===e||void 0===e||e.forEach((function(e){e.classList.remove("highlight"),e.classList.remove("searched")}))}(),o&&a&&a.parentElement){var l=Number(a.getAttribute("data-x")),s=Number(a.getAttribute("data-y")),c=.8*(o.offsetLeft-l)+o.clientWidth/10-a.getBoundingClientRect().width/10,d=.8*(o.offsetLeft-s)+o.clientHeight/10-a.getBoundingClientRect().height/10;!function(e,n){null===e||void 0===e||e.forEach((function(e){var n,t;null===(t=null===(n=e.parentElement)||void 0===n?void 0:n.closest("foreignObject"))||void 0===t||t.classList.add("searched")})),e[n].classList.add("highlight")}(i,t),null===e||void 0===e||e.setTransform(c,d,.8)}else r(0);return function(){u.value||r(0)}}}),[u.debounced,u,t,e]),[u,a,function(){return r((function(e){return e+1}))}]},v=t(19521);function m(){var e=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  background: ",";\n  border-radius: 4px;\n  height: 25px;\n"]);return m=function(){return e},e}function b(){var e=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  padding: 4px 6px;\n"]);return b=function(){return e},e}function g(){var e=(0,r.Z)(["\n  background: none;\n  color: ",";\n  outline: none;\n  border: none;\n  width: 112px;\n  font-size: 14px;\n  font-weight: 500;\n  transition: width 0.3s;\n\n  &::-webkit-search-decoration,\n  &::-webkit-search-cancel-button,\n  &::-webkit-search-results-button,\n  &::-webkit-search-results-decoration {\n    display: none;\n  }\n\n  &:focus {\n    width: 208px;\n  }\n"]);return g=function(){return e},e}function _(){var e=(0,r.Z)(["\n  display: grid;\n  background: none;\n  color: ",";\n  padding: 0;\n  min-height: unset;\n\n  &:hover {\n    box-shadow: none;\n  }\n"]);return _=function(){return e},e}var y=v.ZP.div(m(),(function(e){return e.theme.BACKGROUND_TERTIARY})),x=v.ZP.form(b()),w=v.ZP.input(g(),(function(e){return e.theme.TEXT_NORMAL})),j=v.ZP.button(_(),(function(e){return e.theme.INTERACTIVE_NORMAL})),k=function(){var e=(0,d.Z)(p(),3),n=e[0],t=e[1],r=e[2];return(0,o.jsx)(y,{children:(0,o.jsxs)(x,{onSubmit:function(e){e.preventDefault(),r()},children:[(0,o.jsx)(w,{type:"text",value:n.value,onChange:function(e){return t((function(n){return(0,c.Z)((0,s.Z)({},n),{value:e.target.value})}))},placeholder:"Search Node"}),(0,o.jsx)(j,{type:"reset","aria-label":"search",onClick:function(e){e.preventDefault(),t({value:"",debounced:""})},children:n.value?(0,o.jsx)(f.Lp2,{size:18}):(0,o.jsx)(u.RB5,{size:18})})]})})},Z=t(52252);function E(){var e=(0,r.Z)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  flex-direction: row-reverse;\n  height: 28px;\n  padding: 4px 16px;\n  background: ",";\n  color: ",";\n  box-shadow: 0 1px 0px ",";\n  z-index: 1;\n\n  @media only screen and (max-width: 768px) {\n    display: ",";\n  }\n"]);return E=function(){return e},e}function R(){var e=(0,r.Z)(["\n  display: ",";\n  place-content: center;\n  font-size: 20px;\n  background: none;\n  color: ",";\n  padding: 6px;\n  border-radius: 3px;\n\n  &:hover {\n    background-image: linear-gradient(rgba(0, 0, 0, 0.1) 0 0);\n  }\n\n  &:hover {\n    color: ",";\n    opacity: 1;\n    box-shadow: none;\n  }\n"]);return R=function(){return e},e}var C=v.ZP.div(E(),(function(e){return e.theme.BACKGROUND_PRIMARY}),(function(e){return e.theme.SILVER}),(function(e){return e.theme.BACKGROUND_TERTIARY}),(function(e){return!e.isWidget&&"none"})),O=v.ZP.button(R(),(function(e){return e.hide?"none":"grid"}),(function(e){return e.theme.INTERACTIVE_NORMAL}),(function(e){return e.theme.INTERACTIVE_HOVER})),T=function(e){var n=e.isWidget,t=void 0!==n&&n,r=(0,Z.Z)((function(e){return e.setVisible})),i=(0,h.Z)((function(e){return e.fullscreen})),s=(0,h.Z)((function(e){return e.toggleFullscreen})),c=(0,h.Z)((function(e){return e.zoomIn})),d=(0,h.Z)((function(e){return e.zoomOut})),f=(0,h.Z)((function(e){return e.centerView}));return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(C,{isWidget:t,children:[(0,o.jsx)(O,{"aria-label":"fullscreen",hide:t,onClick:function(){return s(!i)},children:(0,o.jsx)(u.vju,{})}),(0,o.jsx)(k,{}),(0,o.jsx)(O,{"aria-label":"save",onClick:function(){return r("download")(!0)},children:(0,o.jsx)(a._hL,{})}),(0,o.jsx)(O,{"aria-label":"center canvas",onClick:f,children:(0,o.jsx)(l.XIv,{})}),(0,o.jsx)(O,{"aria-label":"zoom out",onClick:d,children:(0,o.jsx)(u.ywL,{})}),(0,o.jsx)(O,{"aria-label":"zoom in",onClick:c,children:(0,o.jsx)(u.Lfi,{})})]})})}},65622:function(e,n,t){"use strict";t.r(n);var r=t(828),o=t(7297),i=t(85893),u=t(67294),a=t(5152),l=t.n(a),s=t(11163),c=t(86501),d=t(9193),f=t(95087),h=t(84980),p=t(20178),v=t(19521),m=t(39867);function b(){var e=(0,o.Z)(["\n  position: fixed;\n  bottom: 0;\n  right: 0;\n  color: ",";\n  background: ",";\n  padding: 4px 8px;\n  font-size: 14px;\n  font-weight: 500;\n  border-radius: 3px 0 0 0;\n  opacity: 0.8;\n\n  @media only screen and (max-width: 768px) {\n    font-size: 12px;\n  }\n"]);return b=function(){return e},e}var g=l()((function(){return Promise.all([t.e(987),t.e(434),t.e(837),t.e(953),t.e(628)]).then(t.bind(t,52953)).then((function(e){return e.GraphCanvas}))}),{loadableGenerated:{webpack:function(){return[52953]}},ssr:!1}),_=v.ZP.a(b(),(function(e){return e.theme.INTERACTIVE_NORMAL}),(function(e){return e.theme.SILVER_DARK}));n.default=function(){var e=(0,s.useRouter)(),n=e.query,t=e.push,o=e.isReady,a=(0,r.Z)(u.useState("dark"),2),l=a[0],b=a[1],y=(0,p.Z)((function(e){return e.fetchJson})),x=(0,h.Z)((function(e){return e.setGraph}));return u.useEffect((function(){o&&(y(n.json),function(){try{return window.self!==window.top}catch(e){return!0}}()||t("/"))}),[y,o,t,n.json]),u.useEffect((function(){var e=function(e){try{var n,t,r,o,i;if(!(null===(n=e.data)||void 0===n?void 0:n.json))return;"light"!==(null===(t=e.data)||void 0===t||null===(r=t.options)||void 0===r?void 0:r.theme)&&"dark"!==(null===(o=e.data)||void 0===o||null===(i=o.options)||void 0===i?void 0:i.theme)||b(e.data.options.theme),x(e.data.json,e.data.options)}catch(u){console.error(u),c.ZP.error("Invalid JSON!")}};return window.addEventListener("message",e),function(){return window.removeEventListener("message",e)}}),[x,l]),(0,i.jsxs)(v.f6,{theme:"dark"===l?f.$_:f.Wb,children:[(0,i.jsx)(m.w,{isWidget:!0}),(0,i.jsx)(g,{isWidget:!0}),(0,i.jsx)(_,{href:"".concat(d.v,"/editor"),target:"_blank",rel:"noreferrer",children:"jsoncrack.com"})]})}},5152:function(e,n,t){e.exports=t(90638)}},function(e){e.O(0,[774,888,179],(function(){return n=4469,e(e.s=n);var n}));var n=e.O();_N_E=n}]);