(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[126],{1479:function(b,a){"use strict";var c={};Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(g,b){void 0===b&&(b={});var h,d,a,i,e=JSON.stringify({text:g,options:b});if(c[e])return c[e];b.font=b.font||"Times",b.fontSize=b.fontSize||"16px",b.fontWeight=b.fontWeight||"normal",b.width=b.width||"auto";var f=(h=g,d=b,a=document.createElement("div"),i=document.createTextNode(h),a.appendChild(i),a.style.fontFamily=d.font,a.style.fontSize=d.fontSize,a.style.fontWeight=d.fontWeight,a.style.position="absolute",a.style.visibility="hidden",a.style.left="-999px",a.style.top="-999px",a.style.width=d.width,a.style.height="auto",document.body.appendChild(a),a),j={width:f.offsetWidth,height:f.offsetHeight};return function(a){a.parentNode.removeChild(a)}(f),c[e]=j,j}},4184:function(a,b){var c,d;!function(){"use strict";var f={}.hasOwnProperty;function e(){for(var b=[],c=0;c<arguments.length;c++){var a=arguments[c];if(a){var d=typeof a;if("string"===d||"number"===d)b.push(a);else if(Array.isArray(a)){if(a.length){var h=e.apply(null,a);h&&b.push(h)}}else if("object"===d)if(a.toString===Object.prototype.toString)for(var g in a)f.call(a,g)&&a[g]&&b.push(g);else b.push(a.toString())}}return b.join(" ")}a.exports?(e.default=e,a.exports=e):(c=[],void 0!==(d=(function(){return e}).apply(b,c))&&(a.exports=d))}()},6339:function(a){!function(c,b){a.exports=b()}("undefined"!=typeof self?self:this,function(){return function(b){var c={};function a(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return b[d].call(e.exports,e,e.exports,a),e.l=!0,e.exports}return a.m=b,a.c=c,a.d=function(b,c,d){a.o(b,c)||Object.defineProperty(b,c,{configurable:!1,enumerable:!0,get:d})},a.n=function(c){var b=c&&c.__esModule?function(){return c.default}:function(){return c};return a.d(b,"a",b),b},a.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},a.p="",a(a.s=0)}([function(a,c,b){"use strict";a.exports=b(1)},function(a,d,b){"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=b(2),c=function d(b,c){var f=arguments.length>2&& void 0!==arguments[2]?arguments[2]:[];for(var a in c)c.hasOwnProperty(a)&& -1===f.indexOf(a)&&(b.hasOwnProperty(a)&& void 0!==b[a]?"object"===e(b[a])&&d(b[a],c[a]):b[a]=c[a]);return b};a.exports=c,a.exports.copy=function(){for(var d=arguments.length,a=Array(d),b=0;b<d;b++)a[b]=arguments[b];return a[0]=f(a[0]),c.apply(void 0,a)}},function(a,b,c){"use strict";var d,e,f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(h,i,g){"object"===f(b)?a.exports=g():void 0!==(e="function"==typeof(d=g)?d.call(b,c,b,a):d)&&(a.exports=e)}("dcopy",void 0,function(){return function(b){if(/number|string|boolean/.test(void 0===b?"undefined":f(b)))return b;if(b instanceof Date)return new Date(b.getTime());var c=b instanceof Array?[]:{};return d(b,c),c;function d(h,f){for(var e in h){var b=h[e];if(b instanceof Date){var c=new Date(b.getTime());a(f,e,c)}else if(b instanceof Function){var c=b;a(f,e,c)}else if(b instanceof Array){var c=[],g=a(f,e,c);d(b,g)}else if(b instanceof Object){var c={},g=a(f,e,c);d(b,g)}else{var c=b;a(f,e,c)}}}};function a(a,b,c){return a instanceof Array?(a.push(c),a[a.length-1]):a instanceof Object?(a[b]=c,a[b]):void 0}})}])})},5798:function(a){"use strict";var b={ellipse:"\u2026",chars:[" ","-"],max:140,truncate:!0};a.exports=function(d,e,a){if("string"!=typeof d||0===d.length)return"";if(0===e)return"";for(var c in a=a||{},b)(null===a[c]|| void 0===a[c])&&(a[c]=b[c]);return a.max=e||a.max,function(a,d,e,j,c){if(a.length<d)return a;for(var f=0,g="",h=Math.floor(d/2),i="middle"===c?h:d-e.length,b=0,k=a.length;b<k;b++)if(g=a.charAt(b),-1!==j.indexOf(g)&&"middle"!==c&&(f=b),!(b<i)){if(0===f)return c?a.substring(0,i-1)+e+("middle"===c?a.substring(a.length-h,a.length):""):"";return a.substring(0,f)+e}return a}(d,a.max,a.ellipse,a.chars,a.truncate)}},8875:function(b,c,e){var d,a,f;f={canUseDOM:a=!!("undefined"!=typeof window&&window.document&&window.document.createElement),canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:a&&!!(window.addEventListener||window.attachEvent),canUseViewport:a&&!!window.screen},void 0!==(d=(function(){return f}).call(c,e,c,b))&&(b.exports=d)},8208:function(c,a,b){"use strict";b.d(a,{Z:function(){return e}});var d=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,e=function(a){var b={};return function(c){return void 0===b[c]&&(b[c]=a(c)),b[c]}}(function(a){return d.test(a)||111===a.charCodeAt(0)&&110===a.charCodeAt(1)&&91>a.charCodeAt(2)})},4839:function(f,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const g=1/60*1e3,h="undefined"!=typeof performance?()=>performance.now():()=>Date.now(),i="undefined"!=typeof window?a=>window.requestAnimationFrame(a):a=>setTimeout(()=>a(h()),g);let j=!0,k=!1,l=!1;const m={delta:0,timestamp:0},b=["read","update","preRender","render","postRender",],n=b.reduce((a,b)=>(a[b]=function(b){let c=[],d=[],e=0,f=!1,g=!1;const h=new WeakSet,a={schedule(a,i=!1,j=!1){const b=j&&f,g=b?c:d;return i&&h.add(a),-1===g.indexOf(a)&&(g.push(a),b&&f&&(e=c.length)),a},cancel(a){const b=d.indexOf(a);-1!==b&&d.splice(b,1),h.delete(a)},process(k){if(f){g=!0;return}if(f=!0,[c,d]=[d,c],d.length=0,e=c.length)for(let i=0;i<e;i++){const j=c[i];j(k),h.has(j)&&(a.schedule(j),b())}f=!1,g&&(g=!1,a.process(k))}};return a}(()=>k=!0),a),{}),c=b.reduce((a,b)=>{const c=n[b];return a[b]=(a,b=!1,d=!1)=>(k||q(),c.schedule(a,b,d)),a},{}),d=b.reduce((a,b)=>(a[b]=n[b].cancel,a),{}),e=b.reduce((a,b)=>(a[b]=()=>n[b].process(m),a),{}),o=a=>n[a].process(m),p=a=>{k=!1,m.delta=j?g:Math.max(Math.min(a-m.timestamp,40),1),m.timestamp=a,l=!0,b.forEach(o),l=!1,k&&(j=!1,i(p))},q=()=>{k=!0,j=!0,l||i(p)};a.cancelSync=d,a.default=c,a.flushSync=e,a.getFrameData=()=>m},4394:function(c,a,b){"use strict";b.r(a),b.d(a,{invariant:function(){return e},warning:function(){return d}});var d=function(){},e=function(){}},6568:function(e,b,c){"use strict";c.r(b),c.d(b,{Matrix2D:function(){return h},Point2D:function(){return f},Vector2D:function(){return g}});var f=class{constructor(a=0,b=0){this.x=a,this.y=b}clone(){return new this.constructor(this.x,this.y)}add(a){return new this.constructor(this.x+a.x,this.y+a.y)}subtract(a){return new this.constructor(this.x-a.x,this.y-a.y)}multiply(a){return new this.constructor(this.x*a,this.y*a)}divide(a){return new this.constructor(this.x/a,this.y/a)}equals(a){return this.x===a.x&&this.y===a.y}precisionEquals(a,b){return Math.abs(this.x-a.x)<b&&Math.abs(this.y-a.y)<b}lerp(b,a){const c=1-a;return new this.constructor(this.x*c+b.x*a,this.y*c+b.y*a)}distanceFrom(a){const b=this.x-a.x,c=this.y-a.y;return Math.sqrt(b*b+c*c)}min(a){return new this.constructor(Math.min(this.x,a.x),Math.min(this.y,a.y))}max(a){return new this.constructor(Math.max(this.x,a.x),Math.max(this.y,a.y))}transform(a){return new this.constructor(a.a*this.x+a.c*this.y+a.e,a.b*this.x+a.d*this.y+a.f)}toString(){return`point(${this.x},${this.y})`}};class d{constructor(a=0,b=0){this.x=a,this.y=b}static fromPoints(a,b){return new d(b.x-a.x,b.y-a.y)}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}magnitude(){return this.x*this.x+this.y*this.y}dot(a){return this.x*a.x+this.y*a.y}cross(a){return this.x*a.y-this.y*a.x}determinant(a){return this.x*a.y-this.y*a.x}unit(){return this.divide(this.length())}add(a){return new this.constructor(this.x+a.x,this.y+a.y)}subtract(a){return new this.constructor(this.x-a.x,this.y-a.y)}multiply(a){return new this.constructor(this.x*a,this.y*a)}divide(a){return new this.constructor(this.x/a,this.y/a)}angleBetween(a){let b=this.dot(a)/(this.length()*a.length());b=Math.max(-1,Math.min(b,1));const c=Math.acos(b);return 0>this.cross(a)?-c:c}perp(){return new this.constructor(-this.y,this.x)}perpendicular(a){return this.subtract(this.project(a))}project(a){const b=this.dot(a)/a.dot(a);return a.multiply(b)}transform(a){return new this.constructor(a.a*this.x+a.c*this.y,a.b*this.x+a.d*this.y)}equals(a){return this.x===a.x&&this.y===a.y}precisionEquals(a,b){return Math.abs(this.x-a.x)<b&&Math.abs(this.y-a.y)<b}toString(){return`vector(${this.x},${this.y})`}}var g=d;class a{constructor(a=1,b=0,c=0,d=1,e=0,f=0){this.a=a,this.b=b,this.c=c,this.d=d,this.e=e,this.f=f}static translation(b,c){return new a(1,0,0,1,b,c)}static scaling(b){return new a(b,0,0,b,0,0)}static scalingAt(b,c){return new a(b,0,0,b,c.x-c.x*b,c.y-c.y*b)}static nonUniformScaling(b,c){return new a(b,0,0,c,0,0)}static nonUniformScalingAt(c,d,b){return new a(c,0,0,d,b.x-b.x*c,b.y-b.y*d)}static rotation(b){const c=Math.cos(b),d=Math.sin(b);return new a(c,d,-d,c,0,0)}static rotationAt(e,b){const c=Math.cos(e),d=Math.sin(e);return new a(c,d,-d,c,b.x-b.x*c+b.y*d,b.y-b.y*c-b.x*d)}static rotationFromVector(e){const b=e.unit(),c=b.x,d=b.y;return new a(c,d,-d,c,0,0)}static xFlip(){return new a(-1,0,0,1,0,0)}static yFlip(){return new a(1,0,0,-1,0,0)}static xSkew(b){return new a(1,0,Math.tan(b),1,0,0)}static ySkew(b){return new a(1,Math.tan(b),0,1,0,0)}multiply(a){return this.isIdentity()?a:a.isIdentity()?this:new this.constructor(this.a*a.a+this.c*a.b,this.b*a.a+this.d*a.b,this.a*a.c+this.c*a.d,this.b*a.c+this.d*a.d,this.a*a.e+this.c*a.f+this.e,this.b*a.e+this.d*a.f+this.f)}inverse(){if(this.isIdentity())return this;const b=this.a*this.d-this.b*this.c;if(0===b)throw new Error("Matrix is not invertible");const a=1/b,c=this.f*this.c-this.e*this.d,d=this.e*this.b-this.f*this.a;return new this.constructor(this.d*a,-this.b*a,-this.c*a,this.a*a,c*a,d*a)}translate(a,b){return new this.constructor(this.a,this.b,this.c,this.d,this.a*a+this.c*b+this.e,this.b*a+this.d*b+this.f)}scale(a){return new this.constructor(this.a*a,this.b*a,this.c*a,this.d*a,this.e,this.f)}scaleAt(a,b){const c=b.x-a*b.x,d=b.y-a*b.y;return new this.constructor(this.a*a,this.b*a,this.c*a,this.d*a,this.a*c+this.c*d+this.e,this.b*c+this.d*d+this.f)}scaleNonUniform(a,b){return new this.constructor(this.a*a,this.b*a,this.c*b,this.d*b,this.e,this.f)}scaleNonUniformAt(b,c,a){const d=a.x-b*a.x,e=a.y-c*a.y;return new this.constructor(this.a*b,this.b*b,this.c*c,this.d*c,this.a*d+this.c*e+this.e,this.b*d+this.d*e+this.f)}rotate(c){const a=Math.cos(c),b=Math.sin(c);return new this.constructor(this.a*a+this.c*b,this.b*a+this.d*b,-(this.a*b)+this.c*a,-(this.b*b)+this.d*a,this.e,this.f)}rotateAt(c,d){const a=Math.cos(c),b=Math.sin(c),e=d.x,f=d.y,g=this.a*a+this.c*b,h=this.b*a+this.d*b,i=this.c*a-this.a*b,j=this.d*a-this.b*b;return new this.constructor(g,h,i,j,(this.a-g)*e+(this.c-i)*f+this.e,(this.b-h)*e+(this.d-j)*f+this.f)}rotateFromVector(d){const c=d.unit(),a=c.x,b=c.y;return new this.constructor(this.a*a+this.c*b,this.b*a+this.d*b,-(this.a*b)+this.c*a,-(this.b*b)+this.d*a,this.e,this.f)}flipX(){return new this.constructor(-this.a,-this.b,this.c,this.d,this.e,this.f)}flipY(){return new this.constructor(this.a,this.b,-this.c,-this.d,this.e,this.f)}skewX(b){const a=Math.tan(b);return new this.constructor(this.a,this.b,this.c+this.a*a,this.d+this.b*a,this.e,this.f)}skewY(b){const a=Math.tan(b);return new this.constructor(this.a+this.c*a,this.b+this.d*a,this.c,this.d,this.e,this.f)}isIdentity(){return 1===this.a&&0===this.b&&0===this.c&&1===this.d&&0===this.e&&0===this.f}isInvertible(){return this.a*this.d-this.b*this.c!=0}getScale(){return{scaleX:Math.sqrt(this.a*this.a+this.c*this.c),scaleY:Math.sqrt(this.b*this.b+this.d*this.d)}}getDecomposition(){const a=(this.a+this.d)*.5,b=(this.a-this.d)*.5,c=(this.b+this.c)*.5,d=(this.b-this.c)*.5,e=Math.sqrt(a*a+d*d),f=Math.sqrt(b*b+c*c),g=Math.atan2(c,b),h=Math.atan2(d,a);return{translation:this.constructor.translation(this.e,this.f),rotation:this.constructor.rotation((h+g)*.5),scale:this.constructor.nonUniformScaling(e+f,e-f),rotation0:this.constructor.rotation((h-g)*.5)}}equals(a){return this.a===a.a&&this.b===a.b&&this.c===a.c&&this.d===a.d&&this.e===a.e&&this.f===a.f}precisionEquals(a,b){return Math.abs(this.a-a.a)<b&&Math.abs(this.b-a.b)<b&&Math.abs(this.c-a.c)<b&&Math.abs(this.d-a.d)<b&&Math.abs(this.e-a.e)<b&&Math.abs(this.f-a.f)<b}toString(){return`matrix(${this.a},${this.b},${this.c},${this.d},${this.e},${this.f})`}}a.IDENTITY=new a,a.IDENTITY.isIdentity=()=>!0;var h=a},2261:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AffineShapes:function(){return lib_AffineShapes},Intersection:function(){return lib_Intersection},IntersectionArgs:function(){return ShapeInfo},IntersectionQuery:function(){return lib_IntersectionQuery},Matrix2D:function(){return kld_affine.Matrix2D},Point2D:function(){return kld_affine.Point2D},ShapeInfo:function(){return ShapeInfo},Shapes:function(){return lib_Shapes},SvgShapes:function(){return lib_SvgShapes},Vector2D:function(){return kld_affine.Vector2D}});var kld_affine=__webpack_require__(6568);function sign(x){return"number"==typeof x?x?x<0?-1:1:x==x?x:NaN:NaN}class Polynomial{constructor(...coefs){this.coefs=[];for(let i=coefs.length-1;i>=0;i--)this.coefs.push(coefs[i]);this._variable="t",this._s=0}static interpolate(xs,ys,n,offset,x){if(xs.constructor!==Array||ys.constructor!==Array)throw new TypeError("xs and ys must be arrays");if(isNaN(n)||isNaN(offset)||isNaN(x))throw new TypeError("n, offset, and x must be numbers");let i,y,dy=0;const c=new Array(n),d=new Array(n);let ns=0,diff=Math.abs(x-xs[offset]);for(i=0;i<n;i++){const dift=Math.abs(x-xs[offset+i]);dift<diff&&(ns=i,diff=dift),c[i]=d[i]=ys[offset+i]}y=ys[offset+ns],ns--;for(let m=1;m<n;m++){for(i=0;i<n-m;i++){const ho=xs[offset+i]-x,hp=xs[offset+i+m]-x,w=c[i+1]-d[i];let den=ho-hp;if(0===den)throw new RangeError("Unable to interpolate polynomial. Two numbers in n were identical (to within roundoff)");den=w/den,d[i]=hp*den,c[i]=ho*den}y+=dy=2*(ns+1)<n-m?c[ns+1]:d[ns--]}return{y,dy}}static newtonSecantBisection(x0,f,df,max_iterations,min,max){let x,prev_dfx=0,dfx,prev_x_ef_correction=0,x_correction,x_new,y,y_atmin,y_atmax;x=x0;const isBounded="number"==typeof min&&"number"==typeof max;if(isBounded){if(min>max)throw new RangeError("Min must be greater than max");if(y_atmin=f(min),y_atmax=f(max),sign(y_atmin)===sign(y_atmax))throw new RangeError("Y values of bounds must be of opposite sign")}const isEnoughCorrection=function(){return Math.abs(x_correction)<=1e-14*Math.abs(x)||prev_x_ef_correction===x-x_correction-x};for(let i=0;i<max_iterations;i++){if(0===(dfx=df(x))){if(0===prev_dfx)throw new RangeError("df(x) is zero");dfx=prev_dfx}if(prev_dfx=dfx,x_correction=(y=f(x))/dfx,x_new=x-x_correction,isEnoughCorrection())break;if(isBounded){if(sign(y)===sign(y_atmax))max=x,y_atmax=y;else if(sign(y)===sign(y_atmin))min=x,y_atmin=y;else{x=x_new;break}if(x_new<min||x_new>max){if(sign(y_atmin)===sign(y_atmax))break;const RATIO_LIMIT=50,AIMED_BISECT_OFFSET=.25,dy=y_atmax-y_atmin,dx=max-min;if(x_correction=0===dy?x-(min+.5*dx):Math.abs(dy/Math.min(y_atmin,y_atmax))>RATIO_LIMIT?x-(min+dx*(.5+(Math.abs(y_atmin)<Math.abs(y_atmax)?-AIMED_BISECT_OFFSET:AIMED_BISECT_OFFSET))):x-(min-y_atmin/dy*dx),x_new=x-x_correction,isEnoughCorrection())break}}prev_x_ef_correction=x-x_new,x=x_new}return x}clone(){const poly=new Polynomial;return poly.coefs=this.coefs.slice(),poly}eval(x){if(isNaN(x))throw new TypeError(`Parameter must be a number. Found '${x}'`);let result=0;for(let i=this.coefs.length-1;i>=0;i--)result=result*x+this.coefs[i];return result}add(that){const result=new Polynomial,d1=this.getDegree(),d2=that.getDegree(),dmax=Math.max(d1,d2);for(let i=0;i<=dmax;i++){const v1=i<=d1?this.coefs[i]:0,v2=i<=d2?that.coefs[i]:0;result.coefs[i]=v1+v2}return result}multiply(that){const result=new Polynomial;for(let i=0;i<=this.getDegree()+that.getDegree();i++)result.coefs.push(0);for(let i=0;i<=this.getDegree();i++)for(let j=0;j<=that.getDegree();j++)result.coefs[i+j]+=this.coefs[i]*that.coefs[j];return result}divideEqualsScalar(scalar){for(let i=0;i<this.coefs.length;i++)this.coefs[i]/=scalar}simplifyEquals(TOLERANCE=1e-12){for(let i=this.getDegree();i>=0;i--)if(Math.abs(this.coefs[i])<=TOLERANCE)this.coefs.pop();else break}removeZerosEquals(TOLERANCE=1e-15){const c=this.coefs,err=10*TOLERANCE*Math.abs(c.reduce((pv,cv)=>Math.abs(cv)>Math.abs(pv)?cv:pv));for(let i=0;i<c.length-1;i++)Math.abs(c[i])<err&&(c[i]=0);return this}monicEquals(){const c=this.coefs;return 1!==c[c.length-1]&&this.divideEqualsScalar(c[c.length-1]),this}toString(){const coefs=[],signs=[];for(let i=this.coefs.length-1;i>=0;i--){let value=Math.round(1e3*this.coefs[i])/1e3;if(0!==value){const signString=value<0?" - ":" + ";value=Math.abs(value),i>0&&(1===value?value=this._variable:value+=this._variable),i>1&&(value+="^"+i),signs.push(signString),coefs.push(value)}}signs[0]=" + "===signs[0]?"":"-";let result="";for(let i=0;i<coefs.length;i++)result+=signs[i]+coefs[i];return result}bisection(min,max,TOLERANCE=1e-6,ACCURACY=15){let minValue=this.eval(min),maxValue=this.eval(max),result;if(Math.abs(minValue)<=TOLERANCE)result=min;else if(Math.abs(maxValue)<=TOLERANCE)result=max;else if(minValue*maxValue<=0){const tmp1=Math.log(max-min),tmp2=Math.LN10*ACCURACY,maxIterations=Math.ceil((tmp1+tmp2)/Math.LN2);for(let i=0;i<maxIterations;i++){result=.5*(min+max);const value=this.eval(result);if(Math.abs(value)<=TOLERANCE)break;value*minValue<0?(max=result,maxValue=value):(min=result,minValue=value)}}return result}trapezoid(min,max,n){if(isNaN(min)||isNaN(max)||isNaN(n))throw new TypeError("Parameters must be numbers");const range=max-min;if(1===n){const minValue=this.eval(min),maxValue=this.eval(max);this._s=.5*range*(minValue+maxValue)}else{const iter=1<<n-2,delta=range/iter;let x=min+.5*delta,sum=0;for(let i=0;i<iter;i++)sum+=this.eval(x),x+=delta;this._s=.5*(this._s+range*sum/iter)}if(isNaN(this._s))throw new TypeError("this._s is NaN");return this._s}simpson(min,max){if(isNaN(min)||isNaN(max))throw new TypeError("Parameters must be numbers");const range=max-min;let st=.5*range*(this.eval(min)+this.eval(max)),t=st,s=4*st/3,os=s,ost=st,iter=1;for(let n=2;n<=20;n++){const delta=range/iter;let x=min+.5*delta,sum=0;for(let i=1;i<=iter;i++)sum+=this.eval(x),x+=delta;if(Math.abs((s=(4*(st=t=.5*(t+range*sum/iter))-ost)/3)-os)<1e-7*Math.abs(os))break;os=s,ost=st,iter<<=1}return s}romberg(min,max){if(isNaN(min)||isNaN(max))throw new TypeError("Parameters must be numbers");const s=new Array(21),h=new Array(21);let result={y:0,dy:0};h[0]=1;for(let j=1;j<=20&&(s[j-1]=this.trapezoid(min,max,j),!(j>=3&&Math.abs((result=Polynomial.interpolate(h,s,3,j-3,0)).dy)<=1e-6*result.y));j++)s[j]=s[j-1],h[j]=.25*h[j-1];return result.y}zeroErrorEstimate(maxAbsX){if(void 0===maxAbsX){const rb=this.bounds();maxAbsX=Math.max(Math.abs(rb.minX),Math.abs(rb.maxX))}if(maxAbsX<.001)return 2*Math.abs(this.eval(1e-15));const n=this.coefs.length-1,an=this.coefs[n];return 10000000000000002e-30*this.coefs.reduce((m,v,i)=>{const nm=v/an*Math.pow(maxAbsX,i);return nm>m?nm:m},0)}boundsUpperRealFujiwara(){let a=this.coefs;const n=a.length-1,an=a[n];1!==an&&(a=this.coefs.map(v=>v/an));const b=a.map((v,i)=>i<n?Math.pow(Math.abs(0===i?v/2:v),1/(n-i)):v);let coefSelectionFunc;const find2Max=function(a,b,c){return coefSelectionFunc(c)&&(a.max<b?(a.nearmax=a.max,a.max=b):a.nearmax<b&&(a.nearmax=b)),a};coefSelectionFunc=function(a){return a<n&&a[a]<0};const max_nearmax_pos=b.reduce(find2Max,{max:0,nearmax:0});coefSelectionFunc=function(a){return a<n&&(n%2==a%2?a[a]<0:a[a]>0)};const max_nearmax_neg=b.reduce(find2Max,{max:0,nearmax:0});return{negX:-2*max_nearmax_neg.max,posX:2*max_nearmax_pos.max}}boundsLowerRealFujiwara(){const poly=new Polynomial;poly.coefs=this.coefs.slice().reverse();const res=poly.boundsUpperRealFujiwara();return res.negX=1/res.negX,res.posX=1/res.posX,res}bounds(){const urb=this.boundsUpperRealFujiwara(),rb={minX:urb.negX,maxX:urb.posX};return 0===urb.negX&&0===urb.posX||(0===urb.negX?rb.minX=this.boundsLowerRealFujiwara().posX:0===urb.posX&&(rb.maxX=this.boundsLowerRealFujiwara().negX),rb.minX>rb.maxX&&(rb.minX=rb.maxX=0)),rb}boundUpperAbsRouche(){const a=this.coefs,n=a.length-1,max=a.reduce((prev,curr,i)=>i!==n?(curr=Math.abs(curr),prev<curr?curr:prev):prev,0);return 1+max/Math.abs(a[n])}boundLowerAbsRouche(){const a=this.coefs,max=a.reduce((prev,curr,i)=>0!==i?(curr=Math.abs(curr),prev<curr?curr:prev):prev,0);return Math.abs(a[0])/(Math.abs(a[0])+max)}boundsRealLaguerre(){const a=this.coefs,n=a.length-1,p1=-a[n-1]/(n*a[n]),undersqrt=a[n-1]*a[n-1]-2*n/(n-1)*a[n]*a[n-2];let p2=(n-1)/(n*a[n])*Math.sqrt(undersqrt);return p2<0&&(p2=-p2),{minX:p1-p2,maxX:p1+p2}}countRootsDescartes(){const a=this.coefs,n=a.length-1,accum=a.reduce((acc,ai,i)=>(0!==acc.prev_a&&0!==ai&&(acc.prev_a<0==ai>0&&acc.pos++,i%2==0!=acc.prev_a<0==(i%2==1!=ai>0)&&acc.neg++),acc.prev_a=ai,acc),{pos:0,neg:0,prev_a:0});return{maxRealPos:accum.pos,maxRealNeg:accum.neg,minComplex:n-(accum.pos+accum.neg)}}getDegree(){return this.coefs.length-1}getDerivative(){const derivative=new Polynomial;for(let i=1;i<this.coefs.length;i++)derivative.coefs.push(i*this.coefs[i]);return derivative}getRoots(){let result;switch(this.simplifyEquals(),this.getDegree()){case 0:result=[];break;case 1:result=this.getLinearRoot();break;case 2:result=this.getQuadraticRoots();break;case 3:result=this.getCubicRoots();break;case 4:result=this.getQuarticRoots();break;default:result=[]}return result}getRootsInInterval(min,max){const roots=[];function push(value){"number"==typeof value&&roots.push(value)}if(0===this.getDegree())throw new RangeError("Unexpected empty polynomial");if(1===this.getDegree())push(this.bisection(min,max));else{const deriv=this.getDerivative(),droots=deriv.getRootsInInterval(min,max);if(droots.length>0){push(this.bisection(min,droots[0]));for(let i=0;i<=droots.length-2;i++)push(this.bisection(droots[i],droots[i+1]));push(this.bisection(droots[droots.length-1],max))}else push(this.bisection(min,max))}return roots}getLinearRoot(){const result=[],a=this.coefs[1];return 0!==a&&result.push(-this.coefs[0]/a),result}getQuadraticRoots(){const results=[];if(2===this.getDegree()){const a=this.coefs[2],b=this.coefs[1]/a,c=this.coefs[0]/a,d=b*b-4*c;if(d>0){const e=Math.sqrt(d);results.push(.5*(-b+e)),results.push(.5*(-b-e))}else 0===d&&results.push(-(.5*b))}return results}getCubicRoots(){const results=[];if(3===this.getDegree()){const c3=this.coefs[3],c2=this.coefs[2]/c3,c1=this.coefs[1]/c3,c0=this.coefs[0]/c3,a=(3*c1-c2*c2)/3,b=(2*c2*c2*c2-9*c1*c2+27*c0)/27,offset=c2/3;let discrim=b*b/4+a*a*a/27;const halfB=b/2,ZEROepsilon=this.zeroErrorEstimate();if(Math.abs(discrim)<=ZEROepsilon&&(discrim=0),discrim>0){const e=Math.sqrt(discrim);let root,tmp=-halfB+e;root=tmp>=0?Math.pow(tmp,1/3):-Math.pow(-tmp,1/3),(tmp=-halfB-e)>=0?root+=Math.pow(tmp,1/3):root-=Math.pow(-tmp,1/3),results.push(root-offset)}else if(discrim<0){const distance=Math.sqrt(-a/3),angle=Math.atan2(Math.sqrt(-discrim),-halfB)/3,cos=Math.cos(angle),sin=Math.sin(angle),sqrt3=Math.sqrt(3);results.push(2*distance*cos-offset),results.push(-distance*(cos+sqrt3*sin)-offset),results.push(-distance*(cos-sqrt3*sin)-offset)}else{let tmp;tmp=halfB>=0?-Math.pow(halfB,1/3):Math.pow(-halfB,1/3),results.push(2*tmp-offset),results.push(-tmp-offset)}}return results}getQuarticRoots(){let results=[];const n=this.getDegree();if(4===n){const poly=new Polynomial;poly.coefs=this.coefs.slice(),poly.divideEqualsScalar(poly.coefs[n]);const ERRF=1e-15;Math.abs(poly.coefs[0])<10*ERRF*Math.abs(poly.coefs[3])&&(poly.coefs[0]=0);const poly_d=poly.getDerivative(),derrt=poly_d.getRoots().sort((a,b)=>a-b),dery=[],nr=derrt.length-1,rb=this.bounds(),maxabsX=Math.max(Math.abs(rb.minX),Math.abs(rb.maxX)),ZEROepsilon=this.zeroErrorEstimate(maxabsX);for(let i=0;i<=nr;i++)dery.push(poly.eval(derrt[i]));for(let i=0;i<=nr;i++)Math.abs(dery[i])<ZEROepsilon&&(dery[i]=0);let i=0;const dx=Math.max(.1*(rb.maxX-rb.minX)/n,ERRF),guesses=[],minmax=[];if(nr> -1){for(0!==dery[0]?sign(dery[0])!==sign(poly.eval(derrt[0]-dx)-dery[0])&&(guesses.push(derrt[0]-dx),minmax.push([rb.minX,derrt[0]])):(results.push(derrt[0],derrt[0]),i++);i<nr;i++)0===dery[i+1]?(results.push(derrt[i+1],derrt[i+1]),i++):sign(dery[i])!==sign(dery[i+1])&&(guesses.push((derrt[i]+derrt[i+1])/2),minmax.push([derrt[i],derrt[i+1]]));0!==dery[nr]&&sign(dery[nr])!==sign(poly.eval(derrt[nr]+dx)-dery[nr])&&(guesses.push(derrt[nr]+dx),minmax.push([derrt[nr],rb.maxX]))}const f=function(a){return poly.eval(a)},df=function(a){return poly_d.eval(a)};if(guesses.length>0)for(i=0;i<guesses.length;i++)guesses[i]=Polynomial.newtonSecantBisection(guesses[i],f,df,32,minmax[i][0],minmax[i][1]);results=results.concat(guesses)}return results}}var lib_Polynomial=Polynomial;class PathLexeme{constructor(type,text){this.type=type,this.text=text}typeis(type){return this.type===type}}PathLexeme.UNDEFINED=0,PathLexeme.COMMAND=1,PathLexeme.NUMBER=2,PathLexeme.EOD=3;var lib_PathLexeme=PathLexeme,lib_PathLexer=class{constructor(pathData){null==pathData&&(pathData=""),this.setPathData(pathData)}setPathData(pathData){if("string"!=typeof pathData)throw new TypeError("The first parameter must be a string");this._pathData=pathData}getNextToken(){let result=null,d=this._pathData;for(;null===result;)if(null===d||""===d)result=new lib_PathLexeme(lib_PathLexeme.EOD,"");else if(d.match(/^([ \t\r\n,]+)/))d=d.substr(RegExp.$1.length);else if(d.match(/^([AaCcHhLlMmQqSsTtVvZz])/))result=new lib_PathLexeme(lib_PathLexeme.COMMAND,RegExp.$1),d=d.substr(RegExp.$1.length);else if(d.match(/^(([-+]?\d+(\.\d*)?|[-+]?\.\d+)([eE][-+]?\d+)?)/))result=new lib_PathLexeme(lib_PathLexeme.NUMBER,RegExp.$1),d=d.substr(RegExp.$1.length);else throw new SyntaxError(`Unrecognized path data: ${d}`);return this._pathData=d,result}};class PathParser{constructor(){this._lexer=new lib_PathLexer,this._handler=null}parseData(pathData){if("string"!=typeof pathData)throw new TypeError(`The first parameter must be a string: ${pathData}`);null!==this._handler&&"function"==typeof this._handler.beginParse&&this._handler.beginParse();const lexer=this._lexer;lexer.setPathData(pathData);let mode="BOP",lastToken=null,token=lexer.getNextToken();for(;!1===token.typeis(lib_PathLexeme.EOD);){let parameterCount;const params=[];switch(token.type){case lib_PathLexeme.COMMAND:if("BOP"===mode&&"M"!==token.text&&"m"!==token.text)throw new SyntaxError(`New paths must begin with a moveto command. Found '${token.text}'`);mode=token.text,parameterCount=PathParser.PARAMCOUNT[token.text.toUpperCase()],token=lexer.getNextToken();break;case lib_PathLexeme.NUMBER:if("BOP"===mode)throw new SyntaxError(`New paths must begin with a moveto command. Found '${token.text}'`);parameterCount=PathParser.PARAMCOUNT[mode.toUpperCase()];break;default:throw new SyntaxError(`Unrecognized command type: ${token.type}`)}for(let i=0;i<parameterCount;i++){switch(token.type){case lib_PathLexeme.COMMAND:throw new SyntaxError(`Parameter must be a number. Found '${token.text}'`);case lib_PathLexeme.NUMBER:params[i]=parseFloat(token.text);break;case lib_PathLexeme.EOD:throw new SyntaxError("Unexpected end of string");default:throw new SyntaxError(`Unrecognized parameter type. Found type '${token.type}'`)}token=lexer.getNextToken()}if(null!==this._handler){const handler=this._handler,methodName=PathParser.METHODNAME[mode];("a"===mode||"A"===mode)&&(params[3]=0!==params[3],params[4]=0!==params[4]),null!==handler&&"function"==typeof handler[methodName]&&handler[methodName](...params)}switch(mode){case"M":mode="L";break;case"m":mode="l";break;case"Z":case"z":mode="BOP";break;default:}if(token===lastToken)throw new SyntaxError(`Parser stalled on '${token.text}'`);lastToken=token}null!==this._handler&&"function"==typeof this._handler.endParse&&this._handler.endParse()}setHandler(handler){this._handler=handler}}PathParser.PARAMCOUNT={A:7,C:6,H:1,L:2,M:2,Q:4,S:4,T:2,V:1,Z:0},PathParser.METHODNAME={A:"arcAbs",a:"arcRel",C:"curvetoCubicAbs",c:"curvetoCubicRel",H:"linetoHorizontalAbs",h:"linetoHorizontalRel",L:"linetoAbs",l:"linetoRel",M:"movetoAbs",m:"movetoRel",Q:"curvetoQuadraticAbs",q:"curvetoQuadraticRel",S:"curvetoCubicSmoothAbs",s:"curvetoCubicSmoothRel",T:"curvetoQuadraticSmoothAbs",t:"curvetoQuadraticSmoothRel",V:"linetoVerticalAbs",v:"linetoVerticalRel",Z:"closePath",z:"closePath"};const TWO_PI=2*Math.PI;function getArcParameters(startPoint,endPoint,rx,ry,angle,arcFlag,sweepFlag){angle=angle*Math.PI/180;const c=Math.cos(angle),s=Math.sin(angle),halfDiff=startPoint.subtract(endPoint).multiply(.5),x1p=halfDiff.x*c+halfDiff.y*s,y1p=-(halfDiff.x*s)+halfDiff.y*c;rx=Math.abs(rx),ry=Math.abs(ry);const x1px1p=x1p*x1p,y1py1p=y1p*y1p,lambda=x1px1p/(rx*rx)+y1py1p/(ry*ry);if(lambda>1){const factor=Math.sqrt(lambda);rx*=factor,ry*=factor}const rxrx=rx*rx,ryry=ry*ry,rxy1=rxrx*y1py1p,ryx1=ryry*x1px1p;let factor=(rxrx*ryry-rxy1-ryx1)/(rxy1+ryx1);1e-6>Math.abs(factor)&&(factor=0);let sq=Math.sqrt(factor);arcFlag===sweepFlag&&(sq=-sq);const mid=startPoint.add(endPoint).multiply(.5),cxp=sq*rx*y1p/ry,cyp=-(sq*ry)*x1p/rx,xcr1=(x1p-cxp)/rx,ycr1=(y1p-cyp)/ry,theta1=new kld_affine.Vector2D(1,0).angleBetween(new kld_affine.Vector2D(xcr1,ycr1));let deltaTheta=new kld_affine.Vector2D(xcr1,ycr1).angleBetween(new kld_affine.Vector2D(-((x1p+cxp)/rx),-((y1p+cyp)/ry)));return!1===sweepFlag&&(deltaTheta-=TWO_PI),[cxp*c-cyp*s+mid.x,cxp*s+cyp*c+mid.y,rx,ry,theta1,theta1+deltaTheta]}var lib_PathHandler=class{constructor(shapeCreator){this.shapeCreator=shapeCreator,this.shapes=[],this.firstX=null,this.firstY=null,this.lastX=null,this.lastY=null,this.lastCommand=null}beginParse(){this.shapes=[],this.firstX=null,this.firstY=null,this.lastX=null,this.lastY=null,this.lastCommand=null}addShape(shape){this.shapes.push(shape)}arcAbs(rx,ry,xAxisRotation,arcFlag,sweepFlag,x,y){if(0===rx||0===ry)this.addShape(this.shapeCreator.line(this.lastX,this.lastY,x,y));else{const arcParameters=getArcParameters(new kld_affine.Point2D(this.lastX,this.lastY),new kld_affine.Point2D(x,y),rx,ry,xAxisRotation,arcFlag,sweepFlag);this.addShape(this.shapeCreator.arc(...arcParameters))}this.lastCommand="A",this.lastX=x,this.lastY=y}arcRel(rx,ry,xAxisRotation,arcFlag,sweepFlag,x,y){if(0===rx||0===ry)this.addShape(this.shapeCreator.line(this.lastX,this.lastY,this.lastX+x,this.lastY+y));else{const arcParameters=getArcParameters(new kld_affine.Point2D(this.lastX,this.lastY),new kld_affine.Point2D(this.lastX+x,this.lastY+y),rx,ry,xAxisRotation,arcFlag,sweepFlag);this.addShape(this.shapeCreator.arc(...arcParameters))}this.lastCommand="a",this.lastX+=x,this.lastY+=y}curvetoCubicAbs(x1,y1,x2,y2,x,y){this.addShape(this.shapeCreator.cubicBezier(this.lastX,this.lastY,x1,y1,x2,y2,x,y)),this.lastX=x,this.lastY=y,this.lastCommand="C"}curvetoCubicRel(x1,y1,x2,y2,x,y){this.addShape(this.shapeCreator.cubicBezier(this.lastX,this.lastY,this.lastX+x1,this.lastY+y1,this.lastX+x2,this.lastY+y2,this.lastX+x,this.lastY+y)),this.lastX+=x,this.lastY+=y,this.lastCommand="c"}linetoHorizontalAbs(x){this.addShape(this.shapeCreator.line(this.lastX,this.lastY,x,this.lastY)),this.lastX=x,this.lastCommand="H"}linetoHorizontalRel(x){this.addShape(this.shapeCreator.line(this.lastX,this.lastY,this.lastX+x,this.lastY)),this.lastX+=x,this.lastCommand="h"}linetoAbs(x,y){this.addShape(this.shapeCreator.line(this.lastX,this.lastY,x,y)),this.lastX=x,this.lastY=y,this.lastCommand="L"}linetoRel(x,y){this.addShape(this.shapeCreator.line(this.lastX,this.lastY,this.lastX+x,this.lastY+y)),this.lastX+=x,this.lastY+=y,this.lastCommand="l"}movetoAbs(x,y){this.firstX=x,this.firstY=y,this.lastX=x,this.lastY=y,this.lastCommand="M"}movetoRel(x,y){this.firstX+=x,this.firstY+=y,this.lastX+=x,this.lastY+=y,this.lastCommand="m"}curvetoQuadraticAbs(x1,y1,x,y){this.addShape(this.shapeCreator.quadraticBezier(this.lastX,this.lastY,x1,y1,x,y)),this.lastX=x,this.lastY=y,this.lastCommand="Q"}curvetoQuadraticRel(x1,y1,x,y){this.addShape(this.shapeCreator.quadraticBezier(this.lastX,this.lastY,this.lastX+x1,this.lastY+y1,this.lastX+x,this.lastY+y)),this.lastX+=x,this.lastY+=y,this.lastCommand="q"}curvetoCubicSmoothAbs(x2,y2,x,y){let controlX,controlY;if(this.lastCommand.match(/^[SsCc]$/)){const secondToLast=this.shapes[this.shapes.length-1].args[2];controlX=2*this.lastX-secondToLast.x,controlY=2*this.lastY-secondToLast.y}else controlX=this.lastX,controlY=this.lastY;this.addShape(this.shapeCreator.cubicBezier(this.lastX,this.lastY,controlX,controlY,x2,y2,x,y)),this.lastX=x,this.lastY=y,this.lastCommand="S"}curvetoCubicSmoothRel(x2,y2,x,y){let controlX,controlY;if(this.lastCommand.match(/^[SsCc]$/)){const secondToLast=this.shapes[this.shapes.length-1].args[2];controlX=2*this.lastX-secondToLast.x,controlY=2*this.lastY-secondToLast.y}else controlX=this.lastX,controlY=this.lastY;this.addShape(this.shapeCreator.cubicBezier(this.lastX,this.lastY,controlX,controlY,this.lastX+x2,this.lastY+y2,this.lastX+x,this.lastY+y)),this.lastX+=x,this.lastY+=y,this.lastCommand="s"}curvetoQuadraticSmoothAbs(x,y){let controlX,controlY;if(this.lastCommand.match(/^[QqTt]$/)){const secondToLast=this.shapes[this.shapes.length-1].args[1];controlX=2*this.lastX-secondToLast.x,controlY=2*this.lastY-secondToLast.y}else controlX=this.lastX,controlY=this.lastY;this.addShape(this.shapeCreator.quadraticBezier(this.lastX,this.lastY,controlX,controlY,x,y)),this.lastX=x,this.lastY=y,this.lastCommand="T"}curvetoQuadraticSmoothRel(x,y){let controlX,controlY;if(this.lastCommand.match(/^[QqTt]$/)){const secondToLast=this.shapes[this.shapes.length-1].args[1];controlX=2*this.lastX-secondToLast.x,controlY=2*this.lastY-secondToLast.y}else controlX=this.lastX,controlY=this.lastY;this.addShape(this.shapeCreator.quadraticBezier(this.lastX,this.lastY,controlX,controlY,this.lastX+x,this.lastY+y)),this.lastX+=x,this.lastY+=y,this.lastCommand="t"}linetoVerticalAbs(y){this.addShape(this.shapeCreator.line(this.lastX,this.lastY,this.lastX,y)),this.lastY=y,this.lastCommand="V"}linetoVerticalRel(y){this.addShape(this.shapeCreator.line(this.lastX,this.lastY,this.lastX,this.lastY+y)),this.lastY+=y,this.lastCommand="v"}closePath(){this.addShape(this.shapeCreator.line(this.lastX,this.lastY,this.firstX,this.firstY)),this.lastX=this.firstX,this.lastY=this.firstY,this.lastCommand="z"}};const degree90=.5*Math.PI,parser=new PathParser;function getValues(types,args){const result=[];for(const[names,type]of types){let value=null;if("Point2D"===type)value=parsePoint(names,args);else if("Number"===type)value=parseNumber(names,args);else if("Array<Point2D>"===type||"Point2D[]"===type){const values=[];for(;args.length>0;)values.push(parsePoint(names,args));values.length>0&&(value=values)}else if("Optional<Number>"===type||"Number?"===type)null===(value=parseNumber(names,args))&&(value=void 0);else throw new TypeError(`Unrecognized value type: ${type}`);if(null!==value)result.push(value);else throw new TypeError(`Unable to extract value for ${names}`)}return result}function parseNumber(names,args){let result=null;if(args.length>0){const item=args[0],itemType=typeof item;if("number"===itemType)return args.shift();if("object"===itemType){for(const prop of names)if(prop in item&&"number"==typeof item[prop]){result=item[prop];break}}}return result}function parsePoint(names,args){let result=null;if(args.length>0){const item=args[0],itemType=typeof item;if("number"===itemType){if(args.length>1){const x=args.shift(),y=args.shift();result=new kld_affine.Point2D(x,y)}}else if(Array.isArray(item)&&item.length>1)if(2===item.length){const[x,y]=args.shift();result=new kld_affine.Point2D(x,y)}else throw new TypeError(`Unhandled array of length ${item.length}`);else if("object"===itemType){if("x"in item&&"y"in item)result=new kld_affine.Point2D(item.x,item.y),args.shift();else for(const props of names)if(Array.isArray(props)){if(props.every(p=>p in item)){result=new kld_affine.Point2D(item[props[0]],item[props[1]]);break}}else if(props in item){result=parsePoint([],[item[props]]);break}}}return result}class ShapeInfo{constructor(name,args){this.name=name,this.args=args}static arc(...args){const values=getValues([[["center",["centerX","centerY"],["cx","cy"]],"Point2D"],[["radiusX","rx"],"Number"],[["radiusY","ry"],"Number"],[["startRadians"],"Number"],[["endRadians"],"Number"]],args);return new ShapeInfo(ShapeInfo.ARC,values)}static quadraticBezier(...args){const values=getValues([[["p1",["p1x","p1y"]],"Point2D"],[["p2",["p2x","p2y"]],"Point2D"],[["p3",["p3x","p3y"]],"Point2D"]],args);return new ShapeInfo(ShapeInfo.QUADRATIC_BEZIER,values)}static cubicBezier(...args){const values=getValues([[["p1",["p1x","p1y"]],"Point2D"],[["p2",["p2x","p2y"]],"Point2D"],[["p3",["p3x","p3y"]],"Point2D"],[["p4",["p4x","p4y"]],"Point2D"]],args);return new ShapeInfo(ShapeInfo.CUBIC_BEZIER,values)}static circle(...args){const values=getValues([[["center",["centerX","centerY"],["cx","cy"]],"Point2D"],[["radius","r"],"Number"]],args);return new ShapeInfo(ShapeInfo.CIRCLE,values)}static ellipse(...args){const values=getValues([[["center",["centerX","centerY"],["cx","cy"]],"Point2D"],[["radiusX","rx"],"Number"],[["radiusY","ry"],"Number"]],args);return new ShapeInfo(ShapeInfo.ELLIPSE,values)}static line(...args){const values=getValues([[["p1",["p1x","p1y"],["x1","y1"]],"Point2D"],[["p2",["p2x","p2y"],["x2","y2"]],"Point2D"]],args);return new ShapeInfo(ShapeInfo.LINE,values)}static path(...args){return parser.parseData(args[0]),new ShapeInfo(ShapeInfo.PATH,handler.shapes)}static polygon(...args){const values=getValues([[[],"Array<Point2D>"]],1===args.length&&Array.isArray(args[0])?args[0]:args);return new ShapeInfo(ShapeInfo.POLYGON,values)}static polyline(...args){const values=getValues([[[],"Array<Point2D>"]],1===args.length&&Array.isArray(args[0])?args[0]:args);return new ShapeInfo(ShapeInfo.POLYLINE,values)}static rectangle(...args){const types=[[["topLeft",["x","y"],["left","top"]],"Point2D"],[["size",["width","height"],["w","h"]],"Point2D"],[["radiusX","rx"],"Optional<Number>"],[["radiusY","ry"],"Optional<Number>"]],values=getValues(types,args),p1=values[0],p2=values[1];values[1]=new kld_affine.Point2D(p1.x+p2.x,p1.y+p2.y);const result=new ShapeInfo(ShapeInfo.RECTANGLE,values);let ry=result.args.pop(),rx=result.args.pop();if(ry=void 0===ry?0:ry,0===(rx=void 0===rx?0:rx)&&0===ry)return result;const{x:p1x,y:p1y}=result.args[0],{x:p2x,y:p2y}=result.args[1],width=p2x-p1x,height=p2y-p1y;0===rx&&(rx=ry),0===ry&&(ry=rx),rx>.5*width&&(rx=.5*width),ry>.5*height&&(ry=.5*height);const x0=p1x,y0=p1y,x1=p1x+rx,y1=p1y+ry,x2=p2x-rx,y2=p2y-ry,x3=p2x,y3=p2y,segments=[ShapeInfo.arc(x1,y1,rx,ry,2*degree90,3*degree90),ShapeInfo.line(x1,y0,x2,y0),ShapeInfo.arc(x2,y1,rx,ry,3*degree90,4*degree90),ShapeInfo.line(x3,y1,x3,y2),ShapeInfo.arc(x2,y2,rx,ry,0,degree90),ShapeInfo.line(x2,y3,x1,y3),ShapeInfo.arc(x1,y2,rx,ry,degree90,2*degree90),ShapeInfo.line(x0,y2,x0,y1)];return new ShapeInfo(ShapeInfo.PATH,segments)}}ShapeInfo.ARC="Arc",ShapeInfo.QUADRATIC_BEZIER="Bezier2",ShapeInfo.CUBIC_BEZIER="Bezier3",ShapeInfo.CIRCLE="Circle",ShapeInfo.ELLIPSE="Ellipse",ShapeInfo.LINE="Line",ShapeInfo.PATH="Path",ShapeInfo.POLYGON="Polygon",ShapeInfo.POLYLINE="Polyline",ShapeInfo.RECTANGLE="Rectangle";const handler=new lib_PathHandler(ShapeInfo);parser.setHandler(handler);const Intersection_TWO_PI=2*Math.PI,UNIT_X=new kld_affine.Vector2D(1,0);function normalizeAngle(radians){const normal=radians%Intersection_TWO_PI;return normal<0?normal+Intersection_TWO_PI:normal}function closePolygon(points){const copy=points.slice();return copy.push(points[0]),copy}class Intersection{constructor(status){this.init(status)}init(status){this.status=status,this.points=[]}static intersect(shape1,shape2){let result;if(null==shape1||null==shape2)result=new Intersection("No Intersection");else if("Path"===shape1.name)result=Intersection.intersectPathShape(shape1,shape2);else if("Path"===shape2.name)result=Intersection.intersectPathShape(shape2,shape1);else if("Arc"===shape1.name)result=Intersection.intersectArcShape(shape1,shape2);else if("Arc"===shape2.name)result=Intersection.intersectArcShape(shape2,shape1);else{let method,args;if(shape1.name<shape2.name?(method="intersect"+shape1.name+shape2.name,args=shape1.args.concat(shape2.args)):(method="intersect"+shape2.name+shape1.name,args=shape2.args.concat(shape1.args)),!(method in Intersection))throw new TypeError("Intersection not available: "+method);result=Intersection[method].apply(null,args)}return result}static intersectPathShape(path,shape){const result=new Intersection("No Intersection");for(const segment of path.args){const inter=Intersection.intersect(segment,shape);result.appendPoints(inter.points)}return result.points.length>0&&(result.status="Intersection"),result}static intersectArcShape(arc,shape){const[center,radiusX,radiusY,startRadians,endRadians]=arc.args,ellipse=new ShapeInfo(ShapeInfo.ELLIPSE,[center,radiusX,radiusY]),ellipse_result=Intersection.intersect(ellipse,shape);return function(e,g,h,i,a,b){if(0===e.points.length)return e;const c=new Intersection("No Intersection");for(const f of(b<a&&([a,b]=[b,a]),(a<0||b<0)&&(a+=Intersection_TWO_PI,b+=Intersection_TWO_PI),e.points)){let d=normalizeAngle(UNIT_X.angleBetween(kld_affine.Vector2D.fromPoints(g,f)));d<a&&(d+=Intersection_TWO_PI),a<=d&&d<=b&&c.appendPoint(f)}return c.points.length>0&&(c.status="Intersection"),c}(ellipse_result,center,radiusX,radiusY,startRadians,endRadians)}static intersectBezier2Bezier2(a1,a2,a3,b1,b2,b3){let a,b;const result=new Intersection("No Intersection");a=a2.multiply(-2);const c12=a1.add(a.add(a3));a=a1.multiply(-2),b=a2.multiply(2);const c11=a.add(b),c10=new kld_affine.Point2D(a1.x,a1.y);a=b2.multiply(-2);const c22=b1.add(a.add(b3));a=b1.multiply(-2),b=b2.multiply(2);const c21=a.add(b),c20=new kld_affine.Point2D(b1.x,b1.y);a=c12.x*c11.y-c11.x*c12.y,b=c22.x*c11.y-c11.x*c22.y;const c=c21.x*c11.y-c11.x*c21.y,d=c11.x*(c10.y-c20.y)+c11.y*(-c10.x+c20.x),e=c22.x*c12.y-c12.x*c22.y,f=c21.x*c12.y-c12.x*c21.y,g=c12.x*(c10.y-c20.y)+c12.y*(-c10.x+c20.x),poly=new lib_Polynomial(-e*e,-2*e*f,a*b-f*f-2*e*g,a*c-2*f*g,a*d-g*g),roots=poly.getRoots();for(const s of roots)if(0<=s&&s<=1){const xp=new lib_Polynomial(c12.x,c11.x,c10.x-c20.x-s*c21.x-s*s*c22.x);xp.simplifyEquals();const xRoots=xp.getRoots(),yp=new lib_Polynomial(c12.y,c11.y,c10.y-c20.y-s*c21.y-s*s*c22.y);yp.simplifyEquals();const yRoots=yp.getRoots();if(xRoots.length>0&&yRoots.length>0){const TOLERANCE=1e-4;checkRoots:for(const xRoot of xRoots)if(0<=xRoot&&xRoot<=1){for(let k=0;k<yRoots.length;k++)if(Math.abs(xRoot-yRoots[k])<TOLERANCE){result.points.push(c22.multiply(s*s).add(c21.multiply(s).add(c20)));break checkRoots}}}}return result.points.length>0&&(result.status="Intersection"),result}static intersectBezier2Bezier3(a1,a2,a3,b1,b2,b3,b4){let a,b,c,d;const result=new Intersection("No Intersection");a=a2.multiply(-2);const c12=a1.add(a.add(a3));a=a1.multiply(-2),b=a2.multiply(2);const c11=a.add(b),c10=new kld_affine.Point2D(a1.x,a1.y);a=b1.multiply(-1),b=b2.multiply(3),c=b3.multiply(-3),d=a.add(b.add(c.add(b4)));const c23=new kld_affine.Point2D(d.x,d.y);a=b1.multiply(3),b=b2.multiply(-6),c=b3.multiply(3),d=a.add(b.add(c));const c22=new kld_affine.Point2D(d.x,d.y);a=b1.multiply(-3),b=b2.multiply(3),c=a.add(b);const c21=new kld_affine.Point2D(c.x,c.y),c20=new kld_affine.Point2D(b1.x,b1.y),c10x2=c10.x*c10.x,c10y2=c10.y*c10.y,c11x2=c11.x*c11.x,c11y2=c11.y*c11.y,c12x2=c12.x*c12.x,c12y2=c12.y*c12.y,c20x2=c20.x*c20.x,c20y2=c20.y*c20.y,c21x2=c21.x*c21.x,c21y2=c21.y*c21.y,c22x2=c22.x*c22.x,c22y2=c22.y*c22.y,c23x2=c23.x*c23.x,c23y2=c23.y*c23.y,poly=new lib_Polynomial(-2*c12.x*c12.y*c23.x*c23.y+c12x2*c23y2+c12y2*c23x2,-2*c12.x*c12.y*c22.x*c23.y-2*c12.x*c12.y*c22.y*c23.x+2*c12y2*c22.x*c23.x+2*c12x2*c22.y*c23.y,-2*c12.x*c21.x*c12.y*c23.y-2*c12.x*c12.y*c21.y*c23.x-2*c12.x*c12.y*c22.x*c22.y+2*c21.x*c12y2*c23.x+c12y2*c22x2+c12x2*(2*c21.y*c23.y+c22y2),2*c10.x*c12.x*c12.y*c23.y+2*c10.y*c12.x*c12.y*c23.x+c11.x*c11.y*c12.x*c23.y+c11.x*c11.y*c12.y*c23.x-2*c20.x*c12.x*c12.y*c23.y-2*c12.x*c20.y*c12.y*c23.x-2*c12.x*c21.x*c12.y*c22.y-2*c12.x*c12.y*c21.y*c22.x-2*c10.x*c12y2*c23.x-2*c10.y*c12x2*c23.y+2*c20.x*c12y2*c23.x+2*c21.x*c12y2*c22.x-c11y2*c12.x*c23.x-c11x2*c12.y*c23.y+c12x2*(2*c20.y*c23.y+2*c21.y*c22.y),2*c10.x*c12.x*c12.y*c22.y+2*c10.y*c12.x*c12.y*c22.x+c11.x*c11.y*c12.x*c22.y+c11.x*c11.y*c12.y*c22.x-2*c20.x*c12.x*c12.y*c22.y-2*c12.x*c20.y*c12.y*c22.x-2*c12.x*c21.x*c12.y*c21.y-2*c10.x*c12y2*c22.x-2*c10.y*c12x2*c22.y+2*c20.x*c12y2*c22.x-c11y2*c12.x*c22.x-c11x2*c12.y*c22.y+c21x2*c12y2+c12x2*(2*c20.y*c22.y+c21y2),2*c10.x*c12.x*c12.y*c21.y+2*c10.y*c12.x*c21.x*c12.y+c11.x*c11.y*c12.x*c21.y+c11.x*c11.y*c21.x*c12.y-2*c20.x*c12.x*c12.y*c21.y-2*c12.x*c20.y*c21.x*c12.y-2*c10.x*c21.x*c12y2-2*c10.y*c12x2*c21.y+2*c20.x*c21.x*c12y2-c11y2*c12.x*c21.x-c11x2*c12.y*c21.y+2*c12x2*c20.y*c21.y,-2*c10.x*c10.y*c12.x*c12.y-c10.x*c11.x*c11.y*c12.y-c10.y*c11.x*c11.y*c12.x+2*c10.x*c12.x*c20.y*c12.y+2*c10.y*c20.x*c12.x*c12.y+c11.x*c20.x*c11.y*c12.y+c11.x*c11.y*c12.x*c20.y-2*c20.x*c12.x*c20.y*c12.y-2*c10.x*c20.x*c12y2+c10.x*c11y2*c12.x+c10.y*c11x2*c12.y-2*c10.y*c12x2*c20.y-c20.x*c11y2*c12.x-c11x2*c20.y*c12.y+c10x2*c12y2+c10y2*c12x2+c20x2*c12y2+c12x2*c20y2),roots=poly.getRootsInInterval(0,1);for(const s of roots){const xRoots=new lib_Polynomial(c12.x,c11.x,c10.x-c20.x-s*c21.x-s*s*c22.x-s*s*s*c23.x).getRoots(),yRoots=new lib_Polynomial(c12.y,c11.y,c10.y-c20.y-s*c21.y-s*s*c22.y-s*s*s*c23.y).getRoots();if(xRoots.length>0&&yRoots.length>0){const TOLERANCE=1e-4;checkRoots:for(const xRoot of xRoots)if(0<=xRoot&&xRoot<=1){for(let k=0;k<yRoots.length;k++)if(Math.abs(xRoot-yRoots[k])<TOLERANCE){result.points.push(c23.multiply(s*s*s).add(c22.multiply(s*s).add(c21.multiply(s).add(c20))));break checkRoots}}}}return result.points.length>0&&(result.status="Intersection"),result}static intersectBezier2Circle(p1,p2,p3,c,r){return Intersection.intersectBezier2Ellipse(p1,p2,p3,c,r,r)}static intersectBezier2Ellipse(p1,p2,p3,ec,rx,ry){let a;const result=new Intersection("No Intersection");a=p2.multiply(-2);const c2=p1.add(a.add(p3));a=p1.multiply(-2);const b=p2.multiply(2),c1=a.add(b),c0=new kld_affine.Point2D(p1.x,p1.y),rxrx=rx*rx,ryry=ry*ry,roots=new lib_Polynomial(ryry*c2.x*c2.x+rxrx*c2.y*c2.y,2*(ryry*c2.x*c1.x+rxrx*c2.y*c1.y),ryry*(2*c2.x*c0.x+c1.x*c1.x)+rxrx*(2*c2.y*c0.y+c1.y*c1.y)-2*(ryry*ec.x*c2.x+rxrx*ec.y*c2.y),2*(ryry*c1.x*(c0.x-ec.x)+rxrx*c1.y*(c0.y-ec.y)),ryry*(c0.x*c0.x+ec.x*ec.x)+rxrx*(c0.y*c0.y+ec.y*ec.y)-2*(ryry*ec.x*c0.x+rxrx*ec.y*c0.y)-rxrx*ryry).getRoots();for(const t of roots)0<=t&&t<=1&&result.points.push(c2.multiply(t*t).add(c1.multiply(t).add(c0)));return result.points.length>0&&(result.status="Intersection"),result}static intersectBezier2Line(p1,p2,p3,a1,a2){let a;const min=a1.min(a2),max=a1.max(a2),result=new Intersection("No Intersection");a=p2.multiply(-2);const c2=p1.add(a.add(p3));a=p1.multiply(-2);const b=p2.multiply(2),c1=a.add(b),c0=new kld_affine.Point2D(p1.x,p1.y),n=new kld_affine.Vector2D(a1.y-a2.y,a2.x-a1.x),cl=a1.x*a2.y-a2.x*a1.y,roots=new lib_Polynomial(n.dot(c2),n.dot(c1),n.dot(c0)+cl).getRoots();for(const t of roots)if(0<=t&&t<=1){const p4=p1.lerp(p2,t),p5=p2.lerp(p3,t),p6=p4.lerp(p5,t);a1.x===a2.x?min.y<=p6.y&&p6.y<=max.y&&(result.status="Intersection",result.appendPoint(p6)):a1.y===a2.y?min.x<=p6.x&&p6.x<=max.x&&(result.status="Intersection",result.appendPoint(p6)):min.x<=p6.x&&p6.x<=max.x&&min.y<=p6.y&&p6.y<=max.y&&(result.status="Intersection",result.appendPoint(p6))}return result}static intersectBezier2Polygon(p1,p2,p3,points){return Intersection.intersectBezier2Polyline(p1,p2,p3,closePolygon(points))}static intersectBezier2Polyline(p1,p2,p3,points){const result=new Intersection("No Intersection"),{length:len}=points;for(let i=0;i<len-1;i++){const a1=points[i],a2=points[i+1],inter=Intersection.intersectBezier2Line(p1,p2,p3,a1,a2);result.appendPoints(inter.points)}return result.points.length>0&&(result.status="Intersection"),result}static intersectBezier2Rectangle(p1,p2,p3,r1,r2){const min=r1.min(r2),max=r1.max(r2),topRight=new kld_affine.Point2D(max.x,min.y),bottomLeft=new kld_affine.Point2D(min.x,max.y),inter1=Intersection.intersectBezier2Line(p1,p2,p3,min,topRight),inter2=Intersection.intersectBezier2Line(p1,p2,p3,topRight,max),inter3=Intersection.intersectBezier2Line(p1,p2,p3,max,bottomLeft),inter4=Intersection.intersectBezier2Line(p1,p2,p3,bottomLeft,min),result=new Intersection("No Intersection");return result.appendPoints(inter1.points),result.appendPoints(inter2.points),result.appendPoints(inter3.points),result.appendPoints(inter4.points),result.points.length>0&&(result.status="Intersection"),result}static intersectBezier3Bezier3(a1,a2,a3,a4,b1,b2,b3,b4){let a,b,c,d;const result=new Intersection("No Intersection");a=a1.multiply(-1),b=a2.multiply(3),c=a3.multiply(-3),d=a.add(b.add(c.add(a4)));const c13=new kld_affine.Point2D(d.x,d.y);a=a1.multiply(3),b=a2.multiply(-6),c=a3.multiply(3),d=a.add(b.add(c));const c12=new kld_affine.Point2D(d.x,d.y);a=a1.multiply(-3),b=a2.multiply(3),c=a.add(b);const c11=new kld_affine.Point2D(c.x,c.y),c10=new kld_affine.Point2D(a1.x,a1.y);a=b1.multiply(-1),b=b2.multiply(3),c=b3.multiply(-3),d=a.add(b.add(c.add(b4)));const c23=new kld_affine.Point2D(d.x,d.y);a=b1.multiply(3),b=b2.multiply(-6),c=b3.multiply(3),d=a.add(b.add(c));const c22=new kld_affine.Point2D(d.x,d.y);a=b1.multiply(-3),b=b2.multiply(3),c=a.add(b);const c21=new kld_affine.Point2D(c.x,c.y),c20=new kld_affine.Point2D(b1.x,b1.y);a=c13.x*c12.y-c12.x*c13.y,b=c13.x*c11.y-c11.x*c13.y;const c0=c13.x*c10.y-c10.x*c13.y+c20.x*c13.y-c13.x*c20.y,c1=c21.x*c13.y-c13.x*c21.y,c2=c22.x*c13.y-c13.x*c22.y,c3=c23.x*c13.y-c13.x*c23.y;d=c13.x*c11.y-c11.x*c13.y;const e0=c13.x*c10.y+c12.x*c11.y-c11.x*c12.y-c10.x*c13.y+c20.x*c13.y-c13.x*c20.y,e1=c21.x*c13.y-c13.x*c21.y,e2=c22.x*c13.y-c13.x*c22.y,e3=c23.x*c13.y-c13.x*c23.y,f0=c12.x*c10.y-c10.x*c12.y+c20.x*c12.y-c12.x*c20.y,f1=c21.x*c12.y-c12.x*c21.y,f2=c22.x*c12.y-c12.x*c22.y,f3=c23.x*c12.y-c12.x*c23.y,g0=c13.x*c10.y-c10.x*c13.y+c20.x*c13.y-c13.x*c20.y,g1=c21.x*c13.y-c13.x*c21.y,g2=c22.x*c13.y-c13.x*c22.y,g3=c23.x*c13.y-c13.x*c23.y,h0=c12.x*c10.y-c10.x*c12.y+c20.x*c12.y-c12.x*c20.y,h1=c21.x*c12.y-c12.x*c21.y,h2=c22.x*c12.y-c12.x*c22.y,h3=c23.x*c12.y-c12.x*c23.y,i0=c11.x*c10.y-c10.x*c11.y+c20.x*c11.y-c11.x*c20.y,i1=c21.x*c11.y-c11.x*c21.y,i2=c22.x*c11.y-c11.x*c22.y,i3=c23.x*c11.y-c11.x*c23.y,poly=new lib_Polynomial(-c3*e3*g3,-c3*e3*g2-c3*e2*g3-c2*e3*g3,-c3*e3*g1-c3*e2*g2-c2*e3*g2-c3*e1*g3-c2*e2*g3-c1*e3*g3,-c3*e3*g0-c3*e2*g1-c2*e3*g1-c3*e1*g2-c2*e2*g2-c1*e3*g2-c3*e0*g3-c2*e1*g3-c1*e2*g3-c0*e3*g3+b*f3*g3+c3*d*h3-a*f3*h3+a*e3*i3,-c3*e2*g0-c2*e3*g0-c3*e1*g1-c2*e2*g1-c1*e3*g1-c3*e0*g2-c2*e1*g2-c1*e2*g2-c0*e3*g2+b*f3*g2-c2*e0*g3-c1*e1*g3-c0*e2*g3+b*f2*g3+c3*d*h2-a*f3*h2+c2*d*h3-a*f2*h3+a*e3*i2+a*e2*i3,-c3*e1*g0-c2*e2*g0-c1*e3*g0-c3*e0*g1-c2*e1*g1-c1*e2*g1-c0*e3*g1+b*f3*g1-c2*e0*g2-c1*e1*g2-c0*e2*g2+b*f2*g2-c1*e0*g3-c0*e1*g3+b*f1*g3+c3*d*h1-a*f3*h1+c2*d*h2-a*f2*h2+c1*d*h3-a*f1*h3+a*e3*i1+a*e2*i2+a*e1*i3,-c3*e0*g0-c2*e1*g0-c1*e2*g0-c0*e3*g0+b*f3*g0-c2*e0*g1-c1*e1*g1-c0*e2*g1+b*f2*g1-c1*e0*g2-c0*e1*g2+b*f1*g2-c0*e0*g3+b*f0*g3+c3*d*h0-a*f3*h0+c2*d*h1-a*f2*h1+c1*d*h2-a*f1*h2+c0*d*h3-a*f0*h3+a*e3*i0+a*e2*i1+a*e1*i2-b*d*i3+a*e0*i3,-c2*e0*g0-c1*e1*g0-c0*e2*g0+b*f2*g0-c1*e0*g1-c0*e1*g1+b*f1*g1-c0*e0*g2+b*f0*g2+c2*d*h0-a*f2*h0+c1*d*h1-a*f1*h1+c0*d*h2-a*f0*h2+a*e2*i0+a*e1*i1-b*d*i2+a*e0*i2,-c1*e0*g0-c0*e1*g0+b*f1*g0-c0*e0*g1+b*f0*g1+c1*d*h0-a*f1*h0+c0*d*h1-a*f0*h1+a*e1*i0-b*d*i1+a*e0*i1,-c0*e0*g0+b*f0*g0+c0*d*h0-a*f0*h0-b*d*i0+a*e0*i0);poly.simplifyEquals();const roots=poly.getRootsInInterval(0,1);for(const s of roots){const xp=new lib_Polynomial(c13.x,c12.x,c11.x,c10.x-c20.x-s*c21.x-s*s*c22.x-s*s*s*c23.x);xp.simplifyEquals();const xRoots=xp.getRoots(),yp=new lib_Polynomial(c13.y,c12.y,c11.y,c10.y-c20.y-s*c21.y-s*s*c22.y-s*s*s*c23.y);yp.simplifyEquals();const yRoots=yp.getRoots();if(xRoots.length>0&&yRoots.length>0){const TOLERANCE=1e-4;checkRoots:for(const xRoot of xRoots)if(0<=xRoot&&xRoot<=1){for(let k=0;k<yRoots.length;k++)if(Math.abs(xRoot-yRoots[k])<TOLERANCE){result.points.push(c23.multiply(s*s*s).add(c22.multiply(s*s).add(c21.multiply(s).add(c20))));break checkRoots}}}}return result.points.length>0&&(result.status="Intersection"),result}static intersectBezier3Circle(p1,p2,p3,p4,c,r){return Intersection.intersectBezier3Ellipse(p1,p2,p3,p4,c,r,r)}static intersectBezier3Ellipse(p1,p2,p3,p4,ec,rx,ry){let a,b,c,d;const result=new Intersection("No Intersection");a=p1.multiply(-1),b=p2.multiply(3),c=p3.multiply(-3),d=a.add(b.add(c.add(p4)));const c3=new kld_affine.Point2D(d.x,d.y);a=p1.multiply(3),b=p2.multiply(-6),c=p3.multiply(3),d=a.add(b.add(c));const c2=new kld_affine.Point2D(d.x,d.y);a=p1.multiply(-3),b=p2.multiply(3),c=a.add(b);const c1=new kld_affine.Point2D(c.x,c.y),c0=new kld_affine.Point2D(p1.x,p1.y),rxrx=rx*rx,ryry=ry*ry,poly=new lib_Polynomial(c3.x*c3.x*ryry+c3.y*c3.y*rxrx,2*(c3.x*c2.x*ryry+c3.y*c2.y*rxrx),2*(c3.x*c1.x*ryry+c3.y*c1.y*rxrx)+c2.x*c2.x*ryry+c2.y*c2.y*rxrx,2*c3.x*ryry*(c0.x-ec.x)+2*c3.y*rxrx*(c0.y-ec.y)+2*(c2.x*c1.x*ryry+c2.y*c1.y*rxrx),2*c2.x*ryry*(c0.x-ec.x)+2*c2.y*rxrx*(c0.y-ec.y)+c1.x*c1.x*ryry+c1.y*c1.y*rxrx,2*c1.x*ryry*(c0.x-ec.x)+2*c1.y*rxrx*(c0.y-ec.y),c0.x*c0.x*ryry-2*c0.y*ec.y*rxrx-2*c0.x*ec.x*ryry+c0.y*c0.y*rxrx+ec.x*ec.x*ryry+ec.y*ec.y*rxrx-rxrx*ryry),roots=poly.getRootsInInterval(0,1);for(const t of roots)result.points.push(c3.multiply(t*t*t).add(c2.multiply(t*t).add(c1.multiply(t).add(c0))));return result.points.length>0&&(result.status="Intersection"),result}static intersectBezier3Line(p1,p2,p3,p4,a1,a2){let a,b,c,d;const min=a1.min(a2),max=a1.max(a2),result=new Intersection("No Intersection");a=p1.multiply(-1),b=p2.multiply(3),c=p3.multiply(-3),d=a.add(b.add(c.add(p4)));const c3=new kld_affine.Vector2D(d.x,d.y);a=p1.multiply(3),b=p2.multiply(-6),c=p3.multiply(3),d=a.add(b.add(c));const c2=new kld_affine.Vector2D(d.x,d.y);a=p1.multiply(-3),b=p2.multiply(3),c=a.add(b);const c1=new kld_affine.Vector2D(c.x,c.y),c0=new kld_affine.Vector2D(p1.x,p1.y),n=new kld_affine.Vector2D(a1.y-a2.y,a2.x-a1.x),cl=a1.x*a2.y-a2.x*a1.y,roots=new lib_Polynomial(n.dot(c3),n.dot(c2),n.dot(c1),n.dot(c0)+cl).getRoots();for(const t of roots)if(0<=t&&t<=1){const p5=p1.lerp(p2,t),p6=p2.lerp(p3,t),p7=p3.lerp(p4,t),p8=p5.lerp(p6,t),p9=p6.lerp(p7,t),p10=p8.lerp(p9,t);a1.x===a2.x?min.y<=p10.y&&p10.y<=max.y&&(result.status="Intersection",result.appendPoint(p10)):a1.y===a2.y?min.x<=p10.x&&p10.x<=max.x&&(result.status="Intersection",result.appendPoint(p10)):min.x<=p10.x&&p10.x<=max.x&&min.y<=p10.y&&p10.y<=max.y&&(result.status="Intersection",result.appendPoint(p10))}return result}static intersectBezier3Polygon(p1,p2,p3,p4,points){return Intersection.intersectBezier3Polyline(p1,p2,p3,p4,closePolygon(points))}static intersectBezier3Polyline(p1,p2,p3,p4,points){const result=new Intersection("No Intersection"),{length:len}=points;for(let i=0;i<len-1;i++){const a1=points[i],a2=points[i+1],inter=Intersection.intersectBezier3Line(p1,p2,p3,p4,a1,a2);result.appendPoints(inter.points)}return result.points.length>0&&(result.status="Intersection"),result}static intersectBezier3Rectangle(p1,p2,p3,p4,r1,r2){const min=r1.min(r2),max=r1.max(r2),topRight=new kld_affine.Point2D(max.x,min.y),bottomLeft=new kld_affine.Point2D(min.x,max.y),inter1=Intersection.intersectBezier3Line(p1,p2,p3,p4,min,topRight),inter2=Intersection.intersectBezier3Line(p1,p2,p3,p4,topRight,max),inter3=Intersection.intersectBezier3Line(p1,p2,p3,p4,max,bottomLeft),inter4=Intersection.intersectBezier3Line(p1,p2,p3,p4,bottomLeft,min),result=new Intersection("No Intersection");return result.appendPoints(inter1.points),result.appendPoints(inter2.points),result.appendPoints(inter3.points),result.appendPoints(inter4.points),result.points.length>0&&(result.status="Intersection"),result}static intersectCircleCircle(c1,r1,c2,r2){let result;const c_dist=c1.distanceFrom(c2);if(c_dist>r1+r2)result=new Intersection("Outside");else if(c_dist<Math.abs(r1-r2))result=new Intersection("Inside");else{result=new Intersection("Intersection");const a=(r1*r1-r2*r2+c_dist*c_dist)/(2*c_dist),h=Math.sqrt(r1*r1-a*a),p=c1.lerp(c2,a/c_dist),b=h/c_dist;result.points.push(new kld_affine.Point2D(p.x-b*(c2.y-c1.y),p.y+b*(c2.x-c1.x))),result.points.push(new kld_affine.Point2D(p.x+b*(c2.y-c1.y),p.y-b*(c2.x-c1.x)))}return result}static intersectCircleEllipse(cc,r,ec,rx,ry){return Intersection.intersectEllipseEllipse(cc,r,r,ec,rx,ry)}static intersectCircleLine(c,r,a1,a2){let result;const a=(a2.x-a1.x)*(a2.x-a1.x)+(a2.y-a1.y)*(a2.y-a1.y),b=2*((a2.x-a1.x)*(a1.x-c.x)+(a2.y-a1.y)*(a1.y-c.y)),cc=c.x*c.x+c.y*c.y+a1.x*a1.x+a1.y*a1.y-2*(c.x*a1.x+c.y*a1.y)-r*r,deter=b*b-4*a*cc;if(deter<0)result=new Intersection("Outside");else if(0===deter)result=new Intersection("Tangent");else{const e=Math.sqrt(deter),u1=(-b+e)/(2*a),u2=(-b-e)/(2*a);(u1<0||u1>1)&&(u2<0||u2>1)?result=new Intersection(u1<0&&u2<0||u1>1&&u2>1?"Outside":"Inside"):(result=new Intersection("Intersection"),0<=u1&&u1<=1&&result.points.push(a1.lerp(a2,u1)),0<=u2&&u2<=1&&result.points.push(a1.lerp(a2,u2)))}return result}static intersectCirclePolygon(c,r,points){return Intersection.intersectCirclePolyline(c,r,closePolygon(points))}static intersectCirclePolyline(c,r,points){const result=new Intersection("No Intersection"),{length:len}=points;let inter;for(let i=0;i<len-1;i++){const a1=points[i],a2=points[i+1];inter=Intersection.intersectCircleLine(c,r,a1,a2),result.appendPoints(inter.points)}return result.points.length>0?result.status="Intersection":result.status=inter.status,result}static intersectCircleRectangle(c,r,r1,r2){const min=r1.min(r2),max=r1.max(r2),topRight=new kld_affine.Point2D(max.x,min.y),bottomLeft=new kld_affine.Point2D(min.x,max.y),inter1=Intersection.intersectCircleLine(c,r,min,topRight),inter2=Intersection.intersectCircleLine(c,r,topRight,max),inter3=Intersection.intersectCircleLine(c,r,max,bottomLeft),inter4=Intersection.intersectCircleLine(c,r,bottomLeft,min),result=new Intersection("No Intersection");return result.appendPoints(inter1.points),result.appendPoints(inter2.points),result.appendPoints(inter3.points),result.appendPoints(inter4.points),result.points.length>0?result.status="Intersection":result.status=inter1.status,result}static intersectEllipseEllipse(c1,rx1,ry1,c2,rx2,ry2){const a=[ry1*ry1,0,rx1*rx1,-2*ry1*ry1*c1.x,-2*rx1*rx1*c1.y,ry1*ry1*c1.x*c1.x+rx1*rx1*c1.y*c1.y-rx1*rx1*ry1*ry1],b=[ry2*ry2,0,rx2*rx2,-2*ry2*ry2*c2.x,-2*rx2*rx2*c2.y,ry2*ry2*c2.x*c2.x+rx2*rx2*c2.y*c2.y-rx2*rx2*ry2*ry2],yPoly=function(a,b){const c=a[0]*b[1]-b[0]*a[1],d=a[0]*b[2]-b[0]*a[2],e=a[0]*b[3]-b[0]*a[3],f=a[0]*b[4]-b[0]*a[4],g=a[0]*b[5]-b[0]*a[5],h=a[1]*b[2]-b[1]*a[2],l=a[1]*b[4]-b[1]*a[4],m=a[1]*b[5]-b[1]*a[5],n=a[2]*b[3]-b[2]*a[3],o=a[3]*b[4]-b[3]*a[4],i=a[3]*b[5]-b[3]*a[5],j=m+o,k=l-n;return new lib_Polynomial(c*h-d*d,c*k+e*h-2*d*f,c*j+e*k-f*f-2*d*g,c*i+e*j-2*f*g,e*i-g*g)}(a,b),yRoots=yPoly.getRoots(),norm0=(a[0]*a[0]+2*a[1]*a[1]+a[2]*a[2])*.001,norm1=(b[0]*b[0]+2*b[1]*b[1]+b[2]*b[2])*.001,result=new Intersection("No Intersection");for(let y=0;y<yRoots.length;y++){const xPoly=new lib_Polynomial(a[0],a[3]+yRoots[y]*a[1],a[5]+yRoots[y]*(a[4]+yRoots[y]*a[2])),xRoots=xPoly.getRoots();for(let x=0;x<xRoots.length;x++){let tst=(a[0]*xRoots[x]+a[1]*yRoots[y]+a[3])*xRoots[x]+(a[2]*yRoots[y]+a[4])*yRoots[y]+a[5];Math.abs(tst)<norm0&&Math.abs(tst=(b[0]*xRoots[x]+b[1]*yRoots[y]+b[3])*xRoots[x]+(b[2]*yRoots[y]+b[4])*yRoots[y]+b[5])<norm1&&result.appendPoint(new kld_affine.Point2D(xRoots[x],yRoots[y]))}}return result.points.length>0&&(result.status="Intersection"),result}static intersectEllipseLine(c,rx,ry,a1,a2){let result;const orign=new kld_affine.Vector2D(a1.x,a1.y),dir=kld_affine.Vector2D.fromPoints(a1,a2),center=new kld_affine.Vector2D(c.x,c.y),diff=orign.subtract(center),mDir=new kld_affine.Vector2D(dir.x/(rx*rx),dir.y/(ry*ry)),mDiff=new kld_affine.Vector2D(diff.x/(rx*rx),diff.y/(ry*ry)),a=dir.dot(mDir),b=dir.dot(mDiff);c=diff.dot(mDiff)-1;const d=b*b-a*c;if(d<0)result=new Intersection("Outside");else if(d>0){const root=Math.sqrt(d),t_a=(-b-root)/a,t_b=(-b+root)/a;(t_a<0||1<t_a)&&(t_b<0||1<t_b)?result=new Intersection(t_a<0&&t_b<0||t_a>1&&t_b>1?"Outside":"Inside"):(result=new Intersection("Intersection"),0<=t_a&&t_a<=1&&result.appendPoint(a1.lerp(a2,t_a)),0<=t_b&&t_b<=1&&result.appendPoint(a1.lerp(a2,t_b)))}else{const t=-b/a;0<=t&&t<=1?(result=new Intersection("Intersection")).appendPoint(a1.lerp(a2,t)):result=new Intersection("Outside")}return result}static intersectEllipsePolygon(c,rx,ry,points){return Intersection.intersectEllipsePolyline(c,rx,ry,closePolygon(points))}static intersectEllipsePolyline(c,rx,ry,points){const result=new Intersection("No Intersection"),{length:len}=points;for(let i=0;i<len-1;i++){const b1=points[i],b2=points[i+1],inter=Intersection.intersectEllipseLine(c,rx,ry,b1,b2);result.appendPoints(inter.points)}return result.points.length>0&&(result.status="Intersection"),result}static intersectEllipseRectangle(c,rx,ry,r1,r2){const min=r1.min(r2),max=r1.max(r2),topRight=new kld_affine.Point2D(max.x,min.y),bottomLeft=new kld_affine.Point2D(min.x,max.y),inter1=Intersection.intersectEllipseLine(c,rx,ry,min,topRight),inter2=Intersection.intersectEllipseLine(c,rx,ry,topRight,max),inter3=Intersection.intersectEllipseLine(c,rx,ry,max,bottomLeft),inter4=Intersection.intersectEllipseLine(c,rx,ry,bottomLeft,min),result=new Intersection("No Intersection");return result.appendPoints(inter1.points),result.appendPoints(inter2.points),result.appendPoints(inter3.points),result.appendPoints(inter4.points),result.points.length>0&&(result.status="Intersection"),result}static intersectLineLine(a1,a2,b1,b2){let result;const ua_t=(b2.x-b1.x)*(a1.y-b1.y)-(b2.y-b1.y)*(a1.x-b1.x),ub_t=(a2.x-a1.x)*(a1.y-b1.y)-(a2.y-a1.y)*(a1.x-b1.x),u_b=(b2.y-b1.y)*(a2.x-a1.x)-(b2.x-b1.x)*(a2.y-a1.y);if(0!==u_b){const ua=ua_t/u_b,ub=ub_t/u_b;0<=ua&&ua<=1&&0<=ub&&ub<=1?(result=new Intersection("Intersection")).points.push(new kld_affine.Point2D(a1.x+ua*(a2.x-a1.x),a1.y+ua*(a2.y-a1.y))):result=new Intersection("No Intersection")}else result=new Intersection(0===ua_t||0===ub_t?"Coincident":"Parallel");return result}static intersectLinePolygon(a1,a2,points){return Intersection.intersectLinePolyline(a1,a2,closePolygon(points))}static intersectLinePolyline(a1,a2,points){const result=new Intersection("No Intersection"),{length:len}=points;for(let i=0;i<len-1;i++){const b1=points[i],b2=points[i+1],inter=Intersection.intersectLineLine(a1,a2,b1,b2);result.appendPoints(inter.points)}return result.points.length>0&&(result.status="Intersection"),result}static intersectLineRectangle(a1,a2,r1,r2){const min=r1.min(r2),max=r1.max(r2),topRight=new kld_affine.Point2D(max.x,min.y),bottomLeft=new kld_affine.Point2D(min.x,max.y),inter1=Intersection.intersectLineLine(min,topRight,a1,a2),inter2=Intersection.intersectLineLine(topRight,max,a1,a2),inter3=Intersection.intersectLineLine(max,bottomLeft,a1,a2),inter4=Intersection.intersectLineLine(bottomLeft,min,a1,a2),result=new Intersection("No Intersection");return result.appendPoints(inter1.points),result.appendPoints(inter2.points),result.appendPoints(inter3.points),result.appendPoints(inter4.points),result.points.length>0&&(result.status="Intersection"),result}static intersectPolygonPolygon(points1,points2){return Intersection.intersectPolylinePolyline(closePolygon(points1),closePolygon(points2))}static intersectPolygonPolyline(points1,points2){return Intersection.intersectPolylinePolyline(closePolygon(points1),points2)}static intersectPolygonRectangle(points,r1,r2){return Intersection.intersectPolylineRectangle(closePolygon(points),r1,r2)}static intersectPolylinePolyline(points1,points2){const result=new Intersection("No Intersection"),{length:len}=points1;for(let i=0;i<len-1;i++){const a1=points1[i],a2=points1[i+1],inter=Intersection.intersectLinePolyline(a1,a2,points2);result.appendPoints(inter.points)}return result.points.length>0&&(result.status="Intersection"),result}static intersectPolylineRectangle(points,r1,r2){const min=r1.min(r2),max=r1.max(r2),topRight=new kld_affine.Point2D(max.x,min.y),bottomLeft=new kld_affine.Point2D(min.x,max.y),inter1=Intersection.intersectLinePolyline(min,topRight,points),inter2=Intersection.intersectLinePolyline(topRight,max,points),inter3=Intersection.intersectLinePolyline(max,bottomLeft,points),inter4=Intersection.intersectLinePolyline(bottomLeft,min,points),result=new Intersection("No Intersection");return result.appendPoints(inter1.points),result.appendPoints(inter2.points),result.appendPoints(inter3.points),result.appendPoints(inter4.points),result.points.length>0&&(result.status="Intersection"),result}static intersectRectangleRectangle(a1,a2,b1,b2){const min=a1.min(a2),max=a1.max(a2),topRight=new kld_affine.Point2D(max.x,min.y),bottomLeft=new kld_affine.Point2D(min.x,max.y),inter1=Intersection.intersectLineRectangle(min,topRight,b1,b2),inter2=Intersection.intersectLineRectangle(topRight,max,b1,b2),inter3=Intersection.intersectLineRectangle(max,bottomLeft,b1,b2),inter4=Intersection.intersectLineRectangle(bottomLeft,min,b1,b2),result=new Intersection("No Intersection");return result.appendPoints(inter1.points),result.appendPoints(inter2.points),result.appendPoints(inter3.points),result.appendPoints(inter4.points),result.points.length>0&&(result.status="Intersection"),result}static intersectRayRay(a1,a2,b1,b2){let result;const ua_t=(b2.x-b1.x)*(a1.y-b1.y)-(b2.y-b1.y)*(a1.x-b1.x),ub_t=(a2.x-a1.x)*(a1.y-b1.y)-(a2.y-a1.y)*(a1.x-b1.x),u_b=(b2.y-b1.y)*(a2.x-a1.x)-(b2.x-b1.x)*(a2.y-a1.y);if(0!==u_b){const ua=ua_t/u_b;(result=new Intersection("Intersection")).points.push(new kld_affine.Point2D(a1.x+ua*(a2.x-a1.x),a1.y+ua*(a2.y-a1.y)))}else result=new Intersection(0===ua_t||0===ub_t?"Coincident":"Parallel");return result}appendPoint(point){this.points.push(point)}appendPoints(points){this.points=this.points.concat(points)}}var lib_Intersection=Intersection,lib_Shapes=class{static arc(centerX,centerY,radiusX,radiusY,startRadians,endRadians){return ShapeInfo.arc(...arguments)}static quadraticBezier(p1x,p1y,p2x,p2y,p3x,p3y){return ShapeInfo.quadraticBezier(...arguments)}static cubicBezier(p1x,p1y,p2x,p2y,p3x,p3y,p4x,p4y){return ShapeInfo.cubicBezier(...arguments)}static circle(centerX,centerY,radius){return ShapeInfo.circle(...arguments)}static ellipse(centerX,centerY,radiusX,radiusY){return ShapeInfo.ellipse(...arguments)}static line(p1x,p1y,p2x,p2y){return ShapeInfo.line(...arguments)}static path(pathData){return ShapeInfo.path(...arguments)}static polygon(coords){return ShapeInfo.polygon(...arguments)}static polyline(coords){return ShapeInfo.polyline(...arguments)}static rectangle(x,y,width,height,rx=0,ry=0){return ShapeInfo.rectangle(...arguments)}},lib_AffineShapes=class{static arc(center,radiusX,radiusY,startRadians,endRadians){return ShapeInfo.arc(...arguments)}static quadraticBezier(p1,p2,p3){return ShapeInfo.quadraticBezier(...arguments)}static cubicBezier(p1,p2,p3,p4){return ShapeInfo.cubicBezier(...arguments)}static circle(center,radius){return ShapeInfo.circle(...arguments)}static ellipse(center,radiusX,radiusY){return ShapeInfo.ellipse(...arguments)}static line(p1,p2){return ShapeInfo.line(...arguments)}static path(pathData){return ShapeInfo.path(...arguments)}static polygon(points){return ShapeInfo.polygon(...arguments)}static polyline(points){return ShapeInfo.polyline(...arguments)}static rectangle(topLeft,size,rx=0,ry=0){return ShapeInfo.rectangle(...arguments)}};class SvgShapes{static circle(circle){if(circle instanceof SVGCircleElement== !1)throw new TypeError(`Expected SVGCircleElement, but found ${circle}`);const center=new kld_affine.Point2D(circle.cx.baseVal.value,circle.cy.baseVal.value),radius=circle.r.baseVal.value;return ShapeInfo.circle(center,radius)}static ellipse(ellipse){if(ellipse instanceof SVGEllipseElement== !1)throw new TypeError(`Expected SVGEllipseElement, but found ${ellipse}`);const center=new kld_affine.Point2D(ellipse.cx.baseVal.value,ellipse.cy.baseVal.value),radiusX=ellipse.rx.baseVal.value,radiusY=ellipse.ry.baseVal.value;return ShapeInfo.ellipse(center,radiusX,radiusY)}static line(line){if(line instanceof SVGLineElement== !1)throw new TypeError(`Expected SVGLineElement, but found ${line}`);const p1=new kld_affine.Point2D(line.x1.baseVal.value,line.y1.baseVal.value),p2=new kld_affine.Point2D(line.x2.baseVal.value,line.y2.baseVal.value);return ShapeInfo.line(p1,p2)}static path(path){if(path instanceof SVGPathElement== !1)throw new TypeError(`Expected SVGPathElement, but found ${path}`);const pathData=path.getAttributeNS(null,"d");return ShapeInfo.path(pathData)}static polygon(polygon){if(polygon instanceof SVGPolygonElement== !1)throw new TypeError(`Expected SVGPolygonElement, but found ${polygon}`);const points=[];for(let i=0;i<polygon.points.numberOfItems;i++){const point=polygon.points.getItem(i);points.push(new kld_affine.Point2D(point.x,point.y))}return ShapeInfo.polygon(points)}static polyline(polyline){if(polyline instanceof SVGPolylineElement== !1)throw new TypeError(`Expected SVGPolylineElement, but found ${polyline}`);const points=[];for(let i=0;i<polyline.points.numberOfItems;i++){const point=polyline.points.getItem(i);points.push(new kld_affine.Point2D(point.x,point.y))}return ShapeInfo.polyline(points)}static rect(rect){if(rect instanceof SVGRectElement== !1)throw new TypeError(`Expected SVGRectElement, but found ${rect}`);return ShapeInfo.rectangle(rect.x.baseVal.value,rect.y.baseVal.value,rect.width.baseVal.value,rect.height.baseVal.value,rect.rx.baseVal.value,rect.ry.baseVal.value)}static element(element){if(element instanceof SVGElement== !1)throw new TypeError(`Expected SVGElement, but found ${element}`);const tagName=element.tagName;switch(tagName){case"circle":return SvgShapes.circle(element);case"ellipse":return SvgShapes.ellipse(element);case"line":return SvgShapes.line(element);case"path":return SvgShapes.path(element);case"polygon":return SvgShapes.polygon(element);case"polyline":return SvgShapes.polyline(element);case"rect":return SvgShapes.rect(element);default:throw new TypeError(`Unrecognized element type: '${tagName}'`)}}}var lib_SvgShapes=SvgShapes;const IntersectionQuery={};IntersectionQuery.pointInCircle=function(a,b,c){const d=kld_affine.Vector2D.fromPoints(b,a);return d.length()<=c},IntersectionQuery.pointInEllipse=function(d,e,b,c){const a=d.subtract(e);return a.x*a.x/(b*b)+a.y*a.y/(c*c)<=1},IntersectionQuery.pointInPolyline=function(c,d){const{length:f}=d;let g=0,h,a=d[0];for(let e=1;e<=f;e++){const b=d[e%f],i=Math.min(a.y,b.y),j=Math.max(a.y,b.y),k=Math.max(a.x,b.x);a.y!==b.y&&i<c.y&&c.y<=j&&c.x<=k&&(h=(c.y-a.y)*(b.x-a.x)/(b.y-a.y)+a.x,(a.x===b.x||c.x<=h)&&g++),a=b}return g%2==1},IntersectionQuery.pointInPolygon=IntersectionQuery.pointInPolyline,IntersectionQuery.pointInRectangle=function(a,b,c){return b.x<=a.x&&a.x<c.x&&b.y<=a.y&&a.y<c.y};var lib_IntersectionQuery=IntersectionQuery},2441:function(a,b,c){var d;!function(f,h,i){if(f){for(var j,g={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},k={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},l={"~":"`","!":"1","@":"2","#":"3","$":"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0","_":"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},m={option:"alt",command:"meta","return":"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},e=1;e<20;++e)g[111+e]="f"+e;for(e=0;e<=9;++e)g[e+96]=e.toString();s.prototype.bind=function(a,b,c){return a=a instanceof Array?a:[a],this._bindMultiple.call(this,a,b,c),this},s.prototype.unbind=function(a,b){return this.bind.call(this,a,function(){},b)},s.prototype.trigger=function(a,b){return this._directMap[a+":"+b]&&this._directMap[a+":"+b]({},a),this},s.prototype.reset=function(){var a=this;return a._callbacks={},a._directMap={},a},s.prototype.stopCallback=function(b,a){if((" "+a.className+" ").indexOf(" mousetrap ")> -1)return!1;if(r(a,this.target))return!1;if("composedPath"in b&&"function"==typeof b.composedPath){var c=b.composedPath()[0];c!==b.target&&(a=c)}return"INPUT"==a.tagName||"SELECT"==a.tagName||"TEXTAREA"==a.tagName||a.isContentEditable},s.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)},s.addKeycodes=function(a){for(var b in a)a.hasOwnProperty(b)&&(g[b]=a[b]);j=null},s.init=function(){var b=s(h);for(var a in b)"_"!==a.charAt(0)&&(s[a]=function(a){return function(){return b[a].apply(b,arguments)}}(a))},s.init(),f.Mousetrap=s,a.exports&&(a.exports=s),void 0!==(d=(function(){return s}).call(b,c,b,a))&&(a.exports=d)}function n(a,b,c){if(a.addEventListener){a.addEventListener(b,c,!1);return}a.attachEvent("on"+b,c)}function o(a){if("keypress"==a.type){var b=String.fromCharCode(a.which);return a.shiftKey||(b=b.toLowerCase()),b}return g[a.which]?g[a.which]:k[a.which]?k[a.which]:String.fromCharCode(a.which).toLowerCase()}function p(a,b){return a.sort().join(",")===b.sort().join(",")}function q(o,b){var d,k,n,c,h,a,e,i,f=[];for(e=0,h="+"===(i=o)?["+"]:(i=i.replace(/\+{2}/g,"+plus")).split("+");e<h.length;++e)m[a=h[e]]&&(a=m[a]),b&&"keypress"!=b&&l[a]&&(a=l[a],f.push("shift")),("shift"==(d=a)||"ctrl"==d||"alt"==d||"meta"==d)&&f.push(a);return b=(k=a,n=f,(c=b)||(c=function(){if(!j)for(var a in j={},g)a>95&&a<112||g.hasOwnProperty(a)&&(j[g[a]]=a);return j}()[k]?"keydown":"keypress"),"keypress"==c&&n.length&&(c="keydown"),c),{key:a,modifiers:f,action:b}}function r(a,b){return null!==a&&a!==h&&(a===b||r(a.parentNode,b))}function s(a){var d,b=this;if(a=a||h,!(b instanceof s))return new s(a);b.target=a,b._callbacks={},b._directMap={};var e={},f=!1,g=!1,i=!1;function j(a){a=a||{};var b,c=!1;for(b in e){if(a[b]){c=!0;continue}e[b]=0}c||(i=!1)}function k(c,j,h,f,l,m){var g,d,a,k=[],i=h.type;if(!b._callbacks[c])return[];for("keyup"==i&&("shift"==(g=c)||"ctrl"==g||"alt"==g||"meta"==g)&&(j=[c]),d=0;d<b._callbacks[c].length;++d)if(a=b._callbacks[c][d],(f||!a.seq||e[a.seq]==a.level)&&i==a.action&&("keypress"==i&&!h.metaKey&&!h.ctrlKey||p(j,a.modifiers))){var n=!f&&a.combo==l,o=f&&a.seq==f&&a.level==m;(n||o)&&b._callbacks[c].splice(d,1),k.push(a)}return k}function l(d,a,c,e){b.stopCallback(a,a.target||a.srcElement,c,e)|| !1===d(a,c)&&(!function(a){if(a.preventDefault){a.preventDefault();return}a.returnValue=!1}(a),function(a){if(a.stopPropagation){a.stopPropagation();return}a.cancelBubble=!0}(a))}function c(a){"number"!=typeof a.which&&(a.which=a.keyCode);var d,c,e=o(a);if(e){if("keyup"==a.type&&f===e){f=!1;return}b.handleKey(e,(c=[],(d=a).shiftKey&&c.push("shift"),d.altKey&&c.push("alt"),d.ctrlKey&&c.push("ctrl"),d.metaKey&&c.push("meta"),c),a)}}function m(c,g,h,n,p){b._directMap[c+":"+h]=g;var a,r=(c=c.replace(/\s+/g," ")).split(" ");if(r.length>1){!function(c,b,p,g){function h(a){return function(){i=a,++e[c],clearTimeout(d),d=setTimeout(j,1e3)}}function k(a){l(p,a,c),"keyup"!==g&&(f=o(a)),setTimeout(j,10)}e[c]=0;for(var a=0;a<b.length;++a){var n=a+1===b.length?k:h(g||q(b[a+1]).action);m(b[a],n,g,c,a)}}(c,r,g,h);return}a=q(c,h),b._callbacks[a.key]=b._callbacks[a.key]||[],k(a.key,a.modifiers,{type:a.action},n,c,p),b._callbacks[a.key][n?"unshift":"push"]({callback:g,modifiers:a.modifiers,action:a.action,seq:n,level:p,combo:c})}b._handleKey=function(h,n,c){var a,b=k(h,n,c),m={},e=0,f=!1;for(a=0;a<b.length;++a)b[a].seq&&(e=Math.max(e,b[a].level));for(a=0;a<b.length;++a){if(b[a].seq){if(b[a].level!=e)continue;f=!0,m[b[a].seq]=1,l(b[a].callback,c,b[a].combo,b[a].seq);continue}f||l(b[a].callback,c,b[a].combo)}var d,o="keypress"==c.type&&g;c.type!=i||"shift"==(d=h)||"ctrl"==d||"alt"==d||"meta"==d||o||j(m),g=f&&"keydown"==c.type},b._bindMultiple=function(b,c,d){for(var a=0;a<b.length;++a)m(b[a],c,d)},n(a,"keypress",c),n(a,"keydown",c),n(a,"keyup",c)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},7786:function(){},9294:function(T,a,d){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var b,U=d(655),V=d(4394),f=d(9722),s=d(4839),W=(b=s)&&"object"==typeof b&&"default"in b?b:{"default":b};const t=(a,b,c)=>Math.min(Math.max(c,a),b),X=.001;function Y(b,a){return b*Math.sqrt(1-a*a)}const Z=["duration","bounce"],$=["stiffness","damping","mass"];function _(b,a){return a.some(a=>void 0!==b[a])}function g(a){var{from:b=0,to:e=1,restSpeed:f=2,restDelta:g}=a,c=U.__rest(a,["from","to","restSpeed","restDelta"]);const h={done:!1,value:b};let{stiffness:i,damping:j,mass:k,velocity:l,duration:m,isResolvedFromDuration:n}=function(a){let b=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},a);if(!_(a,$)&&_(a,Z)){const c=function({duration:a=800,bounce:h=.25,velocity:j=0,mass:e=1}){let c,d;V.warning(a<=1e4,"Spring duration must be 10 seconds or less");let b=1-h;b=t(.05,1,b),a=t(.01,10,a/1e3),b<1?(c=c=>{const d=c*b,e=d*a,f=d-j,g=Y(c,b),h=Math.exp(-e);return X-f/g*h},d=d=>{const f=d*b,e=f*a,g=e*j+j,h=Math.pow(b,2)*Math.pow(d,2)*a,i=Math.exp(-e),k=Y(Math.pow(d,2),b),l=-c(d)+X>0?-1:1;return l*((g-h)*i)/k}):(c=b=>{const c=Math.exp(-b*a),d=(b-j)*a+1;return-X+c*d},d=b=>{const c=Math.exp(-b*a),d=(j-b)*(a*a);return c*d});const i=5/a,f=function f(c,d,e){let a=e;for(let b=1;b<12;b++)a-=c(a)/d(a);return a}(c,d,i);if(a*=1e3,isNaN(f))return{stiffness:100,damping:10,duration:a};{const g=Math.pow(f,2)*e;return{stiffness:g,damping:2*b*Math.sqrt(e*g),duration:a}}}(a);(b=Object.assign(Object.assign(Object.assign({},b),c),{velocity:0,mass:1})).isResolvedFromDuration=!0}return b}(c),o=aa,p=aa;function d(){const d=l?-(l/1e3):0,f=e-b,a=j/(2*Math.sqrt(i*k)),c=Math.sqrt(i/k)/1e3;if(void 0===g&&(g=Math.min(Math.abs(e-b)/100,.4)),a<1){const h=Y(c,a);o=b=>{const g=Math.exp(-a*c*b);return e-g*((d+a*c*f)/h*Math.sin(h*b)+f*Math.cos(h*b))},p=b=>{const e=Math.exp(-a*c*b);return a*c*e*(Math.sin(h*b)*(d+a*c*f)/h+f*Math.cos(h*b))-e*(Math.cos(h*b)*(d+a*c*f)-h*f*Math.sin(h*b))}}else if(1===a)o=a=>e-Math.exp(-c*a)*(f+(d+c*f)*a);else{const m=c*Math.sqrt(a*a-1);o=b=>{const h=Math.exp(-a*c*b),g=Math.min(m*b,300);return e-h*((d+a*c*f)*Math.sinh(g)+m*f*Math.cosh(g))/m}}}return d(),{next(a){const b=o(a);if(n)h.done=a>=m;else{const c=1e3*p(a),d=Math.abs(c)<=f,i=Math.abs(e-b)<=g;h.done=d&&i}return h.value=h.done?e:b,h},flipTarget(){l=-l,[b,e]=[e,b],d()}}}g.needsInterpolation=(a,b)=>"string"==typeof a||"string"==typeof b;const aa=a=>0,u=(a,c,d)=>{const b=c-a;return 0===b?1:(d-a)/b},v=(a,c,b)=>-b*a+b*c+a;function ab(b,c,a){return(a<0&&(a+=1),a>1&&(a-=1),a<1/6)?b+(c-b)*6*a:a<.5?c:a<2/3?b+(c-b)*(2/3-a)*6:b}function ac({hue:b,saturation:c,lightness:a,alpha:i}){b/=360,a/=100;let e=0,f=0,g=0;if(c/=100){const d=a<.5?a*(1+c):a+c-a*c,h=2*a-d;e=ab(h,d,b+1/3),f=ab(h,d,b),g=ab(h,d,b-1/3)}else e=f=g=a;return{red:Math.round(255*e),green:Math.round(255*f),blue:Math.round(255*g),alpha:i}}const ad=(a,b,d)=>{const c=a*a;return Math.sqrt(Math.max(0,d*(b*b-c)+c))},ae=[f.hex,f.rgba,f.hsla],af=a=>ae.find(b=>b.test(a)),ag=a=>`'${a}' is not an animatable color. Use the equivalent color code instead.`,w=(c,d)=>{let a=af(c),b=af(d);V.invariant(!!a,ag(c)),V.invariant(!!b,ag(d));let e=a.parse(c),g=b.parse(d);a===f.hsla&&(e=ac(e),a=f.rgba),b===f.hsla&&(g=ac(g),b=f.rgba);const h=Object.assign({},e);return c=>{for(const b in h)"alpha"!==b&&(h[b]=ad(e[b],g[b],c));return h.alpha=v(e.alpha,g.alpha,c),a.transform(h)}},ah={x:0,y:0,z:0},ai=a=>"number"==typeof a,aj=(a,b)=>c=>b(a(c)),x=(...a)=>a.reduce(aj);function ak(a,b){return ai(a)?c=>v(a,b,c):f.color.test(a)?w(a,b):y(a,b)}const al=(a,c)=>{const b=[...a],d=b.length,e=a.map((a,b)=>ak(a,c[b]));return c=>{for(let a=0;a<d;a++)b[a]=e[a](c);return b}},am=(b,c)=>{const d=Object.assign(Object.assign({},b),c),e={};for(const a in d)void 0!==b[a]&& void 0!==c[a]&&(e[a]=ak(b[a],c[a]));return b=>{for(const a in e)d[a]=e[a](b);return d}};function an(g){const a=f.complex.parse(g),h=a.length;let c=0,d=0,e=0;for(let b=0;b<h;b++)c||"number"==typeof a[b]?c++:void 0!==a[b].hue?e++:d++;return{parsed:a,numNumbers:c,numRGB:d,numHSL:e}}const y=(d,c)=>{const e=f.complex.createTransformer(c),a=an(d),b=an(c),g=a.numHSL===b.numHSL&&a.numRGB===b.numRGB&&a.numNumbers>=b.numNumbers;return g?x(al(a.parsed,b.parsed),e):(V.warning(!0,`Complex values '${d}' and '${c}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),a=>`${a>0?c:d}`)},ao=(a,b)=>c=>v(a,b,c);function z(a,b,{clamp:g=!0,ease:c,mixer:h}={}){const d=a.length;V.invariant(d===b.length,"Both input and output ranges must be the same length"),V.invariant(!c||!Array.isArray(c)||c.length===d-1,"Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values."),a[0]>a[d-1]&&(a=[].concat(a),b=[].concat(b),a.reverse(),b.reverse());const e=function(c,d,h){var a;const g=[],i=h||("number"==typeof(a=c[0])?ao:"string"==typeof a?f.color.test(a)?w:y:Array.isArray(a)?al:"object"==typeof a?am:void 0),j=c.length-1;for(let b=0;b<j;b++){let e=i(c[b],c[b+1]);if(d){const k=Array.isArray(d)?d[b]:d;e=x(k,e)}g.push(e)}return g}(b,c,h),i=2===d?function([a,b],[c]){return d=>c(u(a,b,d))}(a,e):function(a,c){const b=a.length,d=b-1;return g=>{let e=0,h=!1;if(g<=a[0]?h=!0:g>=a[d]&&(e=d-1,h=!0),!h){let f=1;for(;f<b&& !(a[f]>g)&&f!==d;f++);e=f-1}const i=u(a[e],a[e+1],g);return c[e](i)}}(a,e);return g?b=>i(t(a[0],a[d-1],b)):i}const c=a=>b=>1-a(1-b),e=a=>b=>b<=.5?a(2*b)/2:(2-a(2*(1-b)))/2,k=a=>b=>Math.pow(b,a),l=a=>b=>b*b*((a+1)*b-a),m=a=>{const b=l(a);return a=>(a*=2)<1?.5*b(a):.5*(2-Math.pow(2,-10*(a-1)))},ap=4/11,aq=8/11,A=a=>a,h=k(2),B=c(h),C=e(h),n=a=>1-Math.sin(Math.acos(a)),o=c(n),D=e(o),i=l(1.525),E=c(i),F=e(i),G=m(1.525),ar=4356/361,as=35442/1805,at=16061/1805,p=a=>{if(1===a||0===a)return a;const b=a*a;return a<ap?7.5625*b:a<aq?9.075*b-9.9*a+3.4:a<.9?ar*b-as*a+at:10.8*a*a-20.52*a+10.72},H=c(p);function q({from:c=0,to:a=1,ease:i,offset:b,duration:f=300}){var d,g;const j={done:!1,value:c},e=Array.isArray(a)?a:[c,a],k=(d=b&&b.length===e.length?b:function(a){const b=a.length;return a.map((c,a)=>0!==a?a/(b-1):0)}(e),g=f,d.map(a=>a*g));function h(){var a,b;return z(k,e,{ease:Array.isArray(i)?i:(a=e,b=i,a.map(()=>b||C).splice(0,a.length-1))})}let l=h();return{next:a=>(j.value=l(a),j.done=a>=f,j),flipTarget(){e.reverse(),l=h()}}}function r({velocity:f=0,from:a=0,power:g=.8,timeConstant:h=350,restDelta:i=.5,modifyTarget:c}){const j={done:!1,value:a};let d=g*f;const b=a+d,e=void 0===c?b:c(b);return e!==b&&(d=e-a),{next(b){const a=-d*Math.exp(-b/h);return j.done=!(a>i||a< -i),j.value=j.done?e:e+a,j},flipTarget(){}}}const au={keyframes:q,spring:g,decay:r};function av(a,b,c=0){return a-b-c}const aw=a=>{const b=({delta:b})=>a(b);return{start:()=>W.default.update(b,!0),stop:()=>s.cancelSync.update(b)}};function I(e){var f,d,{from:a,autoplay:j=!0,driver:k=aw,elapsed:n=0,repeat:o=0,repeatType:p="loop",repeatDelay:r=0,onPlay:h,onStop:s,onComplete:t,onRepeat:u,onUpdate:v}=e,b=U.__rest(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:c}=b,l,w=0,x=b.duration,y,A=!1,B=!0,m;const i=function(b){if(Array.isArray(b.to))return q;if(au[b.type])return au[b.type];const a=new Set(Object.keys(b));return a.has("ease")||a.has("duration")&&!a.has("dampingRatio")?q:a.has("dampingRatio")||a.has("stiffness")||a.has("mass")||a.has("damping")||a.has("restSpeed")||a.has("restDelta")?g:q}(b);(null===(d=(f=i).needsInterpolation)|| void 0===d?void 0:d.call(f,a,c))&&(m=z([0,100],[a,c],{clamp:!1}),a=0,c=100);const C=i(Object.assign(Object.assign({},b),{from:a,to:c}));return j&&(null==h||h(),(l=k(function(a){if(B||(a=-a),n+=a,!A){const d=C.next(Math.max(0,n));y=d.value,m&&(y=m(y)),A=B?d.done:n<=0}if(null==v||v(y),A)if(0===w&&(null!=x||(x=n)),w<o){var b,e,c;b=n,e=x,c=r,(B?b>=e+c:b<= -c)&&(w++,"reverse"===p?n=function(b,a,c=0,d=!0){return d?av(a+ -b,a,c):a-(b-a)+c}(n,x,r,B=w%2==0):(n=av(n,x,r),"mirror"===p&&C.flipTarget()),A=!1,u&&u())}else l.stop(),t&&t()})).start()),{stop(){null==s||s(),l.stop()}}}function J(b,a){return a?b*(1e3/a):0}const K=a=>180*a/Math.PI,ax=a=>a,j=(a=ax)=>(e,b,f)=>{const c=b-f,d=-(0-e+1)*(0-a(Math.abs(c)));return c<=0?b+d:b-d},L=j(),M=j(Math.sqrt),N=a=>a*Math.PI/180,O=a=>a.hasOwnProperty("x")&&a.hasOwnProperty("y"),P=a=>O(a)&&a.hasOwnProperty("z"),ay=(a,b)=>Math.abs(a-b),Q=(b,a=2)=>(a=Math.pow(10,a),Math.round(b*a)/a),R=(a,c,b,d=0)=>Q(a+b*(c-a)/Math.max(d,b));function S(a,b){return a/(1e3/b)}const az=(a,b)=>1-3*b+3*a,aA=(a,b)=>3*b-6*a,aB=a=>3*a,aC=(a,b,c)=>((az(b,c)*a+aA(b,c))*a+aB(b))*a,aD=(a,b,c)=>3*az(b,c)*a*a+2*aA(b,c)*a+aB(b);a.angle=(a,b=ah)=>K(Math.atan2(b.y-a.y,b.x-a.x)),a.animate=I,a.anticipate=G,a.applyOffset=(b,a)=>{let c=!0;return void 0===a&&(a=b,c=!1),d=>c?d-b+a:(b=d,c=!0,a)},a.attract=L,a.attractExpo=M,a.backIn=i,a.backInOut=F,a.backOut=E,a.bounceIn=H,a.bounceInOut=a=>a<.5?.5*(1-p(1-2*a)):.5*p(2*a-1)+.5,a.bounceOut=p,a.circIn=n,a.circInOut=D,a.circOut=o,a.clamp=t,a.createAnticipate=m,a.createAttractor=j,a.createBackIn=l,a.createExpoIn=k,a.cubicBezier=function(b,d,c,e){if(b===d&&c===e)return A;const f=new Float32Array(11);for(let a=0;a<11;++a)f[a]=aC(.1*a,b,c);return a=>0===a||1===a?a:aC(function(d){let e=0,a=1;const i=10;for(;a!==i&&f[a]<=d;++a)e+=.1;--a;const j=(d-f[a])/(f[a+1]-f[a]),g=e+.1*j,h=aD(g,b,c);return h>=.001?function(f,a,b,c){for(let d=0;d<8;++d){const e=aD(a,b,c);if(0===e)return a;const g=aC(a,b,c)-f;a-=g/e}return a}(d,g,b,c):0===h?g:function(e,b,c,f,g){let d,a,h=0;do(d=aC(a=b+(c-b)/2,f,g)-e)>0?c=a:b=a;while(Math.abs(d)>1e-7&& ++h<10)return a}(d,e,e+.1,b,c)}(a),d,e)},a.decay=r,a.degreesToRadians=N,a.distance=function(a,b){if(ai(a)&&ai(b))return ay(a,b);if(O(a)&&O(b)){const c=ay(a.x,b.x),d=ay(a.y,b.y),e=P(a)&&P(b)?ay(a.z,b.z):0;return Math.sqrt(Math.pow(c,2)+Math.pow(d,2)+Math.pow(e,2))}},a.easeIn=h,a.easeInOut=C,a.easeOut=B,a.inertia=function({from:a=0,velocity:c=0,min:h,max:o,power:e=.8,timeConstant:i=750,bounceStiffness:p=500,bounceDamping:q=10,restDelta:j=1,modifyTarget:d,driver:r,onUpdate:t,onComplete:u,onStop:v}){let w;function f(a){return void 0!==h&&a<h|| void 0!==o&&a>o}function g(a){return void 0===h?o:void 0===o?h:Math.abs(h-a)<Math.abs(o-a)?h:o}function k(a){null==w||w.stop(),w=I(Object.assign(Object.assign({},a),{driver:r,onUpdate(c){var b;null==t||t(c),null===(b=a.onUpdate)|| void 0===b||b.call(a,c)},onComplete:u,onStop:v}))}function l(a){k(Object.assign({type:"spring",stiffness:p,damping:q,restDelta:j},a))}if(f(a))l({from:a,velocity:c,to:g(a)});else{let b=e*c+a;void 0!==d&&(b=d(b));const m=g(b),x=m===h?-1:1;let y,z;const n=a=>{y=z,z=a,c=J(a-y,s.getFrameData().delta),(1===x&&a>m|| -1===x&&a<m)&&l({from:a,to:m,velocity:c})};k({type:"decay",from:a,velocity:c,timeConstant:i,power:e,restDelta:j,modifyTarget:d,onUpdate:f(b)?n:void 0})}return{stop:()=>null==w?void 0:w.stop()}},a.interpolate=z,a.isPoint=O,a.isPoint3D=P,a.keyframes=q,a.linear=A,a.mirrorEasing=e,a.mix=v,a.mixColor=w,a.mixComplex=y,a.pipe=x,a.pointFromVector=(b,a,c)=>({x:c*Math.cos(a=N(a))+b.x,y:c*Math.sin(a)+b.y}),a.progress=u,a.radiansToDegrees=K,a.reverseEasing=c,a.smooth=(a=50)=>{let b=0,c=0;return g=>{const d=s.getFrameData().timestamp,e=d!==c?d-c:0,f=e?R(b,g,e,a):b;return c=d,b=f,f}},a.smoothFrame=R,a.snap=a=>{if("number"==typeof a)return b=>Math.round(b/a)*a;{let b=0;const c=a.length;return f=>{let g=Math.abs(a[0]-f);for(b=1;b<c;b++){const d=a[b],e=Math.abs(d-f);if(0===e)return d;if(e>g)return a[b-1];if(b===c-1)return d;g=e}}}},a.spring=g,a.steps=(a,b="end")=>c=>{c="end"===b?Math.min(c,.999):Math.max(c,.001);const d=c*a;return t(0,1,("end"===b?Math.floor(d):Math.ceil(d))/a)},a.toDecimal=Q,a.velocityPerFrame=S,a.velocityPerSecond=J,a.wrap=(a,c,d)=>{const b=c-a;return((d-a)%b+b)%b+a}},8981:function(f,c,d){"use strict";d.r(c);var a="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,g=function(){for(var c=["Edge","Trident","Firefox"],b=0;b<c.length;b+=1)if(a&&navigator.userAgent.indexOf(c[b])>=0)return 1;return 0}(),h=a&&window.Promise?function(a){var b=!1;return function(){b||(b=!0,window.Promise.resolve().then(function(){b=!1,a()}))}}:function(a){var b=!1;return function(){b||(b=!0,setTimeout(function(){b=!1,a()},g))}};function i(a){return a&&"[object Function]"===({}).toString.call(a)}function j(a,b){if(1!==a.nodeType)return[];var c=a.ownerDocument.defaultView.getComputedStyle(a,null);return b?c[b]:c}function k(a){return"HTML"===a.nodeName?a:a.parentNode||a.host}function l(a){if(!a)return document.body;switch(a.nodeName){case"HTML":case"BODY":return a.ownerDocument.body;case"#document":return a.body}var b=j(a),c=b.overflow,d=b.overflowX,e=b.overflowY;return/(auto|scroll|overlay)/.test(c+e+d)?a:l(k(a))}function m(a){return a&&a.referenceNode?a.referenceNode:a}var n=a&&!!(window.MSInputMethodContext&&document.documentMode),o=a&&/MSIE 10/.test(navigator.userAgent);function p(a){return 11===a?n:10===a?o:n||o}function q(b){if(!b)return document.documentElement;for(var d=p(10)?document.body:null,a=b.offsetParent||null;a===d&&b.nextElementSibling;)a=(b=b.nextElementSibling).offsetParent;var c=a&&a.nodeName;return c&&"BODY"!==c&&"HTML"!==c?-1!==["TH","TD","TABLE"].indexOf(a.nodeName)&&"static"===j(a,"position")?q(a):a:b?b.ownerDocument.documentElement:document.documentElement}function r(a){return null!==a.parentNode?r(a.parentNode):a}function s(a,b){if(!a||!a.nodeType||!b||!b.nodeType)return document.documentElement;var d,f,g=a.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_FOLLOWING,h=g?a:b,i=g?b:a,e=document.createRange();e.setStart(h,0),e.setEnd(i,0);var c=e.commonAncestorContainer;if(a!==c&&b!==c||h.contains(i))return"BODY"!==(f=(d=c).nodeName)&&("HTML"===f||q(d.firstElementChild)===d)?c:q(c);var j=r(a);return j.host?s(j.host,b):s(a,r(b).host)}function t(a){var d=arguments.length>1&& void 0!==arguments[1]?arguments[1]:"top",b="top"===d?"scrollTop":"scrollLeft",c=a.nodeName;if("BODY"===c||"HTML"===c){var e=a.ownerDocument.documentElement,f=a.ownerDocument.scrollingElement||e;return f[b]}return a[b]}function u(a,c){var b="x"===c?"Left":"Top";return parseFloat(a["border"+b+"Width"])+parseFloat(a["border"+("Left"===b?"Right":"Bottom")+"Width"])}function v(a,c,b,d){return Math.max(c["offset"+a],c["scroll"+a],b["client"+a],b["offset"+a],b["scroll"+a],p(10)?parseInt(b["offset"+a])+parseInt(d["margin"+("Height"===a?"Top":"Left")])+parseInt(d["margin"+("Height"===a?"Bottom":"Right")]):0)}function w(b){var c=b.body,a=b.documentElement,d=p(10)&&getComputedStyle(a);return{height:v("Height",c,a,d),width:v("Width",c,a,d)}}var x=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},y=function(){function a(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),z=function(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a},A=Object.assign||function(d){for(var a=1;a<arguments.length;a++){var b=arguments[a];for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c])}return d};function B(a){return A({},a,{right:a.left+a.width,bottom:a.top+a.height})}function C(b){var a={};try{if(p(10)){a=b.getBoundingClientRect();var f=t(b,"top"),g=t(b,"left");a.top+=f,a.left+=g,a.bottom+=f,a.right+=g}else a=b.getBoundingClientRect()}catch(m){}var c={left:a.left,top:a.top,width:a.right-a.left,height:a.bottom-a.top},h="HTML"===b.nodeName?w(b.ownerDocument):{},k=h.width||b.clientWidth||c.width,l=h.height||b.clientHeight||c.height,d=b.offsetWidth-k,e=b.offsetHeight-l;if(d||e){var i=j(b);d-=u(i,"x"),e-=u(i,"y"),c.width-=d,c.height-=e}return B(c)}function D(m,b){var n=arguments.length>2&& void 0!==arguments[2]&&arguments[2],o=p(10),q="HTML"===b.nodeName,d=C(m),c=C(b),f=l(m),e=j(b),g=parseFloat(e.borderTopWidth),h=parseFloat(e.borderLeftWidth);n&&q&&(c.top=Math.max(c.top,0),c.left=Math.max(c.left,0));var a=B({top:d.top-c.top-g,left:d.left-c.left-h,width:d.width,height:d.height});if(a.marginTop=0,a.marginLeft=0,!o&&q){var i=parseFloat(e.marginTop),k=parseFloat(e.marginLeft);a.top-=g-i,a.bottom-=g-i,a.left-=h-k,a.right-=h-k,a.marginTop=i,a.marginLeft=k}return(o&&!n?b.contains(f):b===f&&"BODY"!==f.nodeName)&&(a=function(a,c){var f=arguments.length>2&& void 0!==arguments[2]&&arguments[2],d=t(c,"top"),e=t(c,"left"),b=f?-1:1;return a.top+=d*b,a.bottom+=d*b,a.left+=e*b,a.right+=e*b,a}(a,b)),a}function E(a){var b=a.nodeName;if("BODY"===b||"HTML"===b)return!1;if("fixed"===j(a,"position"))return!0;var c=k(a);return!!c&&E(c)}function F(b){if(!b||!b.parentElement||p())return document.documentElement;for(var a=b.parentElement;a&&"none"===j(a,"transform");)a=a.parentElement;return a||document.documentElement}function G(d,j,b,f){var h=arguments.length>4&& void 0!==arguments[4]&&arguments[4],a={top:0,left:0},i=h?F(d):s(d,m(j));if("viewport"===f)a=function(c){var d=arguments.length>1&& void 0!==arguments[1]&&arguments[1],a=c.ownerDocument.documentElement,b=D(c,a),e=Math.max(a.clientWidth,window.innerWidth||0),f=Math.max(a.clientHeight,window.innerHeight||0),g=d?0:t(a),h=d?0:t(a,"left"),i={top:g-b.top+b.marginTop,left:h-b.left+b.marginLeft,width:e,height:f};return B(i)}(i,h);else{var e=void 0;"scrollParent"===f?"BODY"===(e=l(k(j))).nodeName&&(e=d.ownerDocument.documentElement):e="window"===f?d.ownerDocument.documentElement:f;var c=D(e,i,h);if("HTML"!==e.nodeName||E(i))a=c;else{var n=w(d.ownerDocument),o=n.height,p=n.width;a.top+=c.top-c.marginTop,a.bottom=o+c.top,a.left+=c.left-c.marginLeft,a.right=p+c.left}}var g="number"==typeof(b=b||0);return a.left+=g?b:b.left||0,a.top+=g?b:b.top||0,a.right-=g?b:b.right||0,a.bottom-=g?b:b.bottom||0,a}function H(c,b,g,h,i){var j=arguments.length>5&& void 0!==arguments[5]?arguments[5]:0;if(-1===c.indexOf("auto"))return c;var a=G(g,h,j,i),k={top:{width:a.width,height:b.top-a.top},right:{width:a.right-b.right,height:a.height},bottom:{width:a.width,height:a.bottom-b.bottom},left:{width:b.left-a.left,height:a.height}},d=Object.keys(k).map(function(a){var b,c,d;return A({key:a},k[a],{area:(c=(b=k[a]).width,d=b.height,c*d)})}).sort(function(a,b){return b.area-a.area}),e=d.filter(function(a){var b=a.width,c=a.height;return b>=g.clientWidth&&c>=g.clientHeight}),l=e.length>0?e[0].key:d[0].key,f=c.split("-")[1];return l+(f?"-"+f:"")}function I(e,a,b){var c=arguments.length>3&& void 0!==arguments[3]?arguments[3]:null,d=c?F(a):s(a,m(b));return D(b,d,c)}function J(a){var b=a.ownerDocument.defaultView.getComputedStyle(a),c=parseFloat(b.marginTop||0)+parseFloat(b.marginBottom||0),d=parseFloat(b.marginLeft||0)+parseFloat(b.marginRight||0),e={width:a.offsetWidth+d,height:a.offsetHeight+c};return e}function K(a){var b={left:"right",right:"left",bottom:"top",top:"bottom"};return a.replace(/left|right|bottom|top/g,function(a){return b[a]})}function L(i,b,c){c=c.split("-")[0];var d=J(i),e={width:d.width,height:d.height},f=-1!==["right","left"].indexOf(c),g=f?"top":"left",a=f?"left":"top",h=f?"height":"width";return e[g]=b[g]+b[h]/2-d[h]/2,c===a?e[a]=b[a]-d[f?"width":"height"]:e[a]=b[K(a)],e}function M(a,b){return Array.prototype.find?a.find(b):a.filter(b)[0]}function N(a,c,b){return(void 0===b?a:a.slice(0,function(a,c,d){if(Array.prototype.findIndex)return a.findIndex(function(a){return a[c]===d});var b=M(a,function(a){return a[c]===d});return a.indexOf(b)}(a,"name",b))).forEach(function(a){a.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var b=a.function||a.fn;a.enabled&&i(b)&&(c.offsets.popper=B(c.offsets.popper),c.offsets.reference=B(c.offsets.reference),c=b(c,a))}),c}function O(){if(!this.state.isDestroyed){var a={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};a.offsets.reference=I(this.state,this.popper,this.reference,this.options.positionFixed),a.placement=H(this.options.placement,a.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),a.originalPlacement=a.placement,a.positionFixed=this.options.positionFixed,a.offsets.popper=L(this.popper,a.offsets.reference,a.placement),a.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",a=N(this.modifiers,a),this.state.isCreated?this.options.onUpdate(a):(this.state.isCreated=!0,this.options.onCreate(a))}}function P(a,b){return a.some(function(a){var c=a.name,d=a.enabled;return d&&c===b})}function Q(a){for(var c=[!1,"ms","Webkit","Moz","O"],f=a.charAt(0).toUpperCase()+a.slice(1),b=0;b<c.length;b++){var d=c[b],e=d?""+d+f:a;if(void 0!==document.body.style[e])return e}return null}function R(){return this.state.isDestroyed=!0,P(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Q("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function S(b){var a=b.ownerDocument;return a?a.defaultView:window}function T(a,c,d,e){var f="BODY"===a.nodeName,b=f?a.ownerDocument.defaultView:a;b.addEventListener(c,d,{passive:!0}),f||T(l(b.parentNode),c,d,e),e.push(b)}function U(){if(!this.state.eventsEnabled){var b,a,c,d;this.state=(b=this.reference,this.options,a=this.state,c=this.scheduleUpdate,a.updateBound=c,S(b).addEventListener("resize",a.updateBound,{passive:!0}),T(d=l(b),"scroll",a.updateBound,a.scrollParents),a.scrollElement=d,a.eventsEnabled=!0,a)}}function V(){if(this.state.eventsEnabled){var b,a;cancelAnimationFrame(this.scheduleUpdate),this.state=(b=this.reference,a=this.state,S(b).removeEventListener("resize",a.updateBound),a.scrollParents.forEach(function(b){b.removeEventListener("scroll",a.updateBound)}),a.updateBound=null,a.scrollParents=[],a.scrollElement=null,a.eventsEnabled=!1,a)}}function W(a){return""!==a&&!isNaN(parseFloat(a))&&isFinite(a)}function X(b,a){Object.keys(a).forEach(function(c){var d="";-1!==["width","height","top","right","bottom","left"].indexOf(c)&&W(a[c])&&(d="px"),b.style[c]=a[c]+d})}var Y=a&&/Firefox/i.test(navigator.userAgent);function Z(a,d,e){var f=M(a,function(a){return a.name===d}),b=!!f&&a.some(function(a){return a.name===e&&a.enabled&&a.order<f.order});if(!b){var c="`"+d+"`",g="`"+e+"`";console.warn(g+" modifier is required by "+c+" modifier in order to work, be sure to include it before "+c+"!")}return b}var e=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],$=e.slice(3);function _(c){var d=arguments.length>1&& void 0!==arguments[1]&&arguments[1],a=$.indexOf(c),b=$.slice(a+1).concat($.slice(0,a));return d?b.reverse():b}var b=function(){function a(b,c){var f=this,d=arguments.length>2&& void 0!==arguments[2]?arguments[2]:{};x(this,a),this.scheduleUpdate=function(){return requestAnimationFrame(f.update)},this.update=h(this.update.bind(this)),this.options=A({},a.Defaults,d),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=b&&b.jquery?b[0]:b,this.popper=c&&c.jquery?c[0]:c,this.options.modifiers={},Object.keys(A({},a.Defaults.modifiers,d.modifiers)).forEach(function(b){f.options.modifiers[b]=A({},a.Defaults.modifiers[b]||{},d.modifiers?d.modifiers[b]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(a){return A({name:a},f.options.modifiers[a])}).sort(function(a,b){return a.order-b.order}),this.modifiers.forEach(function(a){a.enabled&&i(a.onLoad)&&a.onLoad(f.reference,f.popper,f.options,a,f.state)}),this.update();var e=this.options.eventsEnabled;e&&this.enableEventListeners(),this.state.eventsEnabled=e}return y(a,[{key:"update",value:function(){return O.call(this)}},{key:"destroy",value:function(){return R.call(this)}},{key:"enableEventListeners",value:function(){return U.call(this)}},{key:"disableEventListeners",value:function(){return V.call(this)}}]),a}();b.Utils=("undefined"!=typeof window?window:d.g).PopperUtils,b.placements=e,b.Defaults={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(a){var d=a.placement,j=d.split("-")[0],e=d.split("-")[1];if(e){var f=a.offsets,c=f.reference,g=f.popper,h=-1!==["bottom","top"].indexOf(j),b=h?"left":"top",i=h?"width":"height",k={start:z({},b,c[b]),end:z({},b,c[b]+c[i]-g[i])};a.offsets.popper=A({},g,k[e])}return a}},offset:{order:200,enabled:!0,fn:function(f,n){var j,o,p,k,l,q,b,d,g,h,i=n.offset,r=f.placement,m=f.offsets,a=m.popper,s=m.reference,e=r.split("-")[0],c=void 0;return c=W(+i)?[+i,0]:(j=i,o=a,p=s,k=e,l=[0,0],q=-1!==["right","left"].indexOf(k),d=(b=j.split(/(\+|\-)/).map(function(a){return a.trim()})).indexOf(M(b,function(a){return -1!==a.search(/,|\s/)})),b[d]&& -1===b[d].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead."),g=/\s*,\s*|\s+/,h=-1!==d?[b.slice(0,d).concat([b[d].split(g)[0]]),[b[d].split(g)[1]].concat(b.slice(d+1))]:[b],(h=h.map(function(a,b){var c=(1===b?!q:q)?"height":"width",d=!1;return a.reduce(function(a,b){return""===a[a.length-1]&& -1!==["+","-"].indexOf(b)?(a[a.length-1]=b,d=!0,a):d?(a[a.length-1]+=b,d=!1,a):a.concat(b)},[]).map(function(a){return function(d,f,g,h){var e=d.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),b=+e[1],a=e[2];if(!b)return d;if(0===a.indexOf("%")){var c=void 0;switch(a){case"%p":c=g;break;case"%":case"%r":default:c=h}return B(c)[f]/100*b}return"vh"!==a&&"vw"!==a?b:("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*b}(a,c,o,p)})})).forEach(function(a,b){a.forEach(function(c,d){W(c)&&(l[b]+=c*("-"===a[d-1]?-1:1))})}),l),"left"===e?(a.top+=c[0],a.left-=c[1]):"right"===e?(a.top+=c[0],a.left+=c[1]):"top"===e?(a.left+=c[0],a.top-=c[1]):"bottom"===e&&(a.left+=c[0],a.top+=c[1]),f.popper=a,f},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(a,c){var d=c.boundariesElement||q(a.instance.popper);a.instance.reference===d&&(d=q(d));var e=Q("transform"),b=a.instance.popper.style,f=b.top,g=b.left,h=b[e];b.top="",b.left="",b[e]="";var i=G(a.instance.popper,a.instance.reference,c.padding,d,a.positionFixed);b.top=f,b.left=g,b[e]=h,c.boundaries=i;var j=c.priority,k=a.offsets.popper,l={primary:function(a){var b=k[a];return k[a]<i[a]&&!c.escapeWithReference&&(b=Math.max(k[a],i[a])),z({},a,b)},secondary:function(a){var b="right"===a?"left":"top",d=k[b];return k[a]>i[a]&&!c.escapeWithReference&&(d=Math.min(k[b],i[a]-("right"===a?k.width:k.height))),z({},b,d)}};return j.forEach(function(a){k=A({},k,l[-1!==["left","top"].indexOf(a)?"primary":"secondary"](a))}),a.offsets.popper=k,a},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(a){var h=a.offsets,e=h.popper,c=h.reference,i=a.placement.split("-")[0],d=Math.floor,f=-1!==["top","bottom"].indexOf(i),g=f?"right":"bottom",b=f?"left":"top";return e[g]<d(c[b])&&(a.offsets.popper[b]=d(c[b])-e[f?"width":"height"]),e[b]>d(c[g])&&(a.offsets.popper[b]=d(c[g])),a}},arrow:{order:500,enabled:!0,fn:function(a,p){if(!Z(a.instance.modifiers,"arrow","keepTogether"))return a;var i,c=p.element;if("string"==typeof c){if(!(c=a.instance.popper.querySelector(c)))return a}else if(!a.instance.popper.contains(c))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),a;var q=a.placement.split("-")[0],n=a.offsets,f=n.popper,d=n.reference,g=-1!==["left","right"].indexOf(q),k=g?"height":"width",l=g?"Top":"Left",b=l.toLowerCase(),r=g?"left":"top",h=g?"bottom":"right",e=J(c)[k];d[h]-e<f[b]&&(a.offsets.popper[b]-=f[b]-(d[h]-e)),d[b]+e>f[h]&&(a.offsets.popper[b]+=d[b]+e-f[h]),a.offsets.popper=B(a.offsets.popper);var s=d[b]+d[k]/2-e/2,o=j(a.instance.popper),t=parseFloat(o["margin"+l]),u=parseFloat(o["border"+l+"Width"]),m=s-a.offsets.popper[b]-t-u;return m=Math.max(Math.min(f[k]-e,m),0),a.arrowElement=c,a.offsets.arrow=(z(i={},b,Math.round(m)),z(i,r,""),i),a},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(a,c){if(P(a.instance.modifiers,"inner"))return a;if(a.flipped&&a.placement===a.originalPlacement)return a;var f=G(a.instance.popper,a.instance.reference,c.padding,c.boundariesElement,a.positionFixed),d=a.placement.split("-")[0],e=K(d),g=a.placement.split("-")[1]||"",b=[];switch(c.behavior){case"flip":b=[d,e];break;case"clockwise":b=_(d);break;case"counterclockwise":b=_(d,!0);break;default:b=c.behavior}return b.forEach(function(u,q){if(d!==u||b.length===q+1)return a;e=K(d=a.placement.split("-")[0]);var l,i=a.offsets.popper,k=a.offsets.reference,h=Math.floor,r="left"===d&&h(i.right)>h(k.left)||"right"===d&&h(i.left)<h(k.right)||"top"===d&&h(i.bottom)>h(k.top)||"bottom"===d&&h(i.top)<h(k.bottom),m=h(i.left)<h(f.left),n=h(i.right)>h(f.right),o=h(i.top)<h(f.top),p=h(i.bottom)>h(f.bottom),s="left"===d&&m||"right"===d&&n||"top"===d&&o||"bottom"===d&&p,j=-1!==["top","bottom"].indexOf(d),v=!!c.flipVariations&&(j&&"start"===g&&m||j&&"end"===g&&n|| !j&&"start"===g&&o|| !j&&"end"===g&&p),w=!!c.flipVariationsByContent&&(j&&"start"===g&&n||j&&"end"===g&&m|| !j&&"start"===g&&p|| !j&&"end"===g&&o),t=v||w;(r||s||t)&&(a.flipped=!0,(r||s)&&(d=b[q+1]),t&&(g="end"===(l=g)?"start":"start"===l?"end":l),a.placement=d+(g?"-"+g:""),a.offsets.popper=A({},a.offsets.popper,L(a.instance.popper,a.offsets.reference,a.placement)),a=N(a.instance.modifiers,a,"flip"))}),a},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(a){var d=a.placement,b=d.split("-")[0],e=a.offsets,c=e.popper,g=e.reference,f=-1!==["left","right"].indexOf(b),h=-1===["top","left"].indexOf(b);return c[f?"left":"top"]=g[b]-(h?c[f?"width":"height"]:0),a.placement=K(d),a.offsets.popper=B(c),a}},hide:{order:800,enabled:!0,fn:function(a){if(!Z(a.instance.modifiers,"hide","preventOverflow"))return a;var b=a.offsets.reference,c=M(a.instance.modifiers,function(a){return"preventOverflow"===a.name}).boundaries;if(b.bottom<c.top||b.left>c.right||b.top>c.bottom||b.right<c.left){if(!0===a.hide)return a;a.hide=!0,a.attributes["x-out-of-boundaries"]=""}else{if(!1===a.hide)return a;a.hide=!1,a.attributes["x-out-of-boundaries"]=!1}return a}},computeStyle:{order:850,enabled:!0,fn:function(a,k){var B=k.x,D=k.y,E=a.offsets.popper,l=M(a.instance.modifiers,function(a){return"applyStyle"===a.name}).gpuAcceleration;void 0!==l&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var i,j,v,c,w,e,m,n,o,x,p,r,s,F=void 0!==l?l:k.gpuAcceleration,f=q(a.instance.popper),y=C(f),b={position:E.position},d=(i=a,j=window.devicePixelRatio<2||!Y,c=(v=i.offsets).popper,w=v.reference,e=Math.round,m=function(a){return a},n=e(w.width),o=e(c.width),x=-1!==["left","right"].indexOf(i.placement),p=-1!==i.placement.indexOf("-"),r=j?x||p||n%2==o%2?e:Math.floor:m,s=j?e:m,{left:r(n%2==1&&o%2==1&&!p&&j?c.left-1:c.left),top:s(c.top),bottom:s(c.bottom),right:r(c.right)}),g="bottom"===B?"top":"bottom",h="right"===D?"left":"right",z=Q("transform"),t=void 0,u=void 0;if(u="bottom"===g?"HTML"===f.nodeName?-f.clientHeight+d.bottom:-y.height+d.bottom:d.top,t="right"===h?"HTML"===f.nodeName?-f.clientWidth+d.right:-y.width+d.right:d.left,F&&z)b[z]="translate3d("+t+"px, "+u+"px, 0)",b[g]=0,b[h]=0,b.willChange="transform";else{var G="bottom"===g?-1:1,H="right"===h?-1:1;b[g]=u*G,b[h]=t*H,b.willChange=g+", "+h}var I={"x-placement":a.placement};return a.attributes=A({},I,a.attributes),a.styles=A({},b,a.styles),a.arrowStyles=A({},a.offsets.arrow,a.arrowStyles),a},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(a){return X(a.instance.popper,a.styles),function(b,a){Object.keys(a).forEach(function(c){!1!==a[c]?b.setAttribute(c,a[c]):b.removeAttribute(c)})}(a.instance.popper,a.attributes),a.arrowElement&&Object.keys(a.arrowStyles).length&&X(a.arrowElement,a.arrowStyles),a},onLoad:function(c,b,a,g,d){var e=I(d,b,c,a.positionFixed),f=H(a.placement,e,b,c,a.modifiers.flip.boundariesElement,a.modifiers.flip.padding);return b.setAttribute("x-placement",f),X(b,{position:a.positionFixed?"fixed":"absolute"}),a},gpuAcceleration:void 0}}},c.default=b},6625:function(a,b,c){!function(d,a){a(b,c(7294),c(7606),c(6431),c(3935),c(4184),c(8981))}(this,function(a,b,d,q,r,e,f){"use strict";function c(a){return a&&"object"==typeof a&&"default"in a?a:{"default":a}}var s=c(b),t=c(d),u=c(e),v=c(f);const g=({ref:a,open:c=!0,onClickOutside:d,onEscape:e})=>{b.useLayoutEffect(()=>{const b=b=>{const c=a.current;(null==c?void 0:c.contains(b.target))||3===b.which||null==d||d(b)},f=a=>{27===a.keyCode&&(null==e||e(a))};return c&&(d&&(document.addEventListener("mousedown",b),document.addEventListener("touchstart",b)),f&&document.addEventListener("keydown",f)),()=>{d&&(document.removeEventListener("mousedown",b),document.removeEventListener("touchstart",b)),f&&document.removeEventListener("keydown",f)}},[a,d,e,c])},h=b.createContext({close:()=>void 0});let w=0;const x=()=>++w,i=a=>{const[c]=b.useState(a||x());return`ref-${c}`},y=a=>{const c=b.useRef(a);c.current=a,b.useLayoutEffect(()=>()=>c.current(),[])},j=b.forwardRef(({children:d,className:e,element:h="div",onMount:i=()=>void 0,onUnmount:j=()=>void 0},f)=>{const a=b.useRef(null),c=b.useRef(!1);if(b.useEffect(()=>{e&&a.current&&a.current.setAttribute("class",`${e} rdk-portal`)},[e,a.current]),b.useLayoutEffect(()=>{a.current=document.createElement(h),null==i||i()},[]),y(()=>{null==j||j(),window.requestAnimationFrame(()=>{a.current&&document.body.removeChild(a.current)})}),b.useImperativeHandle(f,()=>a.current),!a.current)return null;c.current||(c.current=!0,a.current.classList.add("rdk-portal"),document.body.appendChild(a.current));const g=r.createPortal(d,a.current);return g}),z=[],k=b.forwardRef(({className:c,children:d,onMount:k,onUnmount:l,appendToBody:e=!0},f)=>{const m=i(),[g,n]=b.useState(null),[a,o]=b.useState(null),h=b.useRef(null);return b.useImperativeHandle(f,()=>h.current),s.default.createElement(j,{className:c,ref:h,appendToBody:e,onMount(){z.push(m);let a=z.indexOf(m);-1===a&&(a=0),n(a);const b=990+2*a+1;o(b),null==k||k({overlayIndex:b,portalIndex:a,backdropIndex:b})},onUnmount(){null==l||l(),z.splice(z.indexOf(m),1),n(null),o(null)}},d({overlayIndex:a,portalIndex:g,backdropIndex:a}))});var A={backdrop:"Backdrop-module_backdrop__2tEGU"};!function(c,d){void 0===d&&(d={});var e=d.insertAt;if(c&&"undefined"!=typeof document){var b=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===e&&b.firstChild?b.insertBefore(a,b.firstChild):b.appendChild(a),a.styleSheet?a.styleSheet.cssText=c:a.appendChild(document.createTextNode(c))}}(".Backdrop-module_backdrop__2tEGU {\n  position: fixed;\n  background: var(--color-layer-transparent);\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  opacity: 0;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n");const l=({portalIndex:a=0,zIndex:b=998,className:c,onClick:d=()=>void 0})=>s.default.createElement(q.motion.div,{className:u.default(A.backdrop,c),initial:{opacity:0},animate:{opacity:.8-a/10},exit:{opacity:0},style:{zIndex:b},onClick:d}),m=b.forwardRef(({children:e,className:f,elementType:g="span",trigger:h=["click"],onOpen:c=()=>void 0,onClose:d=()=>void 0},i)=>{const a=b.useCallback(a=>Array.isArray(h)?h.includes(a):a===h,[h]),j=b.useCallback(b=>{a("focus")&&c({type:"focus",nativeEvent:b})},[c,a]),k=b.useCallback(b=>{a("focus")&&d({type:"focus",nativeEvent:b})},[d,a]),l=b.useCallback(b=>{a("hover")&&c({type:"hover",nativeEvent:b})},[c,a]),m=b.useCallback(b=>{a("hover")&&d({type:"hover",nativeEvent:b})},[d,a]),n=b.useCallback(b=>{a("click")&&c({type:"click",nativeEvent:b}),a("click")||d({type:"hover",nativeEvent:b})},[c,d,a]),o=b.useCallback(b=>{a("contextmenu")&&(b.preventDefault(),c({type:"contextmenu",nativeEvent:b}))},[c]),p=a("focus")?-1:void 0;return s.default.createElement(g,{ref:i,tabIndex:p,onMouseEnter:l,onMouseLeave:m,onFocus:j,onBlur:k,onClick:n,onContextMenu:o,className:f},e)});function B(b,e){var d={};for(var a in b)Object.prototype.hasOwnProperty.call(b,a)&&0>e.indexOf(a)&&(d[a]=b[a]);if(null!=b&&"function"==typeof Object.getOwnPropertySymbols)for(var c=0,a=Object.getOwnPropertySymbols(b);c<a.length;c++)0>e.indexOf(a[c])&&Object.prototype.propertyIsEnumerable.call(b,a[c])&&(d[a[c]]=b[a[c]]);return d}const n=(a,{followCursor:d,placement:i,modifiers:j}={})=>{const c=b.useRef(null),e=b.useRef(null),f=b.useRef({pageX:0,pageY:0}),g=a.current,h=b.useMemo(()=>{const c=a;if(void 0!==c.current)return c.current;const b=a;if(d)return{getBoundingClientRect:()=>({top:f.current.pageY,right:f.current.pageX,bottom:f.current.pageY,left:f.current.pageX,width:0,height:0}),clientWidth:0,clientHeight:0};if(b&&!b.getBoundingClientRect){const{top:h,left:i,width:e,height:g}=a;return{getBoundingClientRect:()=>({top:h,left:i,width:e,bottom:h-g,right:i-e,height:g}),clientWidth:e,clientHeight:g}}return b},[d,a,g,f]);return b.useLayoutEffect(()=>{let a;const b=({pageX:b,pageY:c})=>{var a;f.current={pageX:b,pageY:c},null===(a=e.current)|| void 0===a||a.scheduleUpdate()},g=()=>{a=requestAnimationFrame(()=>{var a;null===(a=e.current)|| void 0===a||a.scheduleUpdate()})};return c.current&&h&&(e.current=new v.default(h,c.current,{placement:i||"top",modifiers:j||{},onCreate(){window.addEventListener("scroll",g),d&&window.addEventListener("mousemove",b)}})),()=>{var f;!c.current&&(null===(f=e.current)|| void 0===f||f.destroy(),cancelAnimationFrame(a),window.removeEventListener("scroll",g),d&&window.removeEventListener("mousemove",b))}},[c.current]),b.useLayoutEffect(()=>{e.current&&(e.current.reference=h,e.current.scheduleUpdate())},[h]),[c,e]},o=b.forwardRef(({triggerRef:c,children:d,portalClassName:e,closeOnBodyClick:p=!0,closeOnEscape:q=!0,elementType:f,appendToBody:h=!0,followCursor:i,modifiers:j,placement:l="bottom",onClose:r},m)=>{const[o,t]=b.useState(null),[a,u]=n(c,{followCursor:i,modifiers:j,placement:l});return b.useImperativeHandle(m,()=>({updatePosition(){var a;null===(a=null==u?void 0:u.current)|| void 0===a||a.scheduleUpdate()}})),g({open:!0,ref:a,onClickOutside(b){if(p){let a=null;c.current?a=c.current:void 0!==c.contains&&(a=c),a&&!a.contains(b.target)&&(null==r||r(b))}},onEscape:()=>q&&(null==r?void 0:r())}),b.useEffect(()=>{a&&o&&(a.current.style.zIndex=o)},[a.current,o]),s.default.createElement(k,{ref:a,className:e,elementType:f,appendToBody:h,onMount:a=>t(a.overlayIndex),onUnmount:()=>t(null)},d)}),p=b.forwardRef((c,i)=>{var{reference:j,children:a,open:d,content:k,triggerElement:l,triggerClassName:n,trigger:e="click",onOpen:p,onClose:f}=c,r=B(c,["reference","children","open","content","triggerElement","triggerClassName","trigger","onOpen","onClose"]);const u=b.useRef(!1),g=b.useRef(null),t=b.useRef(null);return b.useImperativeHandle(i,()=>({updatePosition(){var a;null===(a=t.current)|| void 0===a||a.updatePosition()}})),b.useEffect(()=>{u.current?d?null==p||p():null==f||f():u.current=!0},[d]),s.default.createElement(h.Provider,{value:{close:()=>null==f?void 0:f()}},a&&s.default.createElement(b.Fragment,null,e?s.default.createElement(m,{elementType:l,ref:g,className:n,trigger:e,onOpen:p,onClose:f},a):a),s.default.createElement(q.AnimatePresence,null,d&&s.default.createElement(o,Object.assign({},r,{ref:t,triggerRef:j||g,onClose:f}),k)))});a.Backdrop=l,a.CloneElement=function(c){var{children:d,element:a,childRef:f}=c,e=B(c,["children","element","childRef"]);const g=b.useMemo(()=>b=>{const c=a.props;return Object.keys(b).reduce((d,a)=>{const e=b[a],f=c[a];return"function"==typeof e&&"function"==typeof f?d[a]=(...a)=>{e(...a),f(...a)}:"className"===a?d[a]=u.default(e,f):d[a]=e,d},{})},[e]);if(null===a)return d;const h=f?a=>{"function"==typeof f?f(a):h&&(f.current=a)}:void 0,i=g(e);return b.cloneElement(a,Object.assign(Object.assign(Object.assign({},a.props),i),{children:d,ref:h}))},a.ConnectedOverlay=p,a.ConnectedOverlayContent=o,a.GlobalOverlay=({open:a,hasBackdrop:f=!0,closeOnEscape:i=!0,closeOnBackdropClick:d=!0,backdropClassName:j,children:m,onClose:e})=>{const c=b.useRef(null),n=b.useCallback(()=>{d&&(null==e||e())},[d,e]);return g({ref:c,open:a,onEscape:()=>i&&(null==e?void 0:e())}),s.default.createElement(h.Provider,{value:{close:()=>null==e?void 0:e()}},s.default.createElement(q.AnimatePresence,null,a&&s.default.createElement(k,{ref:c},({overlayIndex:a,portalIndex:c})=>s.default.createElement(b.Fragment,null,f&&s.default.createElement(l,{zIndex:a,portalIndex:c,onClick:n,className:j}),m({overlayIndex:a,portalIndex:c}),s.default.createElement(t.default,null)))))},a.OverlayContext=h,a.OverlayPortal=k,a.OverlayTrigger=m,a.Portal=j,a.useExitListener=g,a.useId=i,a.useOverlay=()=>{const a=b.useContext(h);if(void 0===a)throw new Error("`useOverlay` hook can only be used inside a overlay component.");return a},a.usePosition=n,Object.defineProperty(a,"__esModule",{value:!0})})},9701:function(c,a,b){"use strict";b.r(a),b.d(a,{borderBoxWarn:function(){return h},observerErr:function(){return g}});var d=b(7294);function e(){return(e=Object.assign||function(d){for(var a=1;a<arguments.length;a++){var b=arguments[a];for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c])}return d}).apply(this,arguments)}var f=function(a){var b=(0,d.useRef)(a);return b.current=a,b},g="\u{1F4A1} react-cool-dimensions: the browser doesn't support Resize Observer, please use polyfill: https://github.com/wellyshen/react-cool-dimensions#resizeobserver-polyfill",h="\u{1F4A1} react-cool-dimensions: the browser doesn't support border-box size, fallback to content-box size. Please see: https://github.com/wellyshen/react-cool-dimensions#border-box-size-measurement",i=function(a,c){var b="",d=-1;return Object.keys(a).forEach(function(f){var e=a[f];c>=e&&e>d&&(b=f,d=e)}),b};a.default=function(c){var a=void 0===c?{}:c,l=a.useBorderBoxSize,m=a.breakpoints,n=a.updateOnBreakpointChange,o=a.shouldUpdate,p=a.onResize,r=a.polyfill,j=(0,d.useState)({currentBreakpoint:"",width:0,height:0}),q=j[0],s=j[1],t=(0,d.useRef)({}),u=(0,d.useRef)(),v=(0,d.useRef)(),w=(0,d.useRef)(!1),x=(0,d.useRef)(),y=f(p),z=f(o),b=(0,d.useCallback)(function(){v.current&&v.current.disconnect()},[]),k=(0,d.useCallback)(function(a){a&&a!==x.current&&(b(),x.current=a),v.current&&x.current&&v.current.observe(x.current)},[b]);return(0,d.useEffect)(function(){if((!("ResizeObserver"in window)||!("ResizeObserverEntry"in window))&&!r)return console.error(g),function(){return null};var a=null;return v.current=new(r||ResizeObserver)(function(c){var d=c[0];a=requestAnimationFrame(function(){var p=d.contentBoxSize,g=d.borderBoxSize,j=d.contentRect,a=p;l&&(g?a=g:w.current||(console.warn(h),w.current=!0)),a=Array.isArray(a)?a[0]:a;var e=a?a.inlineSize:j.width,f=a?a.blockSize:j.height;if(e!==t.current.width||f!==t.current.height){t.current={width:e,height:f};var c={currentBreakpoint:"",width:e,height:f,entry:d,observe:k,unobserve:b};m?(c.currentBreakpoint=i(m,e),c.currentBreakpoint!==u.current&&(y.current&&y.current(c),u.current=c.currentBreakpoint)):y.current&&y.current(c);var o={currentBreakpoint:c.currentBreakpoint,width:e,height:f,entry:d};if(!z.current||z.current(o)){if(!z.current&&m&&n){s(function(a){return a.currentBreakpoint!==o.currentBreakpoint?o:a});return}s(o)}}})}),k(),function(){b(),a&&cancelAnimationFrame(a)}},[JSON.stringify(m),l,k,b,n]),e({},q,{observe:k,unobserve:b})}},9590:function(a){var b="undefined"!=typeof Element,c="function"==typeof Map,d="function"==typeof Set,e="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function f(a,g){if(a===g)return!0;if(a&&g&&"object"==typeof a&&"object"==typeof g){var i,h,j,k;if(a.constructor!==g.constructor)return!1;if(Array.isArray(a)){if((i=a.length)!=g.length)return!1;for(h=i;0!=h--;)if(!f(a[h],g[h]))return!1;return!0}if(c&&a instanceof Map&&g instanceof Map){if(a.size!==g.size)return!1;for(k=a.entries();!(h=k.next()).done;)if(!g.has(h.value[0]))return!1;for(k=a.entries();!(h=k.next()).done;)if(!f(h.value[1],g.get(h.value[0])))return!1;return!0}if(d&&a instanceof Set&&g instanceof Set){if(a.size!==g.size)return!1;for(k=a.entries();!(h=k.next()).done;)if(!g.has(h.value[0]))return!1;return!0}if(e&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(g)){if((i=a.length)!=g.length)return!1;for(h=i;0!=h--;)if(a[h]!==g[h])return!1;return!0}if(a.constructor===RegExp)return a.source===g.source&&a.flags===g.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===g.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===g.toString();if((i=(j=Object.keys(a)).length)!==Object.keys(g).length)return!1;for(h=i;0!=h--;)if(!Object.prototype.hasOwnProperty.call(g,j[h]))return!1;if(b&&a instanceof Element)return!1;for(h=i;0!=h--;)if(("_owner"!==j[h]&&"__v"!==j[h]&&"__o"!==j[h]||!a.$$typeof)&&!f(a[j[h]],g[j[h]]))return!1;return!0}return a!=a&&g!=g}a.exports=function(b,c){try{return f(b,c)}catch(a){if((a.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw a}}},5781:function(j,b,a){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var k=function(){function a(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),c=a(7294),l=o(c),m=a(8875),n=a(590),e=o(a(8274)),f=a(5396),g=o(f),h=a(3468);function o(a){return a&&a.__esModule?a:{default:a}}var i=function(b){function a(){return!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),function(b,a){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&("object"==typeof a||"function"==typeof a)?a:b}(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return!function(b,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}(a,b),k(a,[{key:"componentDidMount",value:function(){m.canUseDOM&&(this.initialHeight=window.innerHeight)}},{key:"componentWillUnmount",value:function(){var a=window.innerHeight-this.initialHeight;a&&window.scrollTo(0,window.pageYOffset+a),this.initialHeight=window.innerHeight}},{key:"render",value:function(){var a=this.props.children;return a?l.default.createElement(n.TouchScrollable,null,a):null}}]),a}(c.PureComponent),p=(0,h.pipe)(g.default,e.default)(i),d=function(a){return a.isActive?l.default.createElement(p,a):a.children};d.defaultProps={accountForScrollbars:!0,children:null,isActive:!0},b.default=d},590:function(d,a,b){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.TouchScrollable=void 0;var e=Object.assign||function(d){for(var a=1;a<arguments.length;a++){var b=arguments[a];for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c])}return d},f=function(){function a(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),c=b(7294),g=b(8875),h=b(3468);function i(b,a){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&("object"==typeof a||"function"==typeof a)?a:b}a.TouchScrollable=function(b){function a(){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a);for(var d,e,c,f,g=arguments.length,h=Array(g),b=0;b<g;b++)h[b]=arguments[b];return f=(e=c=i(this,(d=a.__proto__||Object.getPrototypeOf(a)).call.apply(d,[this].concat(h))),c.getScrollableArea=function(a){c.scrollableArea=a},e),i(c,f)}return!function(b,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}(a,b),f(a,[{key:"componentDidMount",value:function(){g.canUseEventListeners&&(this.scrollableArea.addEventListener("touchstart",h.preventInertiaScroll,h.listenerOptions),this.scrollableArea.addEventListener("touchmove",h.allowTouchMove,h.listenerOptions))}},{key:"componentWillUnmount",value:function(){g.canUseEventListeners&&(this.scrollableArea.removeEventListener("touchstart",h.preventInertiaScroll,h.listenerOptions),this.scrollableArea.removeEventListener("touchmove",h.allowTouchMove,h.listenerOptions))}},{key:"render",value:function(){var b=this.props,a=b.children,d=function(b,d){var c={};for(var a in b)!(d.indexOf(a)>=0)&&Object.prototype.hasOwnProperty.call(b,a)&&(c[a]=b[a]);return c}(b,["children"]);return"function"==typeof a?a(this.getScrollableArea):(0,c.cloneElement)(a,e({ref:this.getScrollableArea},d))}}]),a}(c.PureComponent)},7606:function(c,a,b){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var d=b(5781);Object.defineProperty(a,"default",{enumerable:!0,get:function(){return f(d).default}});var e=b(590);function f(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(a,"TouchScrollable",{enumerable:!0,get:function(){return e.TouchScrollable}})},3468:function(c,a,b){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.pipe=a.listenerOptions=void 0,a.preventTouchMove=function(a){return a.preventDefault(),!1},a.allowTouchMove=function(a){var b=a.currentTarget;return b.scrollHeight>b.clientHeight?(a.stopPropagation(),!0):(a.preventDefault(),!1)},a.preventInertiaScroll=function(){var a=this.scrollTop,b=this.scrollHeight,c=a+this.offsetHeight;0===a?this.scrollTop=1:c===b&&(this.scrollTop=a-1)},a.isTouchDevice=function(){return!!d.canUseDOM&&("ontouchstart"in window||navigator.maxTouchPoints)},a.camelToKebab=function(a){return a.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},a.parse=function(a){return isNaN(a)?a:a+"px"},a.getPadding=function(){if(!d.canUseDOM)return 0;var a=parseInt(window.getComputedStyle(document.body).paddingRight,10),b=window.innerWidth-document.documentElement.clientWidth;return a+b},a.getWindowHeight=function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:1;if(d.canUseDOM)return window.innerHeight*a},a.getDocumentHeight=function(){if(d.canUseDOM)return document.body.clientHeight},a.makeStyleTag=function(){if(d.canUseDOM){var a=document.createElement("style");return a.type="text/css",a.setAttribute("data-react-scrolllock",""),a}},a.injectStyles=function(a,b){d.canUseDOM&&(a.styleSheet?a.styleSheet.cssText=b:a.appendChild(document.createTextNode(b)))},a.insertStyleTag=function(a){d.canUseDOM&&(document.head||document.getElementsByTagName("head")[0]).appendChild(a)};var d=b(8875);a.listenerOptions={capture:!1,passive:!1};var e=function(a,b){return function(){return b(a.apply(void 0,arguments))}};a.pipe=function(){for(var b=arguments.length,c=Array(b),a=0;a<b;a++)c[a]=arguments[a];return c.reduce(e)}},8274:function(e,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var a,f=function(){function a(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();b.default=function(a){return function(c){function b(){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b);for(var d,e,a,f,g=arguments.length,j=Array(g),c=0;c<g;c++)j[c]=arguments[c];return f=(e=a=i(this,(d=b.__proto__||Object.getPrototypeOf(b)).call.apply(d,[this].concat(j))),a.addSheet=function(){var c=a.getStyles(),b=(0,h.makeStyleTag)();b&&((0,h.injectStyles)(b,c),(0,h.insertStyleTag)(b),a.sheet=b)},a.getStyles=function(){var d=a.props.accountForScrollbars,b=(0,h.getDocumentHeight)(),c=d?(0,h.getPadding)():null;return"body {\n        box-sizing: border-box !important;\n        overflow: hidden !important;\n        position: relative !important;\n        "+(b?"height: "+b+"px !important;":"")+"\n        "+(c?"padding-right: "+c+"px !important;":"")+"\n      }"},e),i(a,f)}return!function(b,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}(b,c),f(b,[{key:"componentDidMount",value:function(){this.addSheet()}},{key:"removeSheet",value:function(){this.sheet&&(this.sheet.parentNode.removeChild(this.sheet),this.sheet=null)}},{key:"componentWillUnmount",value:function(){this.removeSheet()}},{key:"render",value:function(){return g.default.createElement(a,this.props)}}]),b}(d.PureComponent)};var d=c(7294),g=(a=d)&&a.__esModule?a:{default:a},h=c(3468);function i(b,a){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&("object"==typeof a||"function"==typeof a)?a:b}},5396:function(e,c,b){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var a,f=function(){function a(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();c.default=function(a){return function(c){function b(){return!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),function(b,a){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&("object"==typeof a||"function"==typeof a)?a:b}(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return!function(b,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}(b,c),f(b,[{key:"componentDidMount",value:function(){h.canUseDOM&&(0,i.isTouchDevice)()&&document.addEventListener("touchmove",i.preventTouchMove,i.listenerOptions)}},{key:"componentWillUnmount",value:function(){h.canUseDOM&&(0,i.isTouchDevice)()&&document.removeEventListener("touchmove",i.preventTouchMove,i.listenerOptions)}},{key:"render",value:function(){return g.default.createElement(a,this.props)}}]),b}(d.PureComponent)};var d=b(7294),g=(a=d)&&a.__esModule?a:{default:a},h=b(8875),i=b(3468)},7582:function(h,d,b){"use strict";b.r(d),b.d(d,{addV:function(){return j},rubberbandIfOutOfBounds:function(){return q},subV:function(){return k},useDrag:function(){return at},useGesture:function(){return aE},useHover:function(){return aA},useMove:function(){return az},usePinch:function(){return av},useScroll:function(){return aC},useWheel:function(){return ax}});var i=b(7294);function j(a,b){return a.map(function(a,c){return a+b[c]})}function k(a,b){return a.map(function(a,c){return a-b[c]})}function l(a){return Math.hypot.apply(Math,a)}function m(b,a){void 0===a&&(a=b);var c=l(a),e=0===c?0:1/c,d=a.map(function(a){return e*a});return{distance:l(b),direction:d}}function n(d,a,c){var b=l(a),i=0===b?0:1/b,e=0===c?0:1/c,f=a.map(function(a){return e*a}),g=a.map(function(a){return i*a}),h=l(d);return{velocities:f,velocity:e*b,distance:h,direction:g}}function o(a){return Math.sign?Math.sign(a):Number(a>0)-Number(a<0)||+a}function p(b,a,c){return 0===a||Math.abs(a)===1/0?Math.pow(b,5*c):b*a*c/(a+c*b)}function q(a,b,c,d){return(void 0===d&&(d=.15),0===d)?Math.max(b,Math.min(a,c)):a<b?-p(b-a,c-b,d)+b:a>c?+p(a-c,c-b,d)+c:a}function r(d,c){for(var b=0;b<c.length;b++){var a=c[b];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}}function c(){return(c=Object.assign||function(d){for(var a=1;a<arguments.length;a++){var b=arguments[a];for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c])}return d}).apply(this,arguments)}function s(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a,a.__proto__=b}function t(c,f){if(null==c)return{};var a,b,d={},e=Object.keys(c);for(b=0;b<e.length;b++)a=e[b],f.indexOf(a)>=0||(d[a]=c[a]);return d}function u(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function v(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}function w(a,c){var b;if("undefined"==typeof Symbol||null==a[Symbol.iterator]){if(Array.isArray(a)||(b=function(a,c){if(a){if("string"==typeof a)return v(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(a);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return v(a,c)}}(a))||c&&a&&"number"==typeof a.length){b&&(a=b);var d=0;return function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(b=a[Symbol.iterator]()).next.bind(b)}function x(){}function y(){for(var c=arguments.length,a=new Array(c),b=0;b<c;b++)a[b]=arguments[b];return 0===a.length?x:1===a.length?a[0]:function(){for(var b,c,d=w(a);!(c=d()).done;)b=c.value.apply(this,arguments)||b;return b}}function z(a,b){if(void 0===a){if(void 0===b)throw new Error("Must define fallback value if undefined is expected");a=b}return Array.isArray(a)?a:[a,a]}function A(a,b){return Object.assign({},b,a||{})}function B(b){if("function"!=typeof b)return b;for(var c=arguments.length,d=new Array(c>1?c-1:0),a=1;a<c;a++)d[a-1]=arguments[a];return b.apply(void 0,d)}function C(b,h){void 0===b&&(b={});for(var c={},e=0,f=Object.entries(h);e<f.length;e++){var g=f[e],a=g[0],d=g[1];switch(typeof d){case"function":c[a]=d.call(c,b[a],a,b);break;case"object":c[a]=C(b[a],d);break;case"boolean":d&&(c[a]=b[a]);break}}return c}var e={threshold:function(a){return void 0===a&&(a=0),z(a)},rubberband:function(a){switch(void 0===a&&(a=0),a){case!0:return z(.15);case!1:return z(0);default:return z(a)}},enabled:function(a){return void 0===a&&(a=!0),a},triggerAllEvents:function(a){return void 0===a&&(a=!1),a},initial:function(a){return(void 0===a&&(a=0),"function"==typeof a)?a:z(a)}},g=c({},e,{axis:!0,lockDirection:function(a){return void 0===a&&(a=!1),a},bounds:function(a){if(void 0===a&&(a={}),"function"==typeof a)return function(b){return g.bounds(a(b))};var b=a,c=b.left,h=void 0===c?-1/0:c,d=b.right,i=void 0===d?1/0:d,e=b.top,j=void 0===e?-1/0:e,f=b.bottom;return[[h,i],[j,void 0===f?1/0:f]]}}),D="undefined"!=typeof window&&window.document&&window.document.createElement,E={enabled:function(a){return void 0===a&&(a=!0),a},domTarget:!0,window:function(b){function a(a){return b.apply(this,arguments)}return a.toString=function(){return b.toString()},a}(function(a){return void 0===a&&(a=D?window:void 0),a}),eventOptions:function(a){var b=void 0===a?{}:a,c=b.passive,d=b.capture;return{passive:void 0===c||c,capture:void 0!==d&&d}}},F=c({},e,{bounds:function(h,i,a){var b=a.distanceBounds,d=void 0===b?{}:b,c=a.angleBounds,e=void 0===c?{}:c,f=function(b){var a=A(B(d,b),{min:-1/0,max:1/0});return[a.min,a.max]},g=function(b){var a=A(B(e,b),{min:-1/0,max:1/0});return[a.min,a.max]};return"function"!=typeof d&&"function"!=typeof e?[f(),g()]:function(a){return[f(a),g(a)]}}}),G=c({},g,{threshold:function(g,h,a){var c=a.filterTaps,d=void 0!==c&&c,e=a.lockDirection,f=a.axis,b=z(g,d?3:void 0!==e&&e?1:(void 0===f?void 0:f)?1:0);return this.filterTaps=d||b[0]+b[1]>0,b},swipeVelocity:function(a){return void 0===a&&(a=.5),z(a)},swipeDistance:function(a){return void 0===a&&(a=60),z(a)},delay:function(a){switch(void 0===a&&(a=0),a){case!0:return 180;case!1:return 0;default:return a}}});function H(a){return void 0===a&&(a={}),C(a,E)}function I(a){return void 0===a&&(a={}),C(a,g)}function J(a){return void 0===a&&(a={}),C(a,F)}function K(a){return void 0===a&&(a={}),C(a,G)}function L(a){var c=a.domTarget,d=a.eventOptions,e=a.window,f=a.enabled,g=t(a,["domTarget","eventOptions","window","enabled"]),b=H({domTarget:c,eventOptions:d,window:e,enabled:f});return b.move=I(g),b}function M(a){var d=a.domTarget,e=a.eventOptions,f=a.window,g=a.enabled,h=t(a,["domTarget","eventOptions","window","enabled"]),b=H({domTarget:d,eventOptions:e,window:f,enabled:g});return b.hover=c({enabled:!0},h),b}function N(a){var c=a.domTarget,d=a.eventOptions,e=a.window,f=a.enabled,g=t(a,["domTarget","eventOptions","window","enabled"]),b=H({domTarget:c,eventOptions:d,window:e,enabled:f});return b.drag=K(g),b}function O(a){var c=a.domTarget,d=a.eventOptions,e=a.window,f=a.enabled,g=t(a,["domTarget","eventOptions","window","enabled"]),b=H({domTarget:c,eventOptions:d,window:e,enabled:f});return b.pinch=J(g),b}function P(a){var c=a.domTarget,d=a.eventOptions,e=a.window,f=a.enabled,g=t(a,["domTarget","eventOptions","window","enabled"]),b=H({domTarget:c,eventOptions:d,window:e,enabled:f});return b.scroll=I(g),b}function Q(a){var c=a.domTarget,d=a.eventOptions,e=a.window,f=a.enabled,g=t(a,["domTarget","eventOptions","window","enabled"]),b=H({domTarget:c,eventOptions:d,window:e,enabled:f});return b.wheel=I(g),b}function R(a){return c({_active:!1,_blocked:!1,_intentional:[!1,!1],_movement:[0,0],_initial:[0,0],_bounds:[[-1/0,1/0],[-1/0,1/0]],_lastEventType:void 0,event:void 0,intentional:!1,values:[0,0],velocities:[0,0],delta:[0,0],movement:[0,0],offset:[0,0],lastOffset:[0,0],direction:[0,0],initial:[0,0],previous:[0,0],first:!1,last:!1,active:!1,timeStamp:0,startTime:0,elapsedTime:0,cancel:x,canceled:!1,memo:void 0,args:void 0},a)}function S(){var a=R({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0,_isTap:!0,_delayedEvent:!1,_pointerId:void 0,tap:!1,swipe:[0,0]}),b=R({da:[0,0],vdva:[0,0],origin:void 0,turns:0}),c=R({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),d=R({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),e=R({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0});return{shared:{hovering:!1,scrolling:!1,wheeling:!1,dragging:!1,moving:!1,pinching:!1,touches:0,buttons:0,down:!1,shiftKey:!1,altKey:!1,metaKey:!1,ctrlKey:!1},drag:a,pinch:b,wheel:c,move:d,scroll:e}}var T=new Map,f=function(){function b(b,a){var d=this;void 0===a&&(a=[]),this.controller=b,this.args=a,this.debounced=!0,this.setTimeout=function(g,b){var e;void 0===b&&(b=140),clearTimeout(d.controller.timeouts[d.stateKey]);for(var c=arguments.length,f=new Array(c>2?c-2:0),a=2;a<c;a++)f[a-2]=arguments[a];d.controller.timeouts[d.stateKey]=(e=window).setTimeout.apply(e,[g,b].concat(f))},this.clearTimeout=function(){clearTimeout(d.controller.timeouts[d.stateKey])},this.fireGestureHandler=function(b){if(void 0===b&&(b=!1),d.state._blocked)return d.debounced||(d.state._active=!1,d.clean()),null;if(!b&&!d.state.intentional&&!d.config.triggerAllEvents)return null;if(d.state.intentional){var e=d.state.active,a=d.state._active;d.state.active=a,d.state.first=a&&!e,d.state.last=e&&!a,d.controller.state.shared[d.ingKey]=a}var f=c({},d.controller.state.shared,d.state,d.mapStateValues(d.state)),g=d.handler(f);return d.state.memo=void 0!==g?g:d.state.memo,d.state._active||d.clean(),f}}var d,e,f,a=b.prototype;return a.updateSharedState=function(a){Object.assign(this.controller.state.shared,a)},a.updateGestureState=function(a){Object.assign(this.state,a)},a.checkIntentionality=function(a,b){return{_intentional:a,_blocked:!1}},a.getMovement=function(o){var g,h,p,q,l=this.config,r=l.initial,s=l.bounds,v=l.rubberband,t=l.threshold,d=this.state,m=d._bounds,e=d._initial,w=d._active,f=d._intentional,x=d.lastOffset,y=d.movement,b=this.getInternalMovement(o,this.state),z=!1===f[0]?U(b[0],t[0]):f[0],A=!1===f[1]?U(b[1],t[1]):f[1],n=this.checkIntentionality([z,A],b);if(n._blocked)return c({},n,{_movement:b,delta:[0,0]});var a=n._intentional,C=b;!1!==a[0]&& !1===f[0]&&(h=B(r,this.state),g=B(s,this.state),e[0]=h[0],m[0]=g[0]),!1!==a[1]&& !1===f[1]&&(h=null!=(p=h)?p:B(r,this.state),g=null!=(q=g)?q:B(s,this.state),e[1]=h[1],m[1]=g[1]);var i=[!1!==a[0]?b[0]-a[0]:e[0],!1!==a[1]?b[1]-a[1]:e[1]],D=j(i,x),u=w?v:[0,0];return i=V(m,j(i,e),u),c({},n,{intentional:!1!==a[0]|| !1!==a[1],_initial:e,_movement:C,movement:i,values:o,offset:V(m,D,u),delta:k(i,y)})},a.clean=function(){this.clearTimeout()},e=[{key:"config",get:function(){return this.controller.config[this.stateKey]}},{key:"enabled",get:function(){return this.controller.config.enabled&&this.config.enabled}},{key:"state",get:function(){return this.controller.state[this.stateKey]}},{key:"handler",get:function(){return this.controller.handlers[this.stateKey]}}],r((d=b).prototype,e),f&&r(d,f),b}();function U(a,b){return Math.abs(a)>=b&&o(a)*b}function V(a,b,c){var f=b[0],g=b[1],h=c[0],i=c[1],d=a[0],j=d[0],k=d[1],e=a[1],l=e[0],m=e[1];return[q(f,j,k,h),q(g,l,m,i)]}function W(b,a,e){var c=b.state,f=b.args,d=a.timeStamp,g=a.type,h=c.values,i=e?0:d-c.startTime;return{_lastEventType:g,event:a,timeStamp:d,elapsedTime:i,args:f,previous:h}}function X(a,b,e){var d=a.state.offset,f=e.timeStamp;return c({},S()[a.stateKey],{_active:!0,values:b,initial:b,offset:d,lastOffset:d,startTime:f})}function Y(a,b){return function(g){for(var e=arguments.length,f=new Array(e>1?e-1:0),d=1;d<e;d++)f[d-1]=arguments[d];return a.call.apply(a,[this,c({},b,{event:g})].concat(f))}}var Z=function(a){var b=this;this.classes=a,this.bind=function(){for(var a={},g=arguments.length,e=new Array(g),d=0;d<g;d++)e[d]=arguments[d];for(var h,k=w(b.classes);!(h=k()).done;)new h.value(b,e).addBindings(a);for(var f=0,i=Object.entries(b.nativeRefs);f<i.length;f++){var j=i[f],l=j[0],m=j[1];ad(a,l,Y(m,c({},b.state.shared,{args:e})))}return b.config.domTarget?_(b,a):aa(b,a)},this.effect=function(){return b.config.domTarget&&b.bind(),b.clean},this.clean=function(){var a=ac(b.config),c=b.config.eventOptions;a&&af(a,ab(b.domListeners),c),Object.values(b.timeouts).forEach(clearTimeout),$(b)},this.state=S(),this.timeouts={},this.domListeners=[],this.windowListeners={}};function $(a){var b=a.config,c=b.window,e=b.eventOptions,d=a.windowListeners;if(c){for(var f in d)af(c,d[f],e);a.windowListeners={}}}function _(d,i){var e=d.config,a=d.domListeners,b=ac(e);if(!b)throw new Error("domTarget must be defined");var f=e.eventOptions;af(b,ab(a),f);for(var c=0,g=Object.entries(i);c<g.length;c++){var h=g[c],j=h[0],k=h[1],l=j.slice(2).toLowerCase();a.push([l,y.apply(void 0,k)])}ae(b,a,f)}function aa(f,g){for(var h=f.config,c={},i=h.eventOptions.capture?"Capture":"",a=0,d=Object.entries(g);a<d.length;a++){var e=d[a],j=e[0],b=e[1],k=Array.isArray(b)?b:[b],l=j+i;c[l]=y.apply(void 0,k)}return c}function ab(a){return void 0===a&&(a=[]),a.splice(0,a.length)}function ac(b){var a=b.domTarget;return a&&"current"in a?a.current:a}function ad(a,b,c){a[b]||(a[b]=[]),a[b].push(c)}function ae(e,a,b){void 0===a&&(a=[]),void 0===b&&(b={});for(var c,f=w(a);!(c=f()).done;){var d=c.value,g=d[0],h=d[1];e.addEventListener(g,h,b)}}function af(e,a,b){void 0===a&&(a=[]),void 0===b&&(b={});for(var c,f=w(a);!(c=f()).done;){var d=c.value,g=d[0],h=d[1];e.removeEventListener(g,h,b)}}function ag(c,d,b){void 0===b&&(b={});var e=ai(c),a=i.useMemo(function(){return new Z(e)},[]);return(a.config=d,a.handlers=c,a.nativeRefs=b,i.useEffect(a.effect,[]),a.config.domTarget)?ah:a.bind}function ah(){}function ai(b){var a=new Set;return b.drag&&a.add(T.get("drag")),b.wheel&&a.add(T.get("wheel")),b.scroll&&a.add(T.get("scroll")),b.move&&a.add(T.get("move")),b.pinch&&a.add(T.get("pinch")),b.hover&&a.add(T.get("hover")),a}var a=function(c){function b(){return c.apply(this,arguments)||this}s(b,c);var a=b.prototype;return a.getInternalMovement=function(a,b){return k(a,b.initial)},a.checkIntentionality=function(a,f){if(!1===a[0]&& !1===a[1])return{_intentional:a,axis:this.state.axis};var c=f.map(Math.abs),d=c[0],e=c[1],b=this.state.axis||(d>e?"x":d<e?"y":void 0);return this.config.axis||this.config.lockDirection?b?this.config.axis&&b!==this.config.axis?{_intentional:a,_blocked:!0,axis:b}:(a["x"===b?1:0]=!1,{_intentional:a,_blocked:!1,axis:b}):{_intentional:[!1,!1],_blocked:!1,axis:b}:{_intentional:a,_blocked:!1,axis:b}},a.getKinematics=function(b,c){var a=this.getMovement(b);if(!a._blocked){var d=c.timeStamp-this.state.timeStamp;Object.assign(a,n(a.movement,a.delta,d))}return a},a.mapStateValues=function(a){return{xy:a.values,vxvy:a.velocities}},b}(f);function aj(a){if("touches"in a){var b=a.targetTouches,c=a.changedTouches;return b.length>0?b:c}return null}function ak(a){var b="buttons"in a?a.buttons:0,c=aj(a),d=c&&c.length||0,e=a.shiftKey,f=a.altKey,g=a.metaKey,h=a.ctrlKey;return{touches:d,down:d>0||b>0,buttons:b,shiftKey:e,altKey:f,metaKey:g,ctrlKey:h}}function al(a){var b=aj(a),c=b?b[0]:a,d=c.clientX,e=c.clientY;return[d,e]}function am(a){var b=a.deltaX,c=a.deltaY;return[b,c]}function an(a){return[260*a.scale,a.rotation]}function ao(a){var d,e=a.targetTouches,b=e[0],c=e[1],f=c.clientX-b.clientX,g=c.clientY-b.clientY,h=(c.clientX+b.clientX)/2,i=(c.clientY+b.clientY)/2,j="nativeEvent"in a?a.nativeEvent:a,k=null!=(d=j.rotation)?d:-(180*Math.atan2(f,g))/Math.PI;return{values:[Math.hypot(f,g),k],origin:[h,i]}}var ap=function(d){function a(){var a;return a=d.apply(this,arguments)||this,a.ingKey="dragging",a.stateKey="drag",a.onDragStart=function(b){if(a.enabled&&!a.state._active){var e,f,d,c,g;e=a.controller,f=a.stateKey,d=[["pointermove",a.onDragChange],["pointerup",a.onDragEnd],["pointercancel",a.onDragEnd]],c=e.config,g=e.windowListeners,void 0===d&&(d=[]),c.window&&(af(c.window,g[f],c.eventOptions),ae(c.window,g[f]=d,c.eventOptions)),a.updateGestureState({_pointerId:b.pointerId}),a.config.delay>0?(a.state._delayedEvent=!0,"persist"in b&&"function"==typeof b.persist&&b.persist(),a.setTimeout(a.startDrag.bind(u(a)),a.config.delay,b)):a.startDrag(b)}},a.onDragChange=function(b){if(!a.state.canceled&&b.pointerId===a.state._pointerId){if(!a.state._active){a.state._delayedEvent&&(a.clearTimeout(),a.startDrag(b));return}var e=ak(b);if(!e.down){a.onDragEnd(b);return}a.updateSharedState(e);var g=al(b),f=a.getKinematics(g,b),h=W(u(a),b),d=a.state._isTap,i=l(f._movement);d&&i>=3&&(d=!1),a.updateGestureState(c({},h,f,{_isTap:d})),a.fireGestureHandler()}},a.onDragEnd=function(d){if(d.pointerId===a.state._pointerId){a.state._active=!1,a.updateSharedState({down:!1,buttons:0,touches:0});var e=a.state._isTap,f=a.state.velocities,g=f[0],h=f[1],i=a.state.movement,n=i[0],p=i[1],j=a.state._intentional,q=j[0],r=j[1],k=a.config.swipeVelocity,s=k[0],t=k[1],l=a.config.swipeDistance,v=l[0],w=l[1],m=c({},W(u(a),d),a.getMovement(a.state.values)),b=[0,0];m.elapsedTime<220&&(!1!==q&&Math.abs(g)>s&&Math.abs(n)>v&&(b[0]=o(g)),!1!==r&&Math.abs(h)>t&&Math.abs(p)>w&&(b[1]=o(h))),a.updateGestureState(c({},m,{tap:e,swipe:b})),a.fireGestureHandler(!0===e)}},a.clean=function(){var c,e,b,f;d.prototype.clean.call(u(a)),a.state._delayedEvent=!1,c=a.controller,e=a.stateKey,b=c.config,f=c.windowListeners,b.window&&(af(b.window,f[e],b.eventOptions),delete f[e])},a.onCancel=function(){a.state.canceled||(a.updateGestureState({canceled:!0}),a.state._active=!1,a.updateSharedState({down:!1,buttons:0,touches:0}),requestAnimationFrame(function(){return a.fireGestureHandler()}))},a.onClick=function(b){a.state._isTap||b.stopPropagation()},a}s(a,d);var b=a.prototype;return b.startDrag=function(a){var b=al(a);this.updateSharedState(ak(a)),this.updateGestureState(c({},X(this,b,a),W(this,a,!0),{_pointerId:a.pointerId,cancel:this.onCancel})),this.updateGestureState(this.getMovement(b)),this.fireGestureHandler()},b.addBindings=function(a){ad(a,"onPointerDown",this.onDragStart),this.config.filterTaps&&ad(a,this.controller.config.eventOptions.capture?"onClick":"onClickCapture",this.onClick)},a}(a);function aq(a,b){var c,d,e=[],f=!1;return function(){for(var i=arguments.length,g=new Array(i),h=0;h<i;h++)g[h]=arguments[h];return f&&c===this&&b(g,e)||(d=a.apply(this,g),f=!0,c=this,e=g),d}}function ar(a,b){if(a===b)return!0;if(a&&b&&"object"==typeof a&&"object"==typeof b){var e,c,f,d;if(a.constructor!==b.constructor)return!1;if(Array.isArray(a)){if((e=a.length)!==b.length)return!1;for(c=e;0!=c--;)if(!ar(a[c],b[c]))return!1;return!0}if("function"==typeof Map&&a instanceof Map&&b instanceof Map){if(a.size!==b.size)return!1;for(d=a.entries();!(c=d.next()).done;)if(!b.has(c.value[0]))return!1;for(d=a.entries();!(c=d.next()).done;)if(!ar(c.value[1],b.get(c.value[0])))return!1;return!0}if("function"==typeof Set&&a instanceof Set&&b instanceof Set){if(a.size!==b.size)return!1;for(d=a.entries();!(c=d.next()).done;)if(!b.has(c.value[0]))return!1;return!0}if(a.constructor===RegExp)return a.source===b.source&&a.flags===b.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===b.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===b.toString();if((e=(f=Object.keys(a)).length)!==Object.keys(b).length)return!1;for(c=e;0!=c--;)if(!Object.prototype.hasOwnProperty.call(b,f[c]))return!1;if("undefined"!=typeof Element&&a instanceof Element)return!1;for(c=e;0!=c--;)if(("_owner"!==f[c]||!a.$$typeof)&&!ar(a[f[c]],b[f[c]]))return!1;return!0}return a!=a&&b!=b}function as(b,c){try{return ar(b,c)}catch(a){if((a.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw a}}function at(c,a){void 0===a&&(a={}),T.set("drag",ap);var b=(0,i.useRef)();return b.current||(b.current=aq(N,as)),ag({drag:c},b.current(a))}var au=function(b){function a(){var a;return a=b.apply(this,arguments)||this,a.ingKey="pinching",a.stateKey="pinch",a.pinchShouldStart=function(b){var c=ak(b).touches;return a.enabled&&2===c},a.onPinchStart=function(b){if(a.pinchShouldStart(b)){var d=ao(b),e=d.values,f=d.origin;a.updateSharedState(ak(b)),a.updateGestureState(c({},X(u(a),e,b),W(u(a),b,!0),{cancel:a.onCancel,origin:f})),a.updateGestureState(a.getMovement(e)),a.fireGestureHandler()}},a.onPinchChange=function(b){var d=a.state,f=d.canceled,g=d._active;if(!f&&g){var h=ak(b);a.updateSharedState(h);var e=ao(b),i=e.values,j=e.origin,k=a.getKinematics(i,b);a.updateGestureState(c({},W(u(a),b),k,{origin:j})),a.fireGestureHandler()}},a.onPinchEnd=function(b){a.state.active&&(a.state._active=!1,a.updateSharedState({down:!1,touches:0}),a.updateGestureState(c({},W(u(a),b),a.getMovement(a.state.values))),a.fireGestureHandler())},a.onCancel=function(){a.state.canceled||(a.state._active=!1,a.updateGestureState({canceled:!0}),a.updateSharedState({down:!1,touches:0}),requestAnimationFrame(function(){return a.fireGestureHandler()}))},a.onGestureStart=function(b){if(a.enabled){b.preventDefault();var d=an(b);a.updateSharedState(ak(b)),a.updateGestureState(c({},X(u(a),d,b),W(u(a),b,!0),{origin:[b.clientX,b.clientY],cancel:a.onCancel})),a.updateGestureState(a.getMovement(d)),a.fireGestureHandler()}},a.onGestureChange=function(b){var d=a.state,e=d.canceled,f=d._active;if(!e&&f){b.preventDefault();var g=ak(b);a.updateSharedState(g);var h=an(b),i=a.getKinematics(h,b);a.updateGestureState(c({},W(u(a),b),i,{origin:[b.clientX,b.clientY]})),a.fireGestureHandler()}},a.onGestureEnd=function(b){b.preventDefault(),a.state.active&&(a.state._active=!1,a.updateSharedState({down:!1,touches:0}),a.updateGestureState(c({},W(u(a),b),a.getMovement(a.state.values),{origin:[b.clientX,b.clientY]})),a.fireGestureHandler())},a.wheelShouldRun=function(b){return a.enabled&&b.ctrlKey},a.getWheelValuesFromEvent=function(b){var c=am(b)[1],d=a.state.values,f=d[0],e=d[1];return{values:[f-c,void 0!==e?e:0],origin:[b.clientX,b.clientY],delta:[0,c]}},a.onWheel=function(b){a.wheelShouldRun(b)&&(a.setTimeout(a.onWheelEnd),a.state._active?a.onWheelChange(b):a.onWheelStart(b))},a.onWheelStart=function(b){var d=a.getWheelValuesFromEvent(b),e=d.values,f=d.delta,g=d.origin;b.cancelable&&b.preventDefault(),a.updateSharedState(ak(b)),a.updateGestureState(c({},X(u(a),e,b),W(u(a),b,!0),{initial:a.state.values,offset:e,delta:f,origin:g})),a.updateGestureState(a.getMovement(e)),a.fireGestureHandler()},a.onWheelChange=function(b){a.updateSharedState(ak(b));var d=a.getWheelValuesFromEvent(b),e=d.values,f=d.origin,g=d.delta;a.updateGestureState(c({},W(u(a),b),a.getKinematics(e,b),{origin:f,delta:g})),a.fireGestureHandler()},a.onWheelEnd=function(){a.state._active=!1,a.updateGestureState(a.getMovement(a.state.values)),a.fireGestureHandler()},a}return s(a,b),a.prototype.addBindings=function(a){this.controller.config.domTarget&&!("undefined"!=typeof window&&null===window.ontouchstart)&&function(){try{return"constructor"in GestureEvent}catch(a){return!1}}()?(ad(a,"onGestureStart",this.onGestureStart),ad(a,"onGestureChange",this.onGestureChange),ad(a,"onGestureEnd",this.onGestureEnd)):(ad(a,"onTouchStart",this.onPinchStart),ad(a,"onTouchMove",this.onPinchChange),ad(a,"onTouchEnd",this.onPinchEnd),ad(a,"onTouchCancel",this.onPinchEnd),ad(a,"onWheel",this.onWheel))},a}(function(d){function a(){return d.apply(this,arguments)||this}s(a,d);var b=a.prototype;return b.getInternalMovement=function(b,a){var c=a.values[1],h=b[0],d=b[1],e=void 0===d?c:d,f=e-c,g=a.turns;return Math.abs(f)>270&&(g+=o(f)),k([h,e-360*g],a.initial)},b.getKinematics=function(b,d){var a=this.getMovement(b),e=(b[1]-a.movement[1]-this.state.initial[1])/360,f=d.timeStamp-this.state.timeStamp,g=n(a.movement,a.delta,f);return c({turns:e},a,g)},b.mapStateValues=function(a){return{da:a.values,vdva:a.velocities}},a}(f));function av(c,a){void 0===a&&(a={}),T.set("pinch",au);var b=(0,i.useRef)();return b.current||(b.current=aq(O,as)),ag({pinch:c},b.current(a))}var aw=function(b){function a(){var a;return a=b.apply(this,arguments)||this,a.ingKey="wheeling",a.stateKey="wheel",a.debounced=!0,a.handleEvent=function(b){if((!b.ctrlKey||!("pinch"in a.controller.handlers))&&a.enabled){a.setTimeout(a.onEnd),a.updateSharedState(ak(b));var d=j(am(b),a.state.values);if(a.state._active)a.updateGestureState(c({},W(u(a),b),a.getKinematics(d,b)));else{a.updateGestureState(c({},X(u(a),d,b),W(u(a),b,!0),{initial:a.state.values}));var e=a.getMovement(d),f=m(e.delta);a.updateGestureState(e),a.updateGestureState(f)}a.fireGestureHandler()}},a.onEnd=function(){var b=a.getMovement(a.state.values);a.updateGestureState(b),a.updateGestureState({_active:!1,velocities:[0,0],velocity:0}),a.fireGestureHandler()},a}return s(a,b),a.prototype.addBindings=function(a){ad(a,"onWheel",this.handleEvent)},a}(a);function ax(c,a){void 0===a&&(a={}),T.set("wheel",aw);var b=(0,i.useRef)();return b.current||(b.current=aq(Q,as)),ag({wheel:c},b.current(a))}var ay=function(b){function a(){var a;return a=b.apply(this,arguments)||this,a.ingKey="moving",a.stateKey="move",a.debounced=!0,a.onMove=function(b){a.enabled&&(a.setTimeout(a.onMoveEnd),a.state._active?a.onMoveChange(b):a.onMoveStart(b))},a.onMoveStart=function(b){a.updateSharedState(ak(b));var d=al(b);a.updateGestureState(c({},X(u(a),d,b),W(u(a),b,!0))),a.updateGestureState(a.getMovement(d)),a.fireGestureHandler()},a.onMoveChange=function(b){a.updateSharedState(ak(b));var d=al(b);a.updateGestureState(c({},W(u(a),b),a.getKinematics(d,b))),a.fireGestureHandler()},a.onMoveEnd=function(){var b=a.state.values;a.updateGestureState(a.getMovement(b)),a.updateGestureState({velocities:[0,0],velocity:0,_active:!1}),a.fireGestureHandler()},a.onPointerEnter=function(b){if(a.controller.state.shared.hovering=!0,a.controller.config.enabled){if(a.controller.config.hover.enabled){var e=al(b),d=c({},a.controller.state.shared,a.state,W(u(a),b,!0),{values:e,active:!0,hovering:!0});a.controller.handlers.hover(c({},d,a.mapStateValues(d)))}"move"in a.controller.handlers&&a.onMoveStart(b)}},a.onPointerLeave=function(b){if(a.controller.state.shared.hovering=!1,"move"in a.controller.handlers&&a.onMoveEnd(),a.controller.config.hover.enabled){var e=al(b),d=c({},a.controller.state.shared,a.state,W(u(a),b),{values:e,active:!1});a.controller.handlers.hover(c({},d,a.mapStateValues(d)))}},a}return s(a,b),a.prototype.addBindings=function(a){"move"in this.controller.handlers&&ad(a,"onPointerMove",this.onMove),"hover"in this.controller.handlers&&(ad(a,"onPointerEnter",this.onPointerEnter),ad(a,"onPointerLeave",this.onPointerLeave))},a}(a);function az(c,a){void 0===a&&(a={}),T.set("move",ay);var b=(0,i.useRef)();return b.current||(b.current=aq(L,as)),ag({move:c},b.current(a))}function aA(c,a){void 0===a&&(a={}),T.set("hover",ay);var b=(0,i.useRef)();return b.current||(b.current=aq(M,as)),ag({hover:c},b.current(a))}var aB=function(b){function a(){var a;return a=b.apply(this,arguments)||this,a.ingKey="scrolling",a.stateKey="scroll",a.debounced=!0,a.handleEvent=function(b){if(a.enabled){a.clearTimeout(),a.setTimeout(a.onEnd);var d,f,g,h,i,e=(f=(d=b.currentTarget).scrollX,g=d.scrollY,h=d.scrollLeft,i=d.scrollTop,[f||h||0,g||i||0]);if(a.updateSharedState(ak(b)),a.state._active)a.updateGestureState(c({},W(u(a),b),a.getKinematics(e,b)));else{a.updateGestureState(c({},X(u(a),e,b),W(u(a),b,!0),{initial:a.state.values}));var j=a.getMovement(e),k=m(j.delta);a.updateGestureState(j),a.updateGestureState(k)}a.fireGestureHandler()}},a.onEnd=function(){a.state._active=!1,a.updateGestureState(c({},a.getMovement(a.state.values),{velocities:[0,0],velocity:0})),a.fireGestureHandler()},a}return s(a,b),a.prototype.addBindings=function(a){ad(a,"onScroll",this.handleEvent)},a}(a);function aC(c,a){void 0===a&&(a={}),T.set("scroll",aB);var b=(0,i.useRef)();return b.current||(b.current=aq(P,as)),ag({scroll:c},b.current(a))}var aD=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function aE(u,h){void 0===h&&(h={});var i,b,a,k,l,m,n,o,p,q,r,s,t,d,j=function(b){var c={},d={},e=new Set;for(var a in b)aD.test(a)?(e.add(RegExp.lastMatch),d[a]=b[a]):c[a]=b[a];return[d,c,e]}(u),g=j[0],v=j[1],e=j[2];T.set("drag",ap),T.set("hover",ay),T.set("move",ay),T.set("pinch",au),T.set("scroll",aB),T.set("wheel",aw);var w=(void 0===(i=h)&&(i={}),void 0===(b=e)&&(b=new Set),k=(a=i).drag,l=a.wheel,m=a.move,n=a.scroll,o=a.pinch,p=a.hover,q=a.eventOptions,r=a.window,s=a.domTarget,t=a.enabled,d=H({eventOptions:q,window:r,domTarget:s,enabled:t}),b.has("onDrag")&&(d.drag=K(k)),b.has("onWheel")&&(d.wheel=I(l)),b.has("onScroll")&&(d.scroll=I(n)),b.has("onMove")&&(d.move=I(m)),b.has("onPinch")&&(d.pinch=J(o)),b.has("onHover")&&(d.hover=c({enabled:!0},p)),d),f={};return e.has("onDrag")&&(f.drag=aF(g,"onDrag")),e.has("onWheel")&&(f.wheel=aF(g,"onWheel")),e.has("onScroll")&&(f.scroll=aF(g,"onScroll")),e.has("onMove")&&(f.move=aF(g,"onMove")),e.has("onPinch")&&(f.pinch=aF(g,"onPinch")),e.has("onHover")&&(f.hover=g.onHover),ag(f,w,v)}function aF(b,a){var c=a+"Start",d=a+"End";return function(e){var f=void 0;return e.first&&c in b&&b[c](e),a in b&&(f=b[a](e)),e.last&&d in b&&b[d](e),f}}},6126:function(g,d,b){"use strict";b.d(d,{Uv:function(){return aq},"d$":function(){return ao}});var a=b(7294),h=function(a,b){return(h=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(c,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b])})(a,b)},c=function(){return(c=Object.assign||function(d){for(var a,b=1,e=arguments.length;b<e;b++)for(var c in a=arguments[b])Object.prototype.hasOwnProperty.call(a,c)&&(d[c]=a[c]);return d}).apply(this,arguments)};function i(d,b,e){if(e||2===arguments.length)for(var c,a=0,f=b.length;a<f;a++)!c&&a in b||(c||(c=Array.prototype.slice.call(b,0,a)),c[a]=b[a]);return d.concat(c||b)}var j=function(a,b){return Number(a.toFixed(b))},k=function(b,c,a){a&&"function"==typeof a&&a(b,c)},l={easeOut:function(a){return-Math.cos(a*Math.PI)/2+.5},linear:function(a){return a},easeInQuad:function(a){return a*a},easeOutQuad:function(a){return a*(2-a)},easeInOutQuad:function(a){return a<.5?2*a*a:-1+(4-2*a)*a},easeInCubic:function(a){return a*a*a},easeOutCubic:function(a){return--a*a*a+1},easeInOutCubic:function(a){return a<.5?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1},easeInQuart:function(a){return a*a*a*a},easeOutQuart:function(a){return 1- --a*a*a*a},easeInOutQuart:function(a){return a<.5?8*a*a*a*a:1-8* --a*a*a*a},easeInQuint:function(a){return a*a*a*a*a},easeOutQuint:function(a){return 1+ --a*a*a*a*a},easeInOutQuint:function(a){return a<.5?16*a*a*a*a*a:1+16* --a*a*a*a*a}},m=function(a){"number"==typeof a&&cancelAnimationFrame(a)},n=function(a){a.mounted&&(m(a.animation),a.animate=!1,a.animation=null,a.velocity=null)};function o(a,b,c,d){if(a.mounted){var e=new Date().getTime(),f=1;n(a),a.animation=function(){if(!a.mounted)return m(a.animation);var g=new Date().getTime()-e,h=g/c,i=(0,l[b])(h);g>=c?(d(f),a.animation=null):a.animation&&(d(i),requestAnimationFrame(a.animation))},requestAnimationFrame(a.animation)}}function p(b,a,d,e){var f=q(a);if(b.mounted&&f){var g=b.setTransformState,c=b.transformState,h=c.scale,i=c.positionX,j=c.positionY,k=a.scale-h,l=a.positionX-i,m=a.positionY-j;0===d?g(a.scale,a.positionX,a.positionY):o(b,e,d,function(a){var b=h+k*a,c=i+l*a,d=j+m*a;g(b,c,d)})}}function q(a){var b=a.scale,c=a.positionX,d=a.positionY;return!(isNaN(b)||isNaN(c)||isNaN(d))}var r=function(a,b,h,c,d,i,e){var f=a>b?h*(e?1:.5):0,g=c>d?i*(e?1:.5):0;return{minPositionX:a-b-f,maxPositionX:f,minPositionY:c-d-g,maxPositionY:g}},s=function(b,n){var j=b.wrapperComponent,k=b.contentComponent,o=b.setup.centerZoomedOut;if(!j||!k)throw new Error("Components are not mounted");var c,d,e,f,g,l,m,h,i,a=(c=j,d=k,e=n,f=c.offsetWidth,g=c.offsetHeight,l=d.offsetWidth,m=d.offsetHeight,h=l*e,i=m*e,{wrapperWidth:f,wrapperHeight:g,newContentWidth:h,newDiffWidth:f-h,newContentHeight:i,newDiffHeight:g-i}),p=a.wrapperWidth,q=a.wrapperHeight,s=a.newContentWidth,t=a.newDiffWidth,u=a.newContentHeight,v=a.newDiffHeight,w=r(p,s,t,q,u,v,Boolean(o));return w},t=function(a,c){var b=s(a,c);return a.bounds=b,b};function u(e,f,a,d,g,h,i){var j=a.minPositionX,k=a.minPositionY,l=a.maxPositionX,m=a.maxPositionY,b=0,c=0;i&&(b=g,c=h);var n=v(e,j-b,l+b,d),o=v(f,k-c,m+c,d);return{x:n,y:o}}var v=function(a,b,c,d){return d?a<b?j(b,2):a>c?j(c,2):j(a,2):j(a,2)};function w(g,b,c,h,i,j){var a=g.transformState,k=a.scale,d=a.positionX,e=a.positionY,f=h-k;return"number"!=typeof b||"number"!=typeof c?(console.error("Mouse X and Y position were not provided!"),{x:d,y:e}):u(d-b*f,e-c*f,i,j,0,0,null)}function x(a,c,b,e,f){var d=c-(f?e:0);return!isNaN(b)&&a>=b?b:!isNaN(c)&&a<=d?d:a}var y=function(a,d){var e=a.setup.panning.excluded,f=a.isInitialized,c=a.wrapperComponent,b=d.target,g=null==c?void 0:c.contains(b);return!!f&&!!b&&!!g&&!V(b,e)},z=function(a){var b=a.isInitialized,c=a.isPanning,d=a.setup,e=d.panning.disabled;return!!b&&!!c&&!e},A=function(a,b){var c=a.transformState,d=c.positionX,e=c.positionY;a.isPanning=!0;var f=b.clientX,g=b.clientY;a.startCoords={x:f-d,y:g-e}},B=function(a,d){var b=d.touches,c=a.transformState,e=c.positionX,f=c.positionY;a.isPanning=!0;var g=1===b.length;if(g){var h=b[0].clientX,i=b[0].clientY;a.startCoords={x:h-e,y:i-f}}},C=function(a,g,h){var b=a.startCoords,c=a.transformState,d=a.setup.panning,i=d.lockAxisX,j=d.lockAxisY,e=c.positionX,f=c.positionY;if(!b)return{x:e,y:f};var k=g-b.x,l=h-b.y;return{x:i?e:k,y:j?f:l}},D=function(a,b){var c=a.setup,d=a.transformState,e=d.scale,f=c.minScale;return b>0&&e>=f?b:0},E=function(a){var c=a.mounted,b=a.setup,d=b.disabled,e=b.velocityAnimation,f=a.transformState.scale,g=e.disabled;return!g||f>1||!d||!!c},F=function(a){var c=a.mounted,d=a.velocity,e=a.bounds,b=a.setup,f=b.disabled,g=b.velocityAnimation,h=a.transformState.scale,i=g.disabled;return(!i||h>1||!f||!!c)&& !!d&&!!e};function G(d,e,f,k,g,a,b,h,i,j){if(g){if(e>b&&f>b){var c=b+(d-b)*j;return c>i?i:c<b?b:c}if(e<a&&f<a){var c=a+(d-a)*j;return c<h?h:c>a?a:c}}return k?e:v(d,a,b,g)}function H(a,b){var c=a.transformState.scale;n(a),t(a,c),b.touches?B(a,b):A(a,b)}function I(a,f,g){var h=a.startCoords,i=a.setup,b=i.alignmentAnimation,j=b.sizeX,k=b.sizeY;if(h){var c=C(a,f,g),d=c.x,e=c.y,l=D(a,j),m=D(a,k);!function(a,b){if(E(a)){var c=a.lastMousePosition,f=a.velocityTime,k=a.setup,g=a.wrapperComponent,l=k.velocityAnimation.equalToMove,h=Date.now();if(c&&f&&g){var i,j=(i=g,l?Math.min(1,i.offsetWidth/window.innerWidth):1),d=b.x-c.x,e=b.y-c.y,m=d/j,n=e/j,o=h-f,p=d*d+e*e,q=Math.sqrt(p)/o;a.velocity={velocityX:m,velocityY:n,total:q}}a.lastMousePosition=b,a.velocityTime=h}}(a,{x:d,y:e}),function(a,c,d,h,i){var j=a.setup.limitToBounds,e=a.wrapperComponent,f=a.bounds,b=a.transformState,k=b.scale,l=b.positionX,m=b.positionY;if(e&&c!==l&&d!==m&&f){var g=u(c,d,f,j,h,i,e),n=g.x,o=g.y;a.setTransformState(k,n,o)}}(a,d,e,l,m)}}function J(b){var e=b.transformState.scale,c=b.setup,f=c.minScale,a=c.alignmentAnimation,g=a.disabled,h=a.sizeX,i=a.sizeY,j=a.animationTime,k=a.animationType;if(!(g||e<f|| !h&&!i)){var d=function(a){var e=a.transformState,b=e.positionX,c=e.positionY,h=e.scale,f=a.setup,l=f.disabled,m=f.limitToBounds,n=f.centerZoomedOut,g=a.wrapperComponent;if(!l&&g&&a.bounds){var d=a.bounds,i=d.maxPositionX,o=d.minPositionX,j=d.maxPositionY,p=d.minPositionY,q=b>i||b<o,r=c>j||c<p,s=b>i?g.offsetWidth:a.setup.minPositionX||0,t=c>j?g.offsetHeight:a.setup.minPositionY||0,k=w(a,s,t,h,a.bounds,m||n),u=k.x,v=k.y;return{scale:h,positionX:q?u:b,positionY:r?v:c}}}(b);d&&p(b,d,j,k)}}function K(a,h,i){var e=a.transformState.scale,b=a.wrapperComponent,c=a.setup,f=c.minScale,j=c.limitToBounds,d=c.zoomAnimation,k=d.disabled,l=d.animationTime,m=d.animationType;if((e>=1||j)&&J(a),!(k||e>=f)&&b&&a.mounted){var g=L(a,f,h||b.offsetWidth/2,i||b.offsetHeight/2);g&&p(a,g,l,m)}}function L(a,e,f,g){var b=a.setup,h=b.minScale,i=b.maxScale,k=b.limitToBounds,c=x(j(e,2),h,i,0,!1),l=t(a,c),d=w(a,f,g,c,l,k),m=d.x,n=d.y;return{scale:c,positionX:m,positionY:n}}var e={previousScale:1,scale:1,positionX:0,positionY:0},f=c(c({},e),{setComponents:function(){},contextInstance:null}),M={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,wheel:{step:.2,disabled:!1,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},N=function(a){var b,c,d,f;return{previousScale:null!==(b=a.initialScale)&& void 0!==b?b:e.scale,scale:null!==(c=a.initialScale)&& void 0!==c?c:e.scale,positionX:null!==(d=a.initialPositionX)&& void 0!==d?d:e.positionX,positionY:null!==(f=a.initialPositionY)&& void 0!==f?f:e.positionY}},O=function(a){var b=c({},M);return Object.keys(a).forEach(function(d){var f=void 0!==a[d],g=void 0!==M[d];if(g&&f){var e=Object.prototype.toString.call(M[d]),h="[object Object]"===e,j="[object Array]"===e;h?b[d]=c(c({},M[d]),a[d]):j?b[d]=i(i([],M[d]),a[d]):b[d]=a[d]}}),b},P=function(a,c,d){var e=a.transformState.scale,f=a.wrapperComponent,b=a.setup,g=b.maxScale,h=b.minScale,i=b.zoomAnimation,k=i.size;if(!f)throw new Error("Wrapper is not mounted");return x(j(e*Math.exp(c*d),3),h,g,k,!1)};function Q(a,f,g,h,i){var b=a.wrapperComponent,c=a.transformState,d=c.scale,j=c.positionX,k=c.positionY;if(!b)return console.error("No WrapperComponent found");var l=b.offsetWidth,m=b.offsetHeight,n=(l/2-j)/d,o=(m/2-k)/d,q=P(a,f,g),e=L(a,q,n,o);if(!e)return console.error("Error during zoom event. New transformation state was not calculated.");p(a,e,h,i)}function R(b,f,g){var h=b.setup,d=b.wrapperComponent,i=h.limitToBounds,a=N(b.props),c=b.transformState,j=c.scale,k=c.positionX,l=c.positionY;if(d){var m=s(b,a.scale),e=u(a.positionX,a.positionY,m,i,0,0,d),n={scale:a.scale,positionX:e.x,positionY:e.y};if(j===a.scale&&k===a.positionX&&l===a.positionY)return;p(b,n,f,g)}}var S=function(a){var b,c,d,f,g,h;return{instance:a,state:a.transformState,zoomIn:(b=a,function(a,c,d){void 0===a&&(a=.5),void 0===c&&(c=300),void 0===d&&(d="easeOut"),Q(b,1,a,c,d)}),zoomOut:(c=a,function(a,b,d){void 0===a&&(a=.5),void 0===b&&(b=300),void 0===d&&(d="easeOut"),Q(c,-1,a,b,d)}),setTransform:(d=a,function(e,f,g,a,b){void 0===a&&(a=300),void 0===b&&(b="easeOut");var c=d.transformState,h=c.positionX,i=c.positionY,j=c.scale,k=d.wrapperComponent,l=d.contentComponent,m=d.setup.disabled;!m&&k&&l&&p(d,{positionX:isNaN(e)?h:e,positionY:isNaN(f)?i:f,scale:isNaN(g)?j:g},a,b)}),resetTransform:(f=a,function(a,b){void 0===a&&(a=200),void 0===b&&(b="easeOut"),R(f,a,b)}),centerView:(g=a,function(e,a,b){void 0===a&&(a=200),void 0===b&&(b="easeOut");var f=g.transformState,c=g.wrapperComponent,d=g.contentComponent;c&&d&&p(g,X(e||f.scale,c,d),a,b)}),zoomToElement:(h=a,function(c,i,d,f){void 0===d&&(d=600),void 0===f&&(f="easeOut"),n(h);var a,g=h.wrapperComponent,b="string"==typeof c?document.getElementById(c):c;if(g&&((a=b)?(null==a?void 0:a.offsetWidth)!==void 0&&(null==a?void 0:a.offsetHeight)!==void 0||(console.error("Zoom node is not valid - it must contain offsetWidth and offsetHeight"),!1):(console.error("Zoom node not found"),!1))&&b&&g.contains(b)){var j=function(d,f,l){var b=d.wrapperComponent,g=d.setup,m=g.limitToBounds,n=g.minScale,o=g.maxScale;if(!b)return e;var c=b.getBoundingClientRect(),h=function(d){for(var a=d,b=0,c=0;a;)b+=a.offsetLeft,c+=a.offsetTop,a=a.offsetParent;return{x:b,y:c}}(f),p=h.x,q=h.y,i=f.offsetWidth,j=f.offsetHeight,r=b.offsetWidth/i,t=b.offsetHeight/j,a=x(l||Math.min(r,t),n,o,0,!1),v=(c.width-i*a)/2,w=(c.height-j*a)/2,y=(c.left-p)*a+v,z=(c.top-q)*a+w,A=s(d,a),k=u(y,z,A,m,0,0,b),B=k.x,C=k.y;return{positionX:B,positionY:C,scale:a}}(h,b,i);p(h,j,d,f)}})}},T=!1;function U(){try{return{get passive(){return T=!0,!1}}}catch(a){return T=!1}}var V=function(b,a){var c=b.tagName.toUpperCase();return!!a.find(function(a){return a.toUpperCase()===c})||!!a.find(function(a){return b.classList.contains(a)})},W=function(a){a&&clearTimeout(a)},X=function(a,b,c){var d=c.offsetWidth*a,e=c.offsetHeight*a,f=(b.offsetWidth-d)/2,g=(b.offsetHeight-e)/2;return{scale:a,positionX:f,positionY:g}},Y=function(b,c){var a=b.setup.wheel,e=a.disabled,f=a.wheelDisabled,g=a.touchPadDisabled,h=a.excluded,i=b.isInitialized,j=b.isPanning,d=c.target;return!!i&&!j&&!e&&!!d&&(!f||!!c.ctrlKey)&&(!g||!c.ctrlKey)&&!V(d,h)};function Z(a,g,b){var c=g.getBoundingClientRect(),d=0,e=0;if("clientX"in a)d=(a.clientX-c.left)/b,e=(a.clientY-c.top)/b;else{var f=a.touches[0];d=(f.clientX-c.left)/b,e=(f.clientY-c.top)/b}return(isNaN(d)||isNaN(e))&&console.error("No mouse or touch offset found"),{x:d,y:e}}var $=function(a,g,d,h,i){var b=a.transformState.scale,k=a.wrapperComponent,c=a.setup,l=c.maxScale,m=c.minScale,e=c.zoomAnimation,n=e.size,o=e.disabled;if(!k)throw new Error("Wrapper is not mounted");var f=b+g*(b-b*d)*d;if(i)return f;var p=!h&&!o;return x(j(f,3),m,l,n,p)},_=function(c,b){var a=c.previousWheelEvent,d=c.transformState.scale,e=c.setup,f=e.maxScale,g=e.minScale;return!!a&&(d<f||d>g||Math.sign(a.deltaY)!==Math.sign(b.deltaY)||a.deltaY>0&&a.deltaY<b.deltaY||a.deltaY<0&&a.deltaY>b.deltaY||Math.sign(a.deltaY)!==Math.sign(b.deltaY))},aa=function(a,d){var b=a.setup.pinch,e=b.disabled,f=b.excluded,g=a.isInitialized,c=d.target;return!!g&&!e&&!!c&&!V(c,f)},ab=function(a){var b=a.setup.pinch.disabled,c=a.isInitialized,d=a.pinchStartDistance;return!!c&&!b&&!!d},ac=function(d,c,e){var a=e.getBoundingClientRect(),b=d.touches,f=j(b[0].clientX-a.left,5),g=j(b[0].clientY-a.top,5),h=j(b[1].clientX-a.left,5),i=j(b[1].clientY-a.top,5);return{x:(f+h)/2/c,y:(g+i)/2/c}},ad=function(a){return Math.sqrt(Math.pow(a.touches[0].pageX-a.touches[1].pageX,2)+Math.pow(a.touches[0].pageY-a.touches[1].pageY,2))},ae=function(a,b){var d=a.pinchStartScale,e=a.pinchStartDistance,c=a.setup,g=c.maxScale,h=c.minScale,f=c.zoomAnimation,i=f.size,k=f.disabled;if(!d||null===e||!b)throw new Error("Pinch touches distance was not provided");return b<0?a.transformState.scale:x(j(b/e*d,2),h,g,i,!k)},af=function(a,b){var c=a.props,d=c.onWheelStart,e=c.onZoomStart;a.wheelStopEventTimer||(n(a),k(S(a),b,d),k(S(a),b,e))},ag=function(a,b){var f,g,e,h,i=a.props,p=i.onWheel,q=i.onZoom,j=a.contentComponent,c=a.setup,r=a.transformState,l=r.scale,s=c.limitToBounds,u=c.centerZoomedOut,m=c.zoomAnimation,v=c.wheel,x=m.size,y=m.disabled,z=v.step;if(!j)throw new Error("Component not mounted");b.preventDefault(),b.stopPropagation();var d=$(a,(g=(f=b)?f.deltaY<0?1:-1:0,e=null,h=g,"number"==typeof e?e:h),z,!b.ctrlKey);if(l!==d){var A=t(a,d),n=Z(b,j,l),B=y||0===x||u,C=s&&B,o=w(a,n.x,n.y,d,A,C),D=o.x,E=o.y;a.previousWheelEvent=b,a.setTransformState(d,D,E),k(S(a),b,p),k(S(a),b,q)}},ah=function(a,c){var b=a.props,d=b.onWheelStop,e=b.onZoomStop;W(a.wheelAnimationTimer),a.wheelAnimationTimer=setTimeout(function(){a.mounted&&(K(a,c.x,c.y),a.wheelAnimationTimer=null)},100),_(a,c)&&(W(a.wheelStopEventTimer),a.wheelStopEventTimer=setTimeout(function(){a.mounted&&(a.wheelStopEventTimer=null,k(S(a),c,d),k(S(a),c,e))},160))},ai=function(a,c){var b=ad(c);a.pinchStartDistance=b,a.lastDistance=b,a.pinchStartScale=a.transformState.scale,a.isPanning=!1,n(a)},aj=function(a,e){var f=a.contentComponent,k=a.pinchStartDistance,g=a.transformState.scale,d=a.setup,l=d.limitToBounds,m=d.centerZoomedOut,h=d.zoomAnimation,n=h.disabled,o=h.size;if(null!==k&&f){var b=ac(e,g,f);if(isFinite(b.x)&&isFinite(b.y)){var i=ad(e),c=ae(a,i);if(c!==g){var p=t(a,c),q=n||0===o||m,r=l&&q,j=w(a,b.x,b.y,c,p,r),s=j.x,u=j.y;a.pinchMidpoint=b,a.lastDistance=i,a.setTransformState(c,s,u)}}}},ak=function(a){var b=a.pinchMidpoint;a.velocity=null,a.lastDistance=null,a.pinchMidpoint=null,a.pinchStartScale=null,a.pinchStartDistance=null,K(a,null==b?void 0:b.x,null==b?void 0:b.y)},al=function(a,f){var g=a.isInitialized,h=a.setup,c=a.wrapperComponent,d=h.doubleClick,i=d.disabled,j=d.excluded,b=f.target,k=null==c?void 0:c.contains(b),e=g&&b&&k&&!i;return!!e&& !V(b,j)&&!!e},am=a.createContext(f),an=function(d){function b(){var a=null!==d&&d.apply(this,arguments)||this;return a.mounted=!0,a.transformState=N(a.props),a.setup=O(a.props),a.wrapperComponent=null,a.contentComponent=null,a.isInitialized=!1,a.bounds=null,a.previousWheelEvent=null,a.wheelStopEventTimer=null,a.wheelAnimationTimer=null,a.isPanning=!1,a.startCoords=null,a.lastTouch=null,a.distance=null,a.lastDistance=null,a.pinchStartDistance=null,a.pinchStartScale=null,a.pinchMidpoint=null,a.velocity=null,a.velocityTime=null,a.lastMousePosition=null,a.animate=!1,a.animation=null,a.maxBounds=null,a.pressedKeys={},a.handleInitializeWrapperEvents=function(b){var c=U();b.addEventListener("wheel",a.onWheelZoom,c),b.addEventListener("dblclick",a.onDoubleClick,c),b.addEventListener("touchstart",a.onTouchPanningStart,c),b.addEventListener("touchmove",a.onTouchPanning,c),b.addEventListener("touchend",a.onTouchPanningStop,c)},a.handleInitialize=function(){var b=a.setup.centerOnInit;a.applyTransformation(),a.forceUpdate(),b&&(setTimeout(function(){a.mounted&&a.setCenter()},50),setTimeout(function(){a.mounted&&a.setCenter()},100),setTimeout(function(){a.mounted&&a.setCenter()},200))},a.onWheelZoom=function(b){!a.setup.disabled&&Y(a,b)&&a.isPressingKeys(a.setup.wheel.activationKeys)&&(af(a,b),ag(a,b),ah(a,b))},a.onPanningStart=function(b){var c=a.setup.disabled,d=a.props.onPanningStart;!c&&y(a,b)&&a.isPressingKeys(a.setup.panning.activationKeys)&&(b.preventDefault(),b.stopPropagation(),n(a),H(a,b),k(S(a),b,d))},a.onPanning=function(b){var c=a.setup.disabled,d=a.props.onPanning;!c&&z(a)&&a.isPressingKeys(a.setup.panning.activationKeys)&&(b.preventDefault(),b.stopPropagation(),I(a,b.clientX,b.clientY),k(S(a),b,d))},a.onPanningStop=function(b){var c=a.props.onPanningStop;a.isPanning&&(function(a){if(a.isPanning){var g=a.setup.panning.velocityDisabled,d=a.velocity,e=a.wrapperComponent,f=a.contentComponent;a.isPanning=!1,a.animate=!1,a.animation=null;var b=null==e?void 0:e.getBoundingClientRect(),c=null==f?void 0:f.getBoundingClientRect(),h=(null==b?void 0:b.width)||0,i=(null==b?void 0:b.height)||0,j=(null==c?void 0:c.width)||0,k=(null==c?void 0:c.height)||0,m=h<j||i<k,n=!g&&d&&(null==d?void 0:d.total)>.1&&m;n?function(a){var c=a.velocity,b=a.bounds,d=a.setup,e=a.wrapperComponent;if(F(a)&&c&&b&&e){var i,j,f,k,g,m,I=c.velocityX,J=c.velocityY,r=c.total,s=b.maxPositionX,t=b.minPositionX,u=b.maxPositionY,v=b.minPositionY,K=d.limitToBounds,h=d.alignmentAnimation,w=d.zoomAnimation,n=d.panning,L=n.lockAxisY,M=n.lockAxisX,x=w.animationType,y=h.sizeX,z=h.sizeY,A=h.velocityAlignmentTime,B=A,C=(i=a,j=r,k=(f=i.setup.velocityAnimation).equalToMove,g=f.animationTime,m=f.sensitivity,k?g*j*m:g),E=D(a,y),H=D(a,z),p=E*e.offsetWidth/100,q=H*e.offsetHeight/100,N=s+p,O=t-p,P=u+q,Q=v-q,R=a.transformState,S=new Date().getTime();o(a,x,Math.max(C,B),function(j){var b=a.transformState,k=b.scale,c=b.positionX,d=b.positionY,m=new Date().getTime()-S,e=1-(0,l[h.animationType])(Math.min(1,m/B)),f=1-j,g=c+I*f,i=d+J*f,n=G(g,R.positionX,c,M,K,t,s,O,N,e),o=G(i,R.positionY,d,L,K,v,u,Q,P,e);(c!==g||d!==i)&&a.setTransformState(k,n,o)})}}(a):J(a)}}(a),k(S(a),b,c))},a.onPinchStart=function(b){var d=a.setup.disabled,c=a.props,e=c.onPinchingStart,f=c.onZoomStart;!d&&aa(a,b)&&(ai(a,b),n(a),k(S(a),b,e),k(S(a),b,f))},a.onPinch=function(b){var d=a.setup.disabled,c=a.props,e=c.onPinching,f=c.onZoom;!d&&ab(a)&&(b.preventDefault(),b.stopPropagation(),aj(a,b),k(S(a),b,e),k(S(a),b,f))},a.onPinchStop=function(b){var c=a.props,d=c.onPinchingStop,e=c.onZoomStop;a.pinchStartScale&&(ak(a),k(S(a),b,d),k(S(a),b,e))},a.onTouchPanningStart=function(b){var d=a.setup.disabled,e=a.props.onPanningStart;if(!d&&y(a,b))if(a.lastTouch&& +new Date-a.lastTouch<200&&1===b.touches.length)a.onDoubleClick(b);else{a.lastTouch=+new Date,n(a);var c=b.touches,f=1===c.length,g=2===c.length;f&&(n(a),H(a,b),k(S(a),b,e)),g&&a.onPinchStart(b)}},a.onTouchPanning=function(b){var d=a.setup.disabled,e=a.props.onPanning;if(a.isPanning&&1===b.touches.length){if(d)return;if(!z(a))return;b.preventDefault(),b.stopPropagation();var c=b.touches[0];I(a,c.clientX,c.clientY),k(S(a),b,e)}else b.touches.length>1&&a.onPinch(b)},a.onTouchPanningStop=function(b){a.onPanningStop(b),a.onPinchStop(b)},a.onDoubleClick=function(b){!a.setup.disabled&&al(a,b)&&function(a,i){var b=a.setup.doubleClick,j=b.disabled,c=b.mode,k=b.step,d=b.animationTime,e=b.animationType;if(!j){if("reset"===c)return R(a,d,e);var l=a.transformState.scale,f=a.contentComponent;if(!f)return console.error("No ContentComponent found");var m=P(a,"zoomOut"===c?-1:1,k),g=Z(i,f,l),h=L(a,m,g.x,g.y);if(!h)return console.error("Error during zoom event. New transformation state was not calculated.");p(a,h,d,e)}}(a,b)},a.clearPanning=function(b){a.isPanning&&a.onPanningStop(b)},a.setKeyPressed=function(b){a.pressedKeys[b.key]=!0},a.setKeyUnPressed=function(b){a.pressedKeys[b.key]=!1},a.isPressingKeys=function(b){return!b.length||Boolean(b.find(function(b){return a.pressedKeys[b]}))},a.setComponents=function(b,c){a.wrapperComponent=b,a.contentComponent=c,t(a,a.transformState.scale),a.handleInitializeWrapperEvents(b),a.handleInitialize(),a.handleRef(),a.isInitialized=!0,k(S(a),void 0,a.props.onInit)},a.setTransformState=function(b,c,d){isNaN(b)||isNaN(c)||isNaN(d)?console.error("Detected NaN set state values"):(b!==a.transformState.scale&&(a.transformState.previousScale=a.transformState.scale,a.transformState.scale=b),a.transformState.positionX=c,a.transformState.positionY=d,a.applyTransformation())},a.setCenter=function(){if(a.wrapperComponent&&a.contentComponent){var b=X(a.transformState.scale,a.wrapperComponent,a.contentComponent);a.setTransformState(b.scale,b.positionX,b.positionY)}},a.applyTransformation=function(){if(a.mounted&&a.contentComponent){var b=a.transformState,c=b.scale,d=b.positionX,e=b.positionY,f="translate3d("+d+"px, "+e+"px, 0) scale("+c+")";a.contentComponent.style.transform=f,a.handleRef()}},a.handleRef=function(){a.props.setRef(S(a))},a}return!function(b,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function c(){this.constructor=b}h(b,a),b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}(b,d),b.prototype.componentDidMount=function(){var a=U();window.addEventListener("mousedown",this.onPanningStart,a),window.addEventListener("mousemove",this.onPanning,a),window.addEventListener("mouseup",this.onPanningStop,a),document.addEventListener("mouseleave",this.clearPanning,a),window.addEventListener("keyup",this.setKeyUnPressed,a),window.addEventListener("keydown",this.setKeyPressed,a),this.handleRef()},b.prototype.componentWillUnmount=function(){var a=U();window.removeEventListener("mousedown",this.onPanningStart,a),window.removeEventListener("mousemove",this.onPanning,a),window.removeEventListener("mouseup",this.onPanningStop,a),window.removeEventListener("keyup",this.setKeyUnPressed,a),window.removeEventListener("keydown",this.setKeyPressed,a),n(this)},b.prototype.componentDidUpdate=function(a){a!==this.props&&(t(this,this.transformState.scale),this.setup=O(this.props))},b.prototype.render=function(){var d=S(this),b=this.props.children,e="function"==typeof b?b(d):b;return a.createElement(am.Provider,{value:c(c({},this.transformState),{setComponents:this.setComponents,contextInstance:this})},e)},b}(a.Component),ao=a.forwardRef(function(d,e){var b=(0,a.useState)(null),f=b[0],g=b[1];return(0,a.useImperativeHandle)(e,function(){return f},[f]),a.createElement(an,c({},d,{setRef:g}))}),ap={wrapper:"transform-component-module_wrapper__1_Fgj",content:"transform-component-module_content__2jYgh"};!function(c,d){void 0===d&&(d={});var e=d.insertAt;if(c&&"undefined"!=typeof document){var b=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===e&&b.firstChild?b.insertBefore(a,b.firstChild):b.appendChild(a),a.styleSheet?a.styleSheet.cssText=c:a.appendChild(document.createTextNode(c))}}(".transform-component-module_wrapper__1_Fgj {\n  position: relative;\n  width: -moz-fit-content;\n  width: fit-content;\n  height: -moz-fit-content;\n  height: fit-content;\n  overflow: hidden;\n  -webkit-touch-callout: none; /* iOS Safari */\n  -webkit-user-select: none; /* Safari */\n  -khtml-user-select: none; /* Konqueror HTML */\n  -moz-user-select: none; /* Firefox */\n  -ms-user-select: none; /* Internet Explorer/Edge */\n  user-select: none;\n  margin: 0;\n  padding: 0;\n}\n.transform-component-module_content__2jYgh {\n  display: flex;\n  flex-wrap: wrap;\n  width: -moz-fit-content;\n  width: fit-content;\n  height: -moz-fit-content;\n  height: fit-content;\n  margin: 0;\n  padding: 0;\n  transform-origin: 0% 0%;\n}\n.transform-component-module_content__2jYgh img {\n  pointer-events: none;\n}\n");var aq=function(b){var e=b.children,c=b.wrapperClass,d=b.contentClass,f=b.wrapperStyle,g=b.contentStyle,j=(0,a.useContext)(am).setComponents,h=(0,a.useRef)(null),i=(0,a.useRef)(null);return(0,a.useEffect)(function(){var a=h.current,b=i.current;null!==a&&null!==b&&j&&j(a,b)},[]),a.createElement("div",{ref:h,className:"react-transform-wrapper "+ap.wrapper+" "+(void 0===c?"":c),style:f},a.createElement("div",{ref:i,className:"react-transform-component "+ap.content+" "+(void 0===d?"":d),style:g},e))}},8188:function(a,b,c){!function(d,a){a(b,c(5893),c(7294),c(6625),c(6431),c(7582),c(7295),c(90),c(1479),c(5798),c(9701),c(9590),c(6568),c(4184),c(8384),c(6333),c(7947),c(2261))}(this,function(a,N,e,O,P,Q,f,g,h,i,j,k,R,l,S,T,m,U){function c(a){return a&&"object"==typeof a&&"default"in a?a:{"default":a}}var d,V=c(f),W=c(g),X=c(h),Y=c(i),Z=c(j),$=c(k),_=c(l),aa=c(m);function ab(b,e){var d={};for(var a in b)Object.prototype.hasOwnProperty.call(b,a)&&0>e.indexOf(a)&&(d[a]=b[a]);if(null!=b&&"function"==typeof Object.getOwnPropertySymbols)for(var c=0,a=Object.getOwnPropertySymbols(b);c<a.length;c++)0>e.indexOf(a[c])&&Object.prototype.propertyIsEnumerable.call(b,a[c])&&(d[a[c]]=b[a[c]]);return d}function n(a){let b={height:0,width:0};return a&&(b=X.default(a,{font:"Arial, sans-serif",fontSize:"14px"})),b}function o(a){let b=50,c=50,d=50,e=50;return Array.isArray(a)?2===a.length?(b=a[0],d=a[0],e=a[1],c=a[1]):4===a.length&&(b=a[0],c=a[1],d=a[2],e=a[3]):void 0!==a&&(b=a,c=a,d=a,e=a),{top:b,right:c,bottom:d,left:e}}function p(a){const d=a.text?Y.default(a.text,35):a.text,e=n(d),f=o(a.nodePadding);let b=a.width;void 0===b&&(d&&a.icon?b=e.width+a.icon.width+30+10:(d?b=e.width+30:a.icon&&(b=a.icon.width+30),b=Math.max(b,50)));let c=a.height;return void 0===c&&(d&&a.icon?c=e.height+a.icon.height:d?c=e.height+30:a.icon&&(c=a.icon.height+30),c=Math.max(c,50)),{text:d,originalText:a.text,width:b,height:c,nodePadding:f,labelHeight:e.height,labelWidth:e.width}}const ac={"elk.nodeLabels.placement":"INSIDE V_CENTER H_RIGHT","elk.algorithm":"org.eclipse.elk.layered","elk.direction":"DOWN","org.eclipse.elk.layered.layering.strategy":"INTERACTIVE","org.eclipse.elk.edgeRouting":"ORTHOGONAL","elk.layered.unnecessaryBendpoints":"true","elk.layered.spacing.edgeNodeBetweenLayers":"50","org.eclipse.elk.layered.nodePlacement.bk.fixedAlignment":"BALANCED","org.eclipse.elk.layered.cycleBreaking.strategy":"DEPTH_FIRST","org.eclipse.elk.insideSelfLoops.activate":"true",separateConnectedComponents:"false","spacing.componentComponent":"70",spacing:"75","spacing.nodeNodeBetweenLayers":"70"};function ad(d,e,a){const{text:c,width:f,height:g,labelHeight:h,labelWidth:i,nodePadding:b,originalText:j}=p(a),k=d.filter(b=>b.parent===a.id).map(a=>ad(d,e,a)),l=e.filter(b=>b.parent===a.id).map(a=>ae(a)),m=Object.assign({"elk.padding":`[left=${b.left}, top=${b.top}, right=${b.right}, bottom=${b.bottom}]`,portConstraints:"FIXED_ORDER"},a.layoutOptions||{});return{id:a.id,height:g,width:f,children:k,edges:l,ports:a.ports?a.ports.map(a=>({id:a.id,properties:Object.assign(Object.assign({},a),{"port.side":a.side,"port.alignment":a.alignment||"CENTER"})})):[],layoutOptions:m,properties:Object.assign({},a),labels:c?[{width:i,height:-(h/2),text:c,originalText:j}]:[]}}function ae(b){var{data:c}=b,a=ab(b,["data"]);const d=n(a.text);return Object.assign(Object.assign({id:a.id,source:a.from,target:a.to,properties:Object.assign({},a)},c?{data:c}:{}),{sourcePort:a.fromPort,targetPort:a.toPort,labels:a.text?[{width:d.width/2,height:-(d.height/2),text:a.text,layoutOptions:{"elk.edgeLabels.placement":"INSIDE V_CENTER H_CENTER"}}]:[]})}function af(c){var b;for(const a of c){const d=(null===(b=a.labels)|| void 0===b?void 0:b.length)>0;if(d&&a.properties.icon){const[f]=a.labels;f.x=a.properties.icon.width+25,a.properties.icon.x=25,a.properties.icon.y=a.height/2}else if(d){const[e]=a.labels;e.x=(a.width-e.width)/2}else a.properties.icon&&(a.properties.icon.x=a.width/2,a.properties.icon.y=a.height/2);a.children&&af(a.children)}return c}const q=(b,c,a)=>{const d=new V.default,e=Object.assign(Object.assign({},ac),a);return new W.default((f,a)=>{d.layout(Object.assign({id:"root"},function(a,b){const c=[],d=[];for(const e of a)if(!e.parent){const f=ad(a,b,e);null!==f&&c.push(f)}for(const g of b)if(!g.parent){const h=ae(g);null!==h&&d.push(h)}return{children:c,edges:d}}(b,c)),{layoutOptions:e}).then(a=>{f(Object.assign(Object.assign({},a),{children:af(a.children)}))}).catch(a)})};(d=a.CanvasPosition||(a.CanvasPosition={})).CENTER="center",d.TOP="top",d.LEFT="left",d.RIGHT="right",d.BOTTOM="bottom";const r=({maxWidth:r,maxHeight:s,nodes:t=[],edges:u=[],fit:m,pannable:d,defaultPosition:j,direction:z,layoutOptions:A={},zoom:n,setZoom:v,onLayoutChange:B})=>{const C=e.useRef(!1),k=e.useRef(),{observe:w,width:b,height:c}=Z.default(),[f,D]=e.useState(null),[x,E]=e.useState([0,0]),[o,F]=e.useState([0,0]),g=d?s:c,h=d?r:b;e.useEffect(()=>{const a=q(t,u,Object.assign({"elk.direction":z},A));return a.then(a=>{$.default(f,a)||(D(a),B(a))}).catch(a=>{"CancelError"!==a.name&&console.error("Layout Error:",a)}),()=>a.cancel()},[t,u]);const p=e.useCallback(d=>{if(f){const b=(h-f.width*n)/2,c=(g-f.height*n)/2;switch(d){case a.CanvasPosition.CENTER:E([b,c]);break;case a.CanvasPosition.TOP:E([b,0]);break;case a.CanvasPosition.LEFT:E([0,c]);break;case a.CanvasPosition.RIGHT:E([h-f.width*n,c]);break;case a.CanvasPosition.BOTTOM:E([b,g-f.height*n]);break}}},[h,g,f,n]),y=e.useCallback(i=>{const e=(h-b)/2,f=(g-c)/2;if(d)switch(i){case a.CanvasPosition.CENTER:F([e,f]);break;case a.CanvasPosition.TOP:F([e,0]);break;case a.CanvasPosition.LEFT:F([0,f]);break;case a.CanvasPosition.RIGHT:F([h-b,f]);break;case a.CanvasPosition.BOTTOM:F([e,g-c]);break}},[h,g,b,c,d]),i=e.useCallback(a=>{p(a),y(a)},[y,p]);e.useEffect(()=>{var a;null===(a=null==k?void 0:k.current)|| void 0===a||a.scrollTo(o[0],o[1])},[o,k]),e.useEffect(()=>{C.current&&j&&p(j)},[p,n,j]);const l=e.useCallback(()=>{if(f){const d=c/f.height,e=b/f.width,g=Math.min(d,e,1);v(g-1),i(a.CanvasPosition.CENTER)}},[c,f,b,v,i]);return e.useLayoutEffect(()=>{const a=k.current;a&&!C.current&&f&&c&&b&&(m?l():j&&i(j),C.current=!0)},[h,d,g,f,c,m,b,j,i,l,k]),e.useLayoutEffect(()=>{function a(){m?l():j&&i(j)}return window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[m,i,j,l]),{xy:x,observe:w,containerRef:k,canvasHeight:g,canvasWidth:h,containerWidth:b,containerHeight:c,layout:f,scrollXY:o,positionCanvas:i,fitCanvas:l}},s=({onNodeLink:f,onNodeLinkCheck:g})=>{const[a,o]=e.useState(null),[b,p]=e.useState(null),[h,q]=e.useState(null),[c,r]=e.useState(null),[i,s]=e.useState(null),[d,t]=e.useState(null),j=e.useCallback((a,d,b,c)=>{q(a.dragType),o(b),p(c)},[]),k=e.useCallback(({memo:[a],xy:[b,c]},[d,e])=>{const f=new R.Point2D(b,c).transform(a);s([{startPoint:{x:d,y:e},endPoint:f}])},[]),l=e.useCallback(e=>{a&&c&&d&&f(e,a,c,b),o(null),p(null),r(null),s(null)},[d,a,b,c,f]),m=e.useCallback((e,c)=>{if(a&&c){r(c);const d=g(e,a,c,b),f=(void 0===d||d)&&(a.parent===c.parent||"node"===h);t(f)}},[a,b,h,g]),n=e.useCallback((c,b)=>{a&&b&&(r(null),t(null))},[a]);return{dragCoords:i,canLinkNode:d,dragNode:a,dragPort:b,enteredNode:c,onDragStart:j,onDrag:k,onDragEnd:l,onEnter:m,onLeave:n}},ag=(a,b,c)=>a<c?a>b?a:b:c,t=({disabled:d=!1,zoom:f=1,minZoom:g=-0.5,maxZoom:h=1,onZoomChange:i})=>{const[a,l]=e.useState(f-1),c=e.useRef(null);Q.useGesture({onPinch({offset:[b],event:c}){c.preventDefault();const a=ag(b/100,g,h);l(a),i(a+1)}},{enabled:!d,domTarget:c,eventOptions:{passive:!1}});const b=e.useCallback(b=>{const a=ag(b,g,h);l(a),i(a+1)},[h,g,i]),j=e.useCallback(()=>{b(a+.1)},[a,b]),k=e.useCallback(()=>{b(a-.1)},[a,b]);return{svgRef:c,zoom:a+1,setZoom:b,zoomIn:j,zoomOut:k}},u=e.createContext({}),v=({selections:c,onNodeLink:d,readonly:e,children:f,nodes:g,edges:h,maxHeight:i,fit:j,maxWidth:k,direction:l,layoutOptions:m,pannable:b,defaultPosition:n,zoomable:o,zoom:p,minZoom:q,maxZoom:v,onNodeLinkCheck:w,onLayoutChange:x,onZoomChange:y})=>{const a=t({zoom:p,minZoom:q,maxZoom:v,disabled:!o,onZoomChange:y}),z=r({nodes:g,edges:h,maxHeight:i,maxWidth:k,direction:l,pannable:b,defaultPosition:n,fit:j,layoutOptions:m,zoom:a.zoom,setZoom:a.setZoom,onLayoutChange:x}),A=s({onNodeLink:d,onNodeLinkCheck:w});return N.jsx(u.Provider,Object.assign({value:Object.assign(Object.assign(Object.assign({selections:c,readonly:e,pannable:b},z),a),A)},{children:f}),void 0)},w=()=>{const a=e.useContext(u);if(void 0===a)throw new Error("`useCanvas` hook must be used within a `CanvasContext` component");return a};function x(b,a,c){return null!==c&&a?!!a&&!!b&&(!1!==c||a.id!==b.id):null}function y({zoom:a,scrollXY:c,layout:d,containerWidth:e,containerHeight:f,containerRef:b}){const{top:g,left:h}=b.current.getBoundingClientRect(),i=c[0]-b.current.scrollLeft,j=c[1]-b.current.scrollTop,k=(e-d.width*a)/2+i+h,l=(f-d.height*a)/2+j+g;return new R.Matrix2D().translate(k,l).scale(a).inverse()}function z(b,a,c){if(!b||!a)return{};const f=a.find(a=>a.id===b);if(f)return f;if(c){const d=a.find(a=>a.id===c);if(null==d?void 0:d.children)return z(b,d.children,c)}const g=a.filter(b=>{var a;return null===(a=b.children)|| void 0===a?void 0:a.length});for(const h of g){const e=z(b,h.children,c);if(e&&Object.keys(e).length)return e}return{}}function A(a,b=[]){if(!a)return{};const{parent:c}=a;return c?z(a.id,b,c):(null==b?void 0:b.find(b=>b.id===a.id))||{}}const B=({x:a,y:b,height:c,width:d,onDrag:h,onDragEnd:i,onDragStart:j,node:k,disabled:f})=>{const l=[d/2+a,c+b],m=e.useRef(null),{zoom:n,scrollXY:o,layout:p,containerWidth:q,containerRef:r,containerHeight:s}=w(),g=Q.useDrag(a=>{if("pointerdown"===a.event.type&&(m.current=a.event.currentTarget),a.intentional&&m.current){if(a.first){const c=y({containerRef:r,zoom:n,layout:p,scrollXY:o,containerHeight:s,containerWidth:q}),b=[c];return j(Object.assign(Object.assign({},a),{memo:b}),l,k),b}h(a,l,k),a.last&&(m.current=null,i(a,l,k))}},{enabled:!f,triggerAllEvents:!0,threshold:5});return g};function b(c,d){void 0===d&&(d={});var e=d.insertAt;if(c&&"undefined"!=typeof document){var b=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===e&&b.firstChild?b.insertBefore(a,b.firstChild):b.appendChild(a),a.styleSheet?a.styleSheet.cssText=c:a.appendChild(document.createTextNode(c))}}var ah={port:"Port-module_port__30o1q",clicker:"Port-module_clicker__ZivO1",disabled:"Port-module_disabled__1SC1t"};b(".Port-module_port__30o1q {\n  stroke: #0d0e17;\n  fill: #3e405a;\n  stroke-width: 2px;\n  shape-rendering: geometricPrecision;\n  pointer-events: none;\n}\n\n.Port-module_clicker__ZivO1 {\n  opacity: 0;\n}\n\n.Port-module_clicker__ZivO1:not(.Port-module_disabled__1SC1t) {\n    cursor: crosshair;\n  }\n");const C=e.forwardRef(({id:p,x:f,y:g,rx:i,ry:j,disabled:k,style:q,children:b,properties:a,offsetX:l,offsetY:m,className:r,active:s,onDrag:t=()=>void 0,onDragStart:y=()=>void 0,onDragEnd:z=()=>void 0,onEnter:A=()=>void 0,onLeave:C=()=>void 0,onClick:D=()=>void 0},u)=>{const{readonly:v}=w(),[n,E]=e.useState(!1),[o,F]=e.useState(!1),c=f-a.width/2,d=g-a.height/2,x=B({x:c+l,y:d+m,height:a.height,width:a.width,disabled:k||v||(null==a?void 0:a.disabled),node:a,onDrag:t,onDragStart(b,c){y(b,c,a),E(!0)},onDragEnd(b,c){z(b,c,a),E(!1)}});if(a.hidden)return null;const h=a.disabled||k;return N.jsxs("g",Object.assign({id:p},{children:[N.jsx("rect",Object.assign({},x(),{ref:u,height:a.height+14,width:a.width+14,x:c-7,y:d-7,className:_.default(ah.clicker,{[ah.disabled]:h}),onMouseEnter(b){b.stopPropagation(),h||(F(!0),A(b,a))},onMouseLeave(b){b.stopPropagation(),h||(F(!1),C(b,a))},onClick(b){b.stopPropagation(),h||D(b,a)}}),void 0),N.jsx(P.motion.rect,{style:q,className:_.default(ah.port,r,null==a?void 0:a.className),height:a.height,width:a.width,rx:i,ry:j,initial:{scale:0,opacity:0,x:c,y:d},animate:{x:c,y:d,scale:(n||s||o)&&!h?1.5:1,opacity:1}},`${f}-${g}`),b&&N.jsx(e.Fragment,{children:"function"==typeof b?b({port:a,isDragging:n,isHovered:o,isDisabled:h,x:f,y:g,rx:i,ry:j,offsetX:l,offsetY:m}):b},void 0)]}),void 0)});var ai={text:"Label-module_text__126dD"};b(".Label-module_text__126dD {\n  fill: #d6e7ff;\n  pointer-events: none;\n  font-size: 14px;\n  text-rendering: geometricPrecision;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n");const D=({text:a,x:b,y:c,style:d,className:e,originalText:f})=>N.jsxs("g",Object.assign({transform:`translate(${b}, ${c})`},{children:[N.jsx("title",{children:f},void 0),N.jsx("text",Object.assign({className:_.default(ai.text,e),style:d},{children:a}),void 0)]}),void 0);var aj={deleteX:"Remove-module_deleteX__2x11N",container:"Remove-module_container__19Jsk",drop:"Remove-module_drop__2AwP8",rect:"Remove-module_rect__3vmn2"};b(".Remove-module_deleteX__2x11N {\n  stroke: black;\n  pointer-events: none;\n}\n\n.Remove-module_container__19Jsk {\n  will-change: transform, opacity;\n}\n\n.Remove-module_drop__2AwP8 {\n  cursor: pointer;\n  opacity: 0;\n}\n\n.Remove-module_rect__3vmn2 {\n  shape-rendering: geometricPrecision;\n  fill: #ff005d;\n  border-radius: 2px;\n  pointer-events: none;\n}\n");const E=({size:a=15,className:e,hidden:f,x:g,y:h,onClick:k=()=>void 0,onEnter:i=()=>void 0,onLeave:j=()=>void 0})=>{if(f)return null;const b=a/2,c=g-b,d=h-b;return N.jsxs(P.motion.g,Object.assign({className:_.default(e,aj.container),initial:{scale:0,opacity:0,translateX:c,translateY:d},animate:{scale:1,opacity:1,translateX:c,translateY:d},whileHover:{scale:1.2},whileTap:{scale:.8}},{children:[N.jsx("rect",{height:1.5*a,width:1.5*a,className:aj.drop,onMouseEnter:i,onMouseLeave:j,onClick(a){a.preventDefault(),a.stopPropagation(),k(a)}},void 0),N.jsx("rect",{height:a,width:a,className:aj.rect},void 0),N.jsx("line",{x1:"2",y1:a-2,x2:a-2,y2:"2",className:aj.deleteX,strokeWidth:"1"},void 0),N.jsx("line",{x1:"2",y1:"2",x2:a-2,y2:a-2,className:aj.deleteX,strokeWidth:"1"},void 0)]}),void 0)};var ak={plus:"Add-module_plus__30sKV",container:"Add-module_container__1RcJg",drop:"Add-module_drop__W1fxu",rect:"Add-module_rect__3JiVn"};b(".Add-module_plus__30sKV {\n  stroke: black;\n  pointer-events: none;\n}\n\n.Add-module_container__1RcJg {\n  will-change: transform, opacity;\n}\n\n.Add-module_drop__W1fxu {\n  cursor: pointer;\n  opacity: 0;\n}\n\n.Add-module_rect__3JiVn {\n  shape-rendering: geometricPrecision;\n  fill: #46FECB;\n  border-radius: 2px;\n  pointer-events: none;\n}\n");const F=({x:e,y:f,className:g,size:a=15,hidden:h=!0,onEnter:i=()=>void 0,onLeave:j=()=>void 0,onClick:k=()=>void 0})=>{if(h)return null;const b=a/2,c=e-b,d=f-b;return N.jsxs(P.motion.g,Object.assign({className:_.default(g,ak.container),initial:{scale:0,opacity:0,translateX:c,translateY:d},animate:{scale:1,opacity:1,translateX:c,translateY:d},whileHover:{scale:1.2},whileTap:{scale:.8}},{children:[N.jsx("rect",{height:2*a,width:2*a,className:ak.drop,onClick(a){a.preventDefault(),a.stopPropagation(),k(a)},onMouseEnter:i,onMouseLeave:j},void 0),N.jsx("rect",{height:a,width:a,className:ak.rect},void 0),N.jsx("line",{x1:"2",x2:a-2,y1:b,y2:b,className:ak.plus,strokeWidth:"1"},void 0),N.jsx("line",{x1:b,x2:b,y1:"2",y2:a-2,className:ak.plus,strokeWidth:"1"},void 0)]}),void 0)};var al={edge:"Edge-module_edge__RbmGh",disabled:"Edge-module_disabled__20Zof",selectionDisabled:"Edge-module_selectionDisabled__MVwAS",path:"Edge-module_path__u3LT2",active:"Edge-module_active__2dt5E",deleteHovered:"Edge-module_deleteHovered__ZG2og",clicker:"Edge-module_clicker__3cdd0"};b(".Edge-module_edge__RbmGh.Edge-module_disabled__20Zof {\n    pointer-events: none;\n  }\n  .Edge-module_edge__RbmGh:not(.Edge-module_selectionDisabled__MVwAS):not(.Edge-module_disabled__20Zof):hover .Edge-module_path__u3LT2 {\n        stroke: #a5a9e2;\n      }\n  .Edge-module_edge__RbmGh:not(.Edge-module_selectionDisabled__MVwAS):not(.Edge-module_disabled__20Zof):hover .Edge-module_path__u3LT2.Edge-module_active__2dt5E {\n          stroke: #46fecb;\n        }\n  .Edge-module_edge__RbmGh:not(.Edge-module_selectionDisabled__MVwAS):not(.Edge-module_disabled__20Zof):hover .Edge-module_path__u3LT2.Edge-module_deleteHovered__ZG2og {\n          stroke: #ff005d;\n          stroke-dasharray: 4 2;\n        }\n  .Edge-module_edge__RbmGh:not(.Edge-module_selectionDisabled__MVwAS):not(.Edge-module_disabled__20Zof) .Edge-module_clicker__3cdd0 {\n      cursor: pointer;\n    }\n\n.Edge-module_path__u3LT2 {\n  fill: transparent;\n  stroke: #485a74;\n  pointer-events: none;\n  shape-rendering: geometricPrecision;\n  stroke-width: 1pt;\n}\n\n.Edge-module_clicker__3cdd0 {\n  fill: none;\n  stroke: transparent;\n  stroke-width: 15px;\n}\n\n.Edge-module_clicker__3cdd0:focus {\n    outline: none;\n  }\n");const G=({sections:i,properties:a,labels:f,className:o,containerClassName:p,disabled:q,removable:r=!0,selectable:s=!0,upsertable:t=!0,style:u,children:c,add:j=N.jsx(F,{},void 0),remove:d=N.jsx(E,{},void 0),label:z=N.jsx(D,{},void 0),onClick:A=()=>void 0,onKeyDown:B=()=>void 0,onEnter:C=()=>void 0,onLeave:G=()=>void 0,onRemove:H=()=>void 0,onAdd:I=()=>void 0})=>{const k=e.useRef(null),[v,J]=e.useState(!1),[b,K]=e.useState(null),{selections:g,readonly:l}=w(),m=null!=g&&!!g.length&&g.includes(null==a?void 0:a.id),h=q||(null==a?void 0:a.disabled),x=s&&!(null==a?void 0:a.selectionDisabled),n=e.useMemo(()=>{if(!(null==i?void 0:i.length))return null;if(!i[0].bendPoints)return function({sourceX:a,sourceY:b,sourcePosition:g="bottom",targetX:c,targetY:d,targetPosition:h="top"}){const e=["left","right"],[i,j]=function({sourceX:e,sourceY:f,targetX:a,targetY:b}){const c=Math.abs(a-e)/2,d=Math.abs(b-f)/2;return[a<e?a+c:a-c,b<f?b+d:b-d,c,d]}({sourceX:a,sourceY:b,targetX:c,targetY:d});let f=`M${a},${b} C${a},${j} ${c},${j} ${c},${d}`;return e.includes(g)&&e.includes(h)?f=`M${a},${b} C${i},${b} ${i},${d} ${c},${d}`:e.includes(h)?f=`M${a},${b} C${a},${d} ${a},${d} ${c},${d}`:e.includes(g)&&(f=`M${a},${b} C${c},${b} ${c},${b} ${c},${d}`),f}({sourceX:i[0].startPoint.x,sourceY:i[0].startPoint.y,targetX:i[0].endPoint.x,targetY:i[0].endPoint.y});{const a=i?[i[0].startPoint,...i[0].bendPoints||[],i[0].endPoint]:[],b=S.line().x(a=>a.x).y(a=>a.y).curve(S.curveBundle.beta(1));return b(a)}},[i]);e.useEffect(()=>{(null==i?void 0:i.length)>0&&K(function(a,b,c){if(!a)return null;const d=function(b,c){const d=b.x-c.x,e=b.y-c.y;let a=Math.atan2(-e,-d);return(a*=180/Math.PI)<0&&(a+=360),a}(b,c),e=function(a){const d=a.getTotalLength(),{x:b,y:c}=a.getPointAtLength(d/2);return{x:b,y:c,angle:180*Math.atan2(b,c)/Math.PI}}(a);return Object.assign(Object.assign({},e),{angle:d})}(k.current,i[0].startPoint,i[0].endPoint))},[i]);const y={edge:a,center:b,pathRef:k};return N.jsxs("g",Object.assign({className:_.default(al.edge,p,{[al.disabled]:h,[al.selectionDisabled]:!x})},{children:[N.jsx("path",{ref:k,style:u,className:_.default(al.path,null==a?void 0:a.className,o,{[al.active]:m,[al.deleteHovered]:v}),d:n,markerEnd:"url(#end-arrow)"},void 0),N.jsx("path",{className:al.clicker,d:n,tabIndex:-1,onClick(b){b.preventDefault(),b.stopPropagation(),!h&&x&&A(b,a)},onKeyDown(b){b.preventDefault(),b.stopPropagation(),h||B(b,a)},onMouseEnter(b){b.stopPropagation(),h||C(b,a)},onMouseLeave(b){b.stopPropagation(),h||G(b,a)}},void 0),c&&N.jsx(e.Fragment,{children:"function"==typeof c?c(y):c},void 0),(null==f?void 0:f.length)>0&&f.map((a,b)=>N.jsx(O.CloneElement,Object.assign({element:z,edgeChildProps:y},a),b)),!h&&b&&!l&&d&&r&&N.jsx(O.CloneElement,Object.assign({element:d},b,{hidden:void 0!==d.props.hidden?d.props.hidden:!m,onClick(b){b.preventDefault(),b.stopPropagation(),H(b,a),J(!1)},onEnter:()=>J(!0),onLeave:()=>J(!1)}),void 0),!h&&b&&!l&&j&&t&&N.jsx(O.CloneElement,Object.assign({element:j},b,{onClick(b){b.preventDefault(),b.stopPropagation(),I(b,a)}}),void 0)]}),void 0)};var am={rect:"Node-module_rect__1Eal3",selectionDisabled:"Node-module_selectionDisabled__2zufG",disabled:"Node-module_disabled__bZzf8",dragging:"Node-module_dragging__24Avg",active:"Node-module_active__1b2HC",unlinkable:"Node-module_unlinkable__p6w5x",deleteHovered:"Node-module_deleteHovered__36-dV",children:"Node-module_children__1kq65"};b(".Node-module_rect__1Eal3 {\n  fill: #2b2c3e;\n  transition: stroke 100ms ease-in-out;\n  stroke: #475872;\n  shape-rendering: geometricPrecision;\n  stroke-width: 1pt;\n}\n\n  .Node-module_rect__1Eal3:not(.Node-module_selectionDisabled__2zufG):not(.Node-module_disabled__bZzf8) {\n    cursor: pointer;\n  }\n\n  .Node-module_rect__1Eal3:not(.Node-module_selectionDisabled__2zufG):not(.Node-module_disabled__bZzf8):hover {\n      stroke: #a5a9e2;\n    }\n\n  .Node-module_rect__1Eal3:not(.Node-module_selectionDisabled__2zufG):not(.Node-module_disabled__bZzf8).Node-module_dragging__24Avg {\n      stroke: #a5a9e2;\n    }\n\n  .Node-module_rect__1Eal3:not(.Node-module_selectionDisabled__2zufG):not(.Node-module_disabled__bZzf8).Node-module_active__1b2HC {\n      stroke: #46fecb;\n    }\n\n  .Node-module_rect__1Eal3:not(.Node-module_selectionDisabled__2zufG):not(.Node-module_disabled__bZzf8).Node-module_unlinkable__p6w5x {\n      stroke: #ff005d;\n    }\n\n  .Node-module_rect__1Eal3:not(.Node-module_selectionDisabled__2zufG):not(.Node-module_disabled__bZzf8).Node-module_deleteHovered__36-dV {\n      stroke: #ff005d !important;\n      stroke-dasharray: 4 2;\n    }\n\n  .Node-module_rect__1Eal3:focus {\n    outline: none;\n  }\n\n  .Node-module_rect__1Eal3.Node-module_children__1kq65 {\n    fill: transparent;\n    stroke: #475872;\n  }\n");const H=({id:q,x:g,y:h,ports:d,labels:o,height:i,width:j,properties:a,animated:J,className:K,rx:L=2,ry:M=2,offsetX:Q=0,offsetY:R=0,icon:r,disabled:S,style:T,children:k,nodes:c,edges:l,draggable:U=!0,linkable:m=!0,selectable:V=!0,removable:W=!0,dragType:n="multiportOnly",dragCursor:ax="crosshair",childEdge:ay=N.jsx(G,{},void 0),childNode:az=N.jsx(H,{},void 0),remove:s=N.jsx(E,{},void 0),port:X=N.jsx(C,{},void 0),label:Y=N.jsx(D,{},void 0),onRemove:aA,onDrag:Z,onDragStart:$,onDragEnd:aa,onClick:ac,onKeyDown:ad,onEnter:ae,onLeave:af})=>{const ag=e.useRef(null),t=P.useAnimation(),u=w(),{canLinkNode:ah,enteredNode:ai,selections:p,readonly:v}=u,f=ab(u,["canLinkNode","enteredNode","selections","readonly"]),[aj,aB]=e.useState(!1),[ak,aC]=e.useState(!1),[al,aD]=e.useState(!0),y=(null==p?void 0:p.length)?p.includes(a.id):null,an=q.includes("node-drag"),ao=g+Q,ap=h+R,z="multiportOnly"===n&&(null==d?void 0:d.filter(b=>{var a;return!(null===(a=b.properties)|| void 0===a?void 0:a.hidden)}).length)>1,b=S||(null==a?void 0:a.disabled),aq=["port","multiportOnly"].includes(n)?m:U,A=V&&!(null==a?void 0:a.selectionDisabled),F=e.useCallback(b=>{let a=null;return b?("all"===n||"port"===n||z)&&(a="port"):"all"===n||"node"===n?a="node":z||(a="port"),a},[n,z]),I=e.useCallback(a=>{a?(document.body.classList.add("dragging"),document.body.style.cursor="node"===a?"grab":"crosshair"):(document.body.classList.remove("dragging"),document.body.style.cursor="auto")},[]),ar=B({x:ao,y:ap,height:i,width:j,disabled:b||z||v||!aq||"port"===n,node:a,onDrag(...a){!b&&aq&&(f.onDrag(...a),null==Z||Z(...a))},onDragStart(a,c,d,e){!b&&aq&&(a.dragType=F(!1),I(a.dragType),f.onDragStart(a,c,d,e),null==$||$(a,c,d,e),aC(!0))},onDragEnd(a,c,d,e){!b&&aq&&(a.dragType=F(!1),a.srcElement=ag.current,f.onDragEnd(a,c,d,e),null==aa||aa(a,c,d,e),aC(!1),I(null))}});e.useEffect(()=>((null==ai?void 0:ai.id)===a.id&&aD(x(a,ai,ah)),()=>aD(!0)),[ah,ai,a]),e.useEffect(()=>{t.set({opacity:1,translateX:g,translateY:h})},[t,g,h]);const as=e.useCallback(c=>{c.preventDefault(),c.stopPropagation(),!b&&A&&(null==ac||ac(c,a))},[A,b,ac,a]),at=e.useCallback(c=>{c.preventDefault(),b||null==ad||ad(c,a)},[b,ad,a]),au=e.useCallback(a=>{a.preventDefault(),a.stopPropagation()},[]),av=e.useCallback(c=>{c.stopPropagation(),f.onEnter(c,a),b||null==ae||ae(c,a)},[f,b,ae,a]),aw=e.useCallback(c=>{c.stopPropagation(),f.onLeave(c,a),b||null==af||af(c,a)},[f,b,af,a]),aE=e.useCallback((c,d,e)=>{!b&&m&&(c.dragType=F(!0),I(c.dragType),f.onDragStart(c,d,a,e),null==$||$(c,d,a,e),aC(!0))},[f,F,b,m,$,a,I]),aF=e.useCallback((c,d,e)=>{!b&&m&&(f.onDrag(c,d,a,e),null==Z||Z(c,d,a,e))},[f,b,m,Z,a]),aG=e.useCallback((c,d,e)=>{!b&&m&&(c.dragType=F(!0),I(null),f.onDragEnd(c,d,a,e),null==aa||aa(c,d,a,e),aC(!1))},[f,F,b,m,aa,a,I]);return N.jsxs(P.motion.g,Object.assign({id:q,initial:{cursor:"initial",opacity:0,translateX:g,translateY:h},animate:t},{children:[N.jsx(P.motion.rect,Object.assign({},ar(),{ref:ag,tabIndex:-1,onKeyDown:at,onClick:as,onTouchStart:au,onMouseEnter:av,onMouseLeave:aw,className:_.default(am.rect,K,null==a?void 0:a.className,{[am.active]:y,[am.disabled]:b,[am.unlinkable]:!1===al&&!an,[am.dragging]:ak,[am.children]:(null==c?void 0:c.length)>0,[am.deleteHovered]:aj,[am.selectionDisabled]:!A}),style:T,height:i,width:j,rx:L,ry:M,initial:{opacity:0},animate:{opacity:1,transition:J?{}:{type:!1,duration:0}}}),void 0),k&&N.jsx(e.Fragment,{children:"function"==typeof k?k({height:i,width:j,x:g,y:h,node:a,nodes:c,edges:l}):k},void 0),r&&a.icon&&N.jsx(O.CloneElement,Object.assign({element:r},a.icon),void 0),Y&&(null==o?void 0:o.length)>0&&o.map((a,b)=>N.jsx(O.CloneElement,Object.assign({element:Y},a),b)),X&&(null==d?void 0:d.length)>0&&d.map(a=>N.jsx(O.CloneElement,Object.assign({element:X,active:!z&&ak,disabled:b||!m,offsetX:ao,offsetY:ap,onDragStart:aE,onDrag:aF,onDragEnd:aG},a,{id:`${q}-port-${a.id}`}),a.id)),!b&&y&&!v&&s&&W&&N.jsx(O.CloneElement,{element:s,y:i/2,x:j,onClick(b){b.preventDefault(),b.stopPropagation(),null==aA||aA(b,a),aB(!1)},onEnter:()=>aB(!0),onLeave:()=>aB(!1)},void 0),N.jsxs("g",{children:[(null==l?void 0:l.length)>0&&l.map(a=>{const c="function"==typeof ay?ay(a):ay;return N.jsx(O.CloneElement,Object.assign({element:c,id:`${q}-edge-${a.id}`,disabled:b},a,{properties:Object.assign(Object.assign({},a.properties),a.data?{data:a.data}:{})}),a.id)}),(null==c?void 0:c.length)>0&&c.map(i=>{var c,d,e,f,g,h,{children:j}=i,b=ab(i,["children"]);const a="function"==typeof az?az(b):az,k=(null===(c=a.props)|| void 0===c?void 0:c.disabled)!=null?a.props.disabled:S,l=(null===(d=a.props)|| void 0===d?void 0:d.animated)!=null?a.props.animated:J,o=(null===(e=a.props)|| void 0===e?void 0:e.draggable)!=null?a.props.draggable:U,p=(null===(f=a.props)|| void 0===f?void 0:f.linkable)!=null?a.props.linkable:m,r=(null===(g=a.props)|| void 0===g?void 0:g.selectable)!=null?a.props.selectable:V,s=(null===(h=a.props)|| void 0===h?void 0:h.removable)!=null?a.props.removable:W;return N.jsx(O.CloneElement,Object.assign({element:a,id:`${q}-node-${b.id}`,disabled:k,nodes:j,offsetX:ao,offsetY:ap,animated:l,children:a.props.children,childNode:az,dragCursor:ax,dragType:n,childEdge:ay,draggable:o,linkable:p,selectable:r,removable:s,onDragStart:$,onDrag:Z,onDragEnd:aa,onClick:ac,onEnter:ae,onLeave:af,onKeyDown:ad,onRemove:aA},b),b.id)})]},void 0)]}),void 0)};var an={arrow:"Arrow-module_arrow__aEgOT"};b(".Arrow-module_arrow__aEgOT {\n  pointer-events: none;\n  shape-rendering: geometricPrecision;\n  fill: #485a74;\n}\n");const I=({size:a=8,y:b=0,x:c=0,angle:d=0,className:e,style:f})=>N.jsx("path",{style:f,transform:`translate(${c}, ${b}) rotate(${d})`,className:_.default(an.arrow,e),d:`M0,-${a/2}L${a},0L0,${a/2}`},void 0),J=({size:a=8,className:b,style:c})=>N.jsx("marker",Object.assign({id:"end-arrow",viewBox:`0 -${a/2} ${a} ${a}`,refX:`${a}`,markerWidth:`${a}`,markerHeight:`${a}`,orient:"auto"},{children:N.jsx(I,{size:a,style:c,className:b},void 0)}),"end-arrow");var ao={container:"Canvas-module_container__22cN4",pannable:"Canvas-module_pannable__1d7xd",dragNode:"Canvas-module_dragNode__2q6bP"};b(".Canvas-module_container__22cN4.Canvas-module_pannable__1d7xd {\n    overflow: auto;\n  }\n  .Canvas-module_container__22cN4:focus {\n    outline: none;\n  }\n\n.dragging {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.Canvas-module_dragNode__2q6bP {\n  pointer-events: none;\n}\n");const ap=e.forwardRef(({className:t,height:u="100%",width:v="100%",readonly:o,disabled:R=!1,animated:f=!0,arrow:g=N.jsx(J,{},void 0),node:S=N.jsx(H,{},void 0),edge:T=N.jsx(G,{},void 0),dragNode:x=N.jsx(H,{},void 0),dragEdge:p=N.jsx(G,{add:null},void 0),onMouseEnter:y=()=>void 0,onMouseLeave:z=()=>void 0,onCanvasClick:B=()=>void 0},C)=>{var h,i,j,k,l;const d=O.useId(),q=w(),{pannable:D,dragCoords:c,dragNode:E,layout:a,containerRef:U,svgRef:F,canvasHeight:I,canvasWidth:K,xy:m,zoom:L,setZoom:V,observe:W,zoomIn:X,zoomOut:Y,positionCanvas:Z,fitCanvas:$}=q,aa=ab(q,["pannable","dragCoords","dragNode","layout","containerRef","svgRef","canvasHeight","canvasWidth","xy","zoom","setZoom","observe","zoomIn","zoomOut","positionCanvas","fitCanvas"]),[r,ac]=e.useState(null);e.useImperativeHandle(C,()=>Object.assign(Object.assign({},aa),{observe:W,zoom:L,xy:m,layout:a,canvasHeight:I,containerRef:U,canvasWidth:K,svgRef:F,positionCanvas:Z,setZoom:V,zoomIn:X,zoomOut:Y,fitCanvas:$}));const s=e.useRef(!1),n=e.useMemo(()=>A(E,null==a?void 0:a.children),[E,null==a?void 0:a.children]),[b,ad]=e.useState(n),M=e.useMemo(()=>"function"==typeof x?x(n):x,[x,n]);e.useLayoutEffect(()=>{!s.current&&null!==a&&m[0]>0&&m[1]>0&&(s.current=!0)},[a,m]);const ae=e.useCallback(a=>{ac(a.dragType)},[]),Q=e.useCallback(a=>a&&Array.isArray(a)?a.map(b=>{var{children:e}=b,a=ab(b,["children"]);const c="function"==typeof x?x(a):x;return N.jsx(O.CloneElement,Object.assign({element:c,disabled:!0,children:c.props.children,animated:f,nodes:e,childEdge:p,childNode:x},a,{onDragStart:ae,id:`${d}-node-${a.id}-node-drag`}),`${d}-node-${a.id}-node-drag`)}):[],[f,d]);return e.useEffect(()=>{if(n&&Object.keys(n).length>0){const a=Object.assign({},n);a.children=Q(a.children),ad(a)}},[Q,n,null==a?void 0:a.children]),N.jsx("div",Object.assign({style:{height:u,width:v},className:_.default(ao.container,t,{[ao.pannable]:D}),ref(a){W(a),U.current=a},onMouseEnter:y,onMouseLeave:z},{children:N.jsxs("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",id:d,ref:F,height:I,width:K,onClick:B},{children:[null!==g&&N.jsx("defs",{children:N.jsx(O.CloneElement,Object.assign({element:g},g),void 0)},void 0),N.jsxs(P.motion.g,Object.assign({initial:{opacity:0,scale:0,transition:{translateX:!1,translateY:!1}},animate:{opacity:1,translateX:m[0],translateY:m[1],scale:L,transition:f?{velocity:100,translateX:{duration:s.current?.3:0},translateY:{duration:s.current?.3:0},opacity:{duration:.8},when:"beforeChildren"}:{type:!1,duration:0,when:"beforeChildren"}}},{children:[null===(h=null==a?void 0:a.children)|| void 0===h?void 0:h.map(b=>{var{children:e}=b,a=ab(b,["children"]);const c="function"==typeof S?S(a):S;return N.jsx(O.CloneElement,Object.assign({element:c,disabled:R,children:c.props.children,animated:f,nodes:e,childEdge:T,childNode:S},a,{onDragStart:ae,id:`${d}-node-${a.id}`}),a.id)}),null===(i=null==a?void 0:a.edges)|| void 0===i?void 0:i.map(a=>{const b="function"==typeof T?T(a):T;return N.jsx(O.CloneElement,Object.assign({element:b,disabled:R,children:b.props.children},a,{properties:Object.assign(Object.assign({},a.properties),a.data?{data:a.data}:{}),id:`${d}-edge-${a.id}`}),a.id)}),null!==c&&p&&"port"===r&&!o&&N.jsx(O.CloneElement,{element:p,id:`${d}-edge-drag`,disabled:!0,sections:c},void 0),null===(j=null==a?void 0:a.children)|| void 0===j?void 0:j.map(c=>{var{children:f,ports:b}=c,a=ab(c,["children","ports"]);return N.jsx(e.Fragment,{children:(null==b?void 0:b.length)>0&&N.jsx(P.motion.g,Object.assign({animate:{translateX:a.x,translateY:a.y,transition:{duration:0}}},{children:b.map((b,c)=>N.jsx("use",{xlinkHref:`#${d}-node-${a.id}-port-${b.id}`,style:{pointerEvents:"none"}},c))}),a.id)},a.id)}),null!==c&&b&&"node"===r&&!o&&N.jsx(O.CloneElement,Object.assign({},b,{element:M,height:(null===(k=null==b?void 0:b.props)|| void 0===k?void 0:k.height)||(null==b?void 0:b.height),width:(null===(l=null==b?void 0:b.props)|| void 0===l?void 0:l.width)||(null==b?void 0:b.width),id:`${d}-node-drag`,animated:f,className:ao.dragNode,disabled:!0,x:c[0].endPoint.x,y:c[0].endPoint.y}),void 0)]}),void 0)]}),void 0)}),void 0)}),K=e.forwardRef((b,c)=>{var{selections:d=[],readonly:e=!1,fit:f=!1,nodes:g=[],edges:h=[],maxHeight:i=2e3,maxWidth:j=2e3,direction:k="DOWN",pannable:l=!0,zoom:m=1,defaultPosition:n=a.CanvasPosition.CENTER,zoomable:o=!0,minZoom:p=-0.5,maxZoom:q=1,onNodeLink:r=()=>void 0,onNodeLinkCheck:s=()=>void 0,onLayoutChange:t=()=>void 0,onZoomChange:u=()=>void 0,layoutOptions:w}=b,x=ab(b,["selections","readonly","fit","nodes","edges","maxHeight","maxWidth","direction","pannable","zoom","defaultPosition","zoomable","minZoom","maxZoom","onNodeLink","onNodeLinkCheck","onLayoutChange","onZoomChange","layoutOptions"]);return N.jsx(v,Object.assign({layoutOptions:w,nodes:g,edges:h,zoom:m,defaultPosition:n,minZoom:p,maxZoom:q,fit:f,maxHeight:i,maxWidth:j,direction:k,pannable:l,zoomable:o,readonly:e,onLayoutChange:t,selections:d,onZoomChange:u,onNodeLink:r,onNodeLinkCheck:s},{children:N.jsx(ap,Object.assign({ref:c},x),void 0)}),void 0)});function L(d,e,a){Array.isArray(a)||(a=[a]);const b=[],c=[];for(const f of d){const g=a.some(a=>a===f.id);g||b.push(f)}for(const h of e){const i=a.some(a=>a===h.from||a===h.to);i||c.push(h)}return{nodes:b,edges:c}}function M(b,a){return{id:`${b.id}-${a.id}`,from:b.id,to:a.id,parent:a.parent}}b(".Icon-module_icon__36fxL {\n  pointer-events: none;\n}\n");const aq=(d,e)=>{var f;const g=[];if(null==d?void 0:d.length)for(const a of d){let b=a.x,c=a.y;e&&(b=e.x+b,c=e.y+c);const h=[new R.Point2D(b,c),new R.Point2D(b+a.width,c+a.height)];g.push({points:h,node:a}),(null===(f=a.children)|| void 0===f?void 0:f.length)&&g.push(...aq(a.children,a))}return g},ar=(a,f)=>{const[b,c]=f.points;let d=0,e=0;return a.x<b.x?d=b.x-a.x:a.x>c.x&&(d=c.x-a.x),a.y<b.y?e=b.y-a.y:a.y>c.y&&(e=c.y-a.y),Math.floor(Math.sqrt(d*d+e*e))},as=(f,i,j,k)=>{const g=[],h=new R.Point2D(f.x,f.y).transform(i);for(const d of j){const l=U.IntersectionQuery.pointInRectangle(h,d.points[0],d.points[1]),m=ar(h,d);g.push({node:d.node,minDist:m,intersects:l})}let e=k,b=null,c=null;for(const a of g)a.minDist<e&&!a.intersects&&(c=a.node.id,e=a.minDist),a.intersects&&(b=a.node.id);return b&&(c&&c!==b||(c=b,e=0)),{intersectedNodeId:b,foundNodeId:c,foundDist:e}};function at(b,c,e){const d=c.reduce((a,b)=>(b.to===e&&a.push(b.from),a),[]),a=b.find(a=>a.id===e);return(null==a?void 0:a.parent)&&d.push(a.parent),b.filter(a=>d.includes(a.id))}a.Add=F,a.Arrow=I,a.Canvas=K,a.CanvasContext=u,a.CanvasProvider=v,a.Edge=G,a.Icon=({x:c,y:d,url:e,style:f,className:g,height:a=40,width:b=40})=>N.jsx("g",Object.assign({className:_.default("Icon-module_icon__36fxL",g),transform:`translate(${c-b/2}, ${d-a/2})`},{children:N.jsx("image",{style:f,xlinkHref:e,width:b,height:a},void 0)}),void 0),a.Label=D,a.MarkerArrow=J,a.Node=H,a.Port=C,a.Remove=E,a.addNodeAndEdge=function(c,d,a,b){return{nodes:[...c,a],edges:[...d,...b?[M(b,a)]:[]]}},a.checkNodeLinkable=x,a.createEdgeFromNodes=M,a.detectCircular=function(d,e,a,f){let b=!1;const c=g=>{const h=at(d,e,g);for(const a of h)if(a.id!==f.id)c(a.id);else{b=!0;break}};return c(a.id),b},a.elkLayout=q,a.findNestedNode=z,a.formatText=p,a.getCoords=y,a.getDragNodeData=A,a.getEdgesByNode=function(e,d){const b=[],c=[];for(const a of e)a.to===d.id&&b.push(a),a.from===d.id&&c.push(a);return{to:b,from:c,all:[...b,...c]}},a.getParentsForNodeId=(d,e,a)=>{const b=[],c=f=>{const g=at(d,e,f);for(const a of g){const h=b.find(b=>b.id===a.id);h||(b.push(a),c(a.id))}};return c(a),b},a.hasLink=function(a,b,c){return a.some(a=>a.from===b.id&&a.to===c.id)},a.measureText=n,a.parsePadding=o,a.removeAndUpsertNodes=function(d,e,b,g){Array.isArray(b)||(b=[b]);const j=b.map(a=>a.id),h=d.filter(a=>!j.includes(a.id)),f=e.filter(a=>!j.includes(a.from)&&!j.includes(a.to));for(const m of j){const k=e.filter(a=>a.to===m),l=e.filter(a=>a.from===m);for(const n of k)for(const o of l){const a=d.find(a=>a.id===n.from),c=d.find(a=>a.id===o.to);if(a&&c){const i=null==g?void 0:g(h,f,a,c);(void 0===i||i)&&f.push({id:`${a.id}-${c.id}`,from:a.id,to:c.id,parent:null==a?void 0:a.parent})}}}return{edges:f,nodes:h}},a.removeEdge=function(b,a){const c=Array.isArray(a)?a:[a],d=c.map(a=>a.id);return b.filter(a=>!d.includes(a.id))},a.removeEdgesFromNode=function(b,a){return a.filter(a=>!(a.to===b||a.from===b))},a.removeNode=L,a.upsertNode=function(f,c,a,b){const g=c.findIndex(b=>b.id===a.id),d=Object.assign(Object.assign({},a),{id:`${a.from}-${b.id}`,to:b.id}),e=Object.assign(Object.assign({},a),{id:`${b.id}-${a.to}`,from:b.id});return a.fromPort&&a.toPort&&(d.fromPort=a.fromPort,d.toPort=`${b.id}-to`,e.fromPort=`${b.id}-from`,e.toPort=a.toPort),c.splice(g,1,d,e),{nodes:[...f,b],edges:[...c]}},a.useCanvas=w,a.useEdgeDrag=s,a.useLayout=r,a.useNodeDrag=B,a.useProximity=b=>{var{canvasRef:l,disabled:a,minDistance:d=40}=b,c=ab(b,["canvasRef","disabled","minDistance"]);const m=e.useRef(null),n=e.useRef(null),o=e.useRef(null),p=e.useRef(0),q=e.useRef(c);e.useEffect(()=>{q.current=c},[c]);const[f,r]=e.useState(null),[g,s]=e.useState(null),[h,t]=e.useState(null),i=e.useCallback(()=>{if(a)return;const b=l.current;s(y(b)),t(aq(b.layout.children))},[a]),j=e.useCallback(k=>{if(!g||a)return;const{onMatchChange:f,onIntersects:i,onDistanceChange:l}=q.current,{intersectedNodeId:c,foundNodeId:b,foundDist:e}=as(k,g,h,d),j=e!==d?e:null;b!==n.current&&(null==f||f(b,e)),c!==m.current&&(null==i||i(c)),l&&j!==o.current&&(cancelAnimationFrame(p.current),p.current=requestAnimationFrame(()=>{l(j)})),m.current=c,n.current=b,o.current=j,r(b)},[g,a,d,h]);e.useEffect(()=>()=>cancelAnimationFrame(p.current));const k=e.useCallback(()=>{a||(r(null),s(null),t(null))},[a]);return{match:f,onDragStart:i,onDrag:j,onDragEnd:k}},a.useSelection=({selections:b=[],nodes:j=[],edges:k=[],hotkeys:a=["selectAll","deselect","delete"],disabled:l,onSelection:m,onDataChange:n})=>{const[c,d]=e.useState(b),[o,p]=e.useState(!1),f=a=>{if(!l){const e=c.includes(a);if(!e){const b=[...c,a];null==m||m(b),d(b)}}},g=b=>{if(!l){const e=c.includes(b);if(e){const a=c.filter(a=>a!==b);null==m||m(a),d(a)}}},h=a=>{const b=c.includes(a);b?g(a):f(a)},i=(a=[])=>{l||(d(a),null==m||m(a))};return T.useHotkeys([{name:"Select All",keys:"mod+a",disabled:!a.includes("selectAll"),category:"Canvas",description:"Select all nodes and edges",callback(b){if(b.preventDefault(),!l){const a=j.map(a=>a.id);null==n||n(j,k),null==m||m(a),d(a)}}},{name:"Delete Selections",category:"Canvas",disabled:!a.includes("delete"),description:"Delete selected nodes and edges",keys:"backspace",callback(b){if(!l){b.preventDefault();const a=L(j,k,c);null==n||n(a.nodes,a.edges),null==m||m([]),d([])}}},{name:"Deselect Selections",category:"Canvas",disabled:!a.includes("deselect"),description:"Deselect selected nodes and edges",keys:"escape",callback(a){l||(a.preventDefault(),null==m||m([]),d([]))}}]),{onClick(a,b){a.preventDefault(),a.stopPropagation(),o?h(b.id):i([b.id]),p(!1)},onKeyDown(a){a.preventDefault(),p(a.metaKey||a.ctrlKey)},onCanvasClick(){i(),p(!1)},selections:c,clearSelections:i,addSelection:f,removeSelection:g,toggleSelection:h,setSelections:d}},a.useUndo=({nodes:b,edges:c,disabled:k,maxHistory:d=20,onUndoRedo:a})=>{const[f,l]=e.useState(!1),[g,m]=e.useState(!1),n=e.useRef(new aa.default({maxLength:d})),o=e.useRef(a);e.useEffect(()=>{o.current=a},[a]),e.useEffect(()=>{n.current.save({nodes:b,edges:c}),l(n.current.canUndo()),m(n.current.canRedo())},[b,c]);const h=e.useCallback(()=>{n.current.undo(c=>{const a=n.current.canUndo(),b=n.current.canRedo();l(a),m(b),o.current(Object.assign(Object.assign({},c),{type:"undo",canUndo:a,canRedo:b}))})},[]),i=e.useCallback(()=>{n.current.redo(c=>{const a=n.current.canUndo(),b=n.current.canRedo();l(a),m(b),o.current(Object.assign(Object.assign({},c),{type:"redo",canUndo:a,canRedo:b}))})},[]),j=e.useCallback((a,b)=>{n.current.clear(),l(!1),m(!1),o.current({type:"clear",canUndo:!1,canRedo:!1}),n.current.save({nodes:a,edges:b})},[]);return T.useHotkeys([{name:"Undo",keys:"mod+z",category:"Canvas",description:"Undo changes",callback(a){a.preventDefault(),!k&&f&&h()}},{name:"Redo",keys:"mod+shift+z",category:"Canvas",description:"Redo changes",callback(a){a.preventDefault(),!k&&g&&i()}}]),{canUndo:f,canRedo:g,count:()=>n.current.count(),history:()=>n.current.history(),clear:j,redo:i,undo:h}},a.useZoom=t,Object.defineProperty(a,"__esModule",{value:!0})})},6333:function(a,b,c){!function(d,a){a(b,c(7294),c(2441))}(this,function(b,e,c){"use strict";var a,f=(a=c)&&"object"==typeof a&&"default"in a?a:{"default":a};const d=(()=>{let a=[];const b=b=>{a=[...a,...b],b.forEach(a=>{var b;if(!a.disabled){const c=(null===(b=a.ref)|| void 0===b?void 0:b.current)?f.default(a.ref.current):f.default;c.bind(a.keys,a.callback,a.action)}})},c=b=>{a=a.filter(a=>!b.includes(a)),b.forEach(a=>f.default.unbind(a.keys,a.action))};return()=>{const[d,f]=e.useState([]);return e.useEffect(()=>{f(a)},[]),[d,b,c]}})();b.useHotkeyState=d,b.useHotkeys=a=>{const[b,c,f]=d();return e.useLayoutEffect(()=>(a&&c(a),()=>{a&&f(a)}),[a]),e.useMemo(()=>b.reduce((a,b)=>(a.find(a=>a.keys===b.keys&&a.ref&&b.ref)||a.push(b),a),[]),[b])},Object.defineProperty(b,"__esModule",{value:!0})})},9722:function(x,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const e=(a,b)=>c=>Math.max(Math.min(c,b),a),y=a=>a%1?Number(a.toFixed(5)):a,z=/(-)?([\d]*\.?[\d])+/g,A=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,B=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function C(a){return"string"==typeof a}const c={test:a=>"number"==typeof a,parse:parseFloat,transform:a=>a},j=Object.assign(Object.assign({},c),{transform:e(0,1)}),k=Object.assign(Object.assign({},c),{default:1}),b=a=>({test:b=>C(b)&&b.endsWith(a)&&1===b.split(" ").length,parse:parseFloat,transform:b=>`${b}${a}`}),l=b("deg"),f=b("%"),m=b("px"),n=b("vh"),o=b("vw"),p=Object.assign(Object.assign({},f),{parse:a=>f.parse(a)/100,transform:a=>f.transform(100*a)}),d=(a,b)=>c=>Boolean(C(c)&&B.test(c)&&c.startsWith(a)||b&&Object.prototype.hasOwnProperty.call(c,b)),g=(a,b,c)=>d=>{if(!C(d))return d;const[f,g,h,e]=d.match(z);return{[a]:parseFloat(f),[b]:parseFloat(g),[c]:parseFloat(h),alpha:void 0!==e?parseFloat(e):1}},q={test:d("hsl","hue"),parse:g("hue","saturation","lightness"),transform:({hue:a,saturation:b,lightness:c,alpha:d=1})=>"hsla("+Math.round(a)+", "+f.transform(y(b))+", "+f.transform(y(c))+", "+y(j.transform(d))+")"},D=e(0,255),r=Object.assign(Object.assign({},c),{transform:a=>Math.round(D(a))}),h={test:d("rgb","red"),parse:g("red","green","blue"),transform:({red:a,green:b,blue:c,alpha:d=1})=>"rgba("+r.transform(a)+", "+r.transform(b)+", "+r.transform(c)+", "+y(j.transform(d))+")"},s={test:d("#"),parse:function(a){let c="",d="",e="",b="";return a.length>5?(c=a.substr(1,2),d=a.substr(3,2),e=a.substr(5,2),b=a.substr(7,2)):(c=a.substr(1,1),d=a.substr(2,1),e=a.substr(3,1),b=a.substr(4,1),c+=c,d+=d,e+=e,b+=b),{red:parseInt(c,16),green:parseInt(d,16),blue:parseInt(e,16),alpha:b?parseInt(b,16)/255:1}},transform:h.transform},t={test:a=>h.test(a)||s.test(a)||q.test(a),parse:a=>h.test(a)?h.parse(a):q.test(a)?q.parse(a):s.parse(a),transform:a=>C(a)?a:a.hasOwnProperty("red")?h.transform(a):q.transform(a)},E="${c}",F="${n}";function G(a){"number"==typeof a&&(a=`${a}`);const b=[];let e=0;const d=a.match(A);d&&(e=d.length,a=a.replace(A,E),b.push(...d.map(t.parse)));const f=a.match(z);return f&&(a=a.replace(z,F),b.push(...f.map(c.parse))),{values:b,numColors:e,tokenised:a}}function u(a){return G(a).values}function v(a){const{values:b,numColors:c,tokenised:d}=G(a),e=b.length;return f=>{let b=d;for(let a=0;a<e;a++)b=b.replace(a<c?E:F,a<c?t.transform(f[a]):y(f[a]));return b}}const H=a=>"number"==typeof a?0:a,i={test:function(a){var b,c,d,e;return isNaN(a)&&C(a)&&(null!==(c=null===(b=a.match(z))|| void 0===b?void 0:b.length)&& void 0!==c?c:0)+(null!==(e=null===(d=a.match(A))|| void 0===d?void 0:d.length)&& void 0!==e?e:0)>0},parse:u,createTransformer:v,getAnimatableNone:function(a){const b=u(a),c=v(a);return c(b.map(H))}},I=new Set(["brightness","contrast","saturate","opacity"]);function J(a){let[b,c]=a.slice(0,-1).split("(");if("drop-shadow"===b)return a;const[d]=c.match(z)||[];if(!d)return a;const f=c.replace(d,"");let e=I.has(b)?1:0;return d!==c&&(e*=100),b+"("+e+f+")"}const K=/([a-z-]*)\(.*?\)/g,w=Object.assign(Object.assign({},i),{getAnimatableNone(a){const b=a.match(K);return b?b.map(J).join(" "):a}});a.alpha=j,a.color=t,a.complex=i,a.degrees=l,a.filter=w,a.hex=s,a.hsla=q,a.number=c,a.percent=f,a.progressPercentage=p,a.px=m,a.rgbUnit=r,a.rgba=h,a.scale=k,a.vh=n,a.vw=o},655:function(c,a,b){"use strict";b.r(a),b.d(a,{"__assign":function(){return f},"__asyncDelegator":function(){return v},"__asyncGenerator":function(){return u},"__asyncValues":function(){return w},"__await":function(){return t},"__awaiter":function(){return k},"__classPrivateFieldGet":function(){return B},"__classPrivateFieldIn":function(){return D},"__classPrivateFieldSet":function(){return C},"__createBinding":function(){return m},"__decorate":function(){return h},"__exportStar":function(){return n},"__extends":function(){return e},"__generator":function(){return l},"__importDefault":function(){return A},"__importStar":function(){return z},"__makeTemplateObject":function(){return x},"__metadata":function(){return j},"__param":function(){return i},"__read":function(){return p},"__rest":function(){return g},"__spread":function(){return q},"__spreadArray":function(){return s},"__spreadArrays":function(){return r},"__values":function(){return o}});var d=function(a,b){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(c,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b])})(a,b)};function e(b,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function c(){this.constructor=b}d(b,a),b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}var f=function(){return(f=Object.assign||function(d){for(var a,b=1,e=arguments.length;b<e;b++)for(var c in a=arguments[b])Object.prototype.hasOwnProperty.call(a,c)&&(d[c]=a[c]);return d}).apply(this,arguments)};function g(b,e){var d={};for(var a in b)Object.prototype.hasOwnProperty.call(b,a)&&0>e.indexOf(a)&&(d[a]=b[a]);if(null!=b&&"function"==typeof Object.getOwnPropertySymbols)for(var c=0,a=Object.getOwnPropertySymbols(b);c<a.length;c++)0>e.indexOf(a[c])&&Object.prototype.propertyIsEnumerable.call(b,a[c])&&(d[a[c]]=b[a[c]]);return d}function h(g,b,c,d){var e,f=arguments.length,a=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(g,b,c,d);else for(var h=g.length-1;h>=0;h--)(e=g[h])&&(a=(f<3?e(a):f>3?e(b,c,a):e(b,c))||a);return f>3&&a&&Object.defineProperty(b,c,a),a}function i(a,b){return function(c,d){b(c,d,a)}}function j(a,b){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,b)}function k(b,c,a,d){return new(a||(a=Promise))(function(f,g){function h(a){try{e(d.next(a))}catch(b){g(b)}}function i(a){try{e(d.throw(a))}catch(b){g(b)}}function e(b){var c;b.done?f(b.value):((c=b.value)instanceof a?c:new a(function(a){a(c)})).then(h,i)}e((d=d.apply(b,c||[])).next())})}function l(b,c){var d,e,f,a,g={label:0,sent:function(){if(1&f[0])throw f[1];return f[1]},trys:[],ops:[]};return a={next:h(0),"throw":h(1),"return":h(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function h(a){return function(b){return i([a,b])}}function i(a){if(d)throw new TypeError("Generator is already executing.");for(;g;)try{if(d=1,e&&(f=2&a[0]?e.return:a[0]?e.throw||((f=e.return)&&f.call(e),0):e.next)&&!(f=f.call(e,a[1])).done)return f;switch(e=0,f&&(a=[2&a[0],f.value]),a[0]){case 0:case 1:f=a;break;case 4:return g.label++,{value:a[1],done:!1};case 5:g.label++,e=a[1],a=[0];continue;case 7:a=g.ops.pop(),g.trys.pop();continue;default:if(!(f=(f=g.trys).length>0&&f[f.length-1])&&(6===a[0]||2===a[0])){g=0;continue}if(3===a[0]&&(!f||a[1]>f[0]&&a[1]<f[3])){g.label=a[1];break}if(6===a[0]&&g.label<f[1]){g.label=f[1],f=a;break}if(f&&g.label<f[2]){g.label=f[2],g.ops.push(a);break}f[2]&&g.ops.pop(),g.trys.pop();continue}a=c.call(b,g)}catch(h){a=[6,h],e=0}finally{d=f=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}var m=Object.create?function(e,c,d,b){void 0===b&&(b=d);var a=Object.getOwnPropertyDescriptor(c,d);(!a||("get"in a?!c.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return c[d]}}),Object.defineProperty(e,b,a)}:function(c,d,b,a){void 0===a&&(a=b),c[a]=d[b]};function n(b,c){for(var a in b)"default"===a||Object.prototype.hasOwnProperty.call(c,a)||m(c,b,a)}function o(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(c,f){var a="function"==typeof Symbol&&c[Symbol.iterator];if(!a)return c;var b,d,e=a.call(c),g=[];try{for(;(void 0===f||f-- >0)&&!(b=e.next()).done;)g.push(b.value)}catch(h){d={error:h}}finally{try{b&&!b.done&&(a=e.return)&&a.call(e)}finally{if(d)throw d.error}}return g}function q(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(p(arguments[b]));return a}function r(){for(var c=0,a=0,d=arguments.length;a<d;a++)c+=arguments[a].length;for(var e=Array(c),f=0,a=0;a<d;a++)for(var g=arguments[a],b=0,h=g.length;b<h;b++,f++)e[f]=g[b];return e}function s(d,b,e){if(e||2===arguments.length)for(var c,a=0,f=b.length;a<f;a++)!c&&a in b||(c||(c=Array.prototype.slice.call(b,0,a)),c[a]=b[a]);return d.concat(c||Array.prototype.slice.call(b))}function t(a){return this instanceof t?(this.v=a,this):new t(a)}function u(b,c,d){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a,e=d.apply(b,c||[]),f=[];return a={},g("next"),g("throw"),g("return"),a[Symbol.asyncIterator]=function(){return this},a;function g(b){e[b]&&(a[b]=function(a){return new Promise(function(c,d){f.push([b,a,c,d])>1||h(b,a)})})}function h(a,b){try{i(e[a](b))}catch(c){l(f[0][3],c)}}function i(a){a.value instanceof t?Promise.resolve(a.value.v).then(j,k):l(f[0][2],a)}function j(a){h("next",a)}function k(a){h("throw",a)}function l(a,b){a(b),f.shift(),f.length&&h(f[0][0],f[0][1])}}function v(b){var a,c;return a={},d("next"),d("throw",function(a){throw a}),d("return"),a[Symbol.iterator]=function(){return this},a;function d(d,e){a[d]=b[d]?function(a){return(c=!c)?{value:t(b[d](a)),done:"return"===d}:e?e(a):a}:e}}function w(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var b,c=a[Symbol.asyncIterator];return c?c.call(a):(a=o(a),b={},d("next"),d("throw"),d("return"),b[Symbol.asyncIterator]=function(){return this},b);function d(c){b[c]=a[c]&&function(b){return new Promise(function(d,f){e(d,f,(b=a[c](b)).done,b.value)})}}function e(c,a,d,b){Promise.resolve(b).then(function(a){c({value:a,done:d})},a)}}function x(a,b){return Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b,a}var y=Object.create?function(a,b){Object.defineProperty(a,"default",{enumerable:!0,value:b})}:function(a,b){a.default=b};function z(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)"default"!==c&&Object.prototype.hasOwnProperty.call(a,c)&&m(b,a,c);return y(b,a),b}function A(a){return a&&a.__esModule?a:{default:a}}function B(b,c,d,a){if("a"===d&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof c?b!==c||!a:!c.has(b))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===d?a:"a"===d?a.call(b):a?a.value:c.get(b)}function C(b,c,d,e,a){if("m"===e)throw new TypeError("Private method is not writable");if("a"===e&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof c?b!==c||!a:!c.has(b))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===e?a.call(b,d):a?a.value=d:c.set(b,d),d}function D(b,a){if(null===a||"object"!=typeof a&&"function"!=typeof a)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof b?a===b:b.has(a)}},7947:function(a,c,b){a.exports=b(9827)},730:function(a){"use strict";var b=Array.isArray,c=Object.keys,d=Object.prototype.hasOwnProperty;a.exports=function i(f,e){if(f===e)return!0;var a,g,j,k=b(f),l=b(e);if(k&&l){if((g=f.length)!=e.length)return!1;for(a=0;a<g;a++)if(!i(f[a],e[a]))return!1;return!0}if(k!=l)return!1;var m=f instanceof Date,n=e instanceof Date;if(m!=n)return!1;if(m&&n)return f.getTime()==e.getTime();var o=f instanceof RegExp,p=e instanceof RegExp;if(o!=p)return!1;if(o&&p)return f.toString()==e.toString();if(f instanceof Object&&e instanceof Object){var h=c(f);if((g=h.length)!==c(e).length)return!1;for(a=0;a<g;a++)if(!d.call(e,h[a]))return!1;for(a=0;a<g;a++)if(!i(f[j=h[a]],e[j]))return!1;return!0}return!1}},9827:function(b,d,a){const e=a(6339),f=a(730);class c{constructor(a){Object.defineProperties(this,{_opts:{writable:!0},_history:{writable:!0},_position:{writable:!0},_initialState:{writable:!0},_onUpdate:{writable:!0,value(){}},_onBeforeSave:{writable:!0,value(){}},_onMaxLength:{writable:!0,value(){}},_isExceeded:{writable:!0,value:!1},_suspendSave:{writable:!0,value:!1}}),this._opts=e.copy(a,{provider:null,maxLength:20}),this._initiliaze()}_initiliaze(){this._initialState=void 0,this._history=[],this._isExceeded=!1,this._position=0}_checkMaxLength(){this._history.length>this._opts.maxLength?(this._history=this._history.slice(1,this._history.length),this._isExceeded||(this._onMaxLength.call(null,this.current(),this.history(),this),this._isExceeded=!0)):this._isExceeded=!1}_rejectSave(a,b){return f(a,this.current())|| !1===b||this._suspendSave}canUndo(){return this._position>1}canRedo(){return this._position<this._history.length}static callbackError(a){if("function"!=typeof a)throw new TypeError("callback must be a function")}import(a=[]){if(!Array.isArray(a))throw new TypeError("Items must be an array");return this._initiliaze(),this._history=a,this._position=this._history.length,this._initialState=a[0],this}history(){return this._history}save(a){void 0===a&&"function"==typeof this._opts.provider&&(a=this._opts.provider());let b=this._onBeforeSave.call(null,a,this);return a=b||a,this._rejectSave(a,b)||(this._position<this._history.length&&(this._history=this._history.slice(0,this._position)),void 0!==a&&(this._history.push(a),void 0===this._initialState&&(this._initialState=a)),this._checkMaxLength(),this._position=this._history.length,this._onUpdate.call(null,this.current(),"save",this.history(),this)),this}suspendSave(a=!0){return this._suspendSave=a,this}allowedSave(){return!this._suspendSave}clear(){return this._initiliaze(),this._onUpdate.call(null,null,"clear",this.history(),this),this}undo(a){return this.canUndo()&&(this._position--,"function"==typeof a&&a(this.current()),this._onUpdate.call(null,this.current(),"undo",this.history(),this)),this}redo(a){return this.canRedo()&&(this._position++,"function"==typeof a&&a(this.current()),this._onUpdate.call(null,this.current(),"redo",this.history(),this)),this}current(){return this._history.length?this._history[this._position-1]:null}count(){return this._history.length?this._history.length-1:0}initialState(){return this._initialState}onUpdate(a){return c.callbackError(a),this._onUpdate=a,this}onMaxLength(a){return c.callbackError(a),this._onMaxLength=a,this}onBeforeSave(a){return c.callbackError(a),this._onBeforeSave=a,this}}b.exports=c},524:function(y,t,g){"use strict";g.d(t,{o:function(){return as}});var h,a,d,i=g(7294);function z(){return(z=Object.assign||function(d){for(var a=1;a<arguments.length;a++){var b=arguments[a];for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c])}return d}).apply(this,arguments)}var u,j={exports:{}};u=j,function(){var b={}.hasOwnProperty;function a(){for(var d=[],e=0;e<arguments.length;e++){var c=arguments[e];if(c){var f=typeof c;if("string"===f||"number"===f)d.push(c);else if(Array.isArray(c)){if(c.length){var h=a.apply(null,c);h&&d.push(h)}}else if("object"===f)if(c.toString===Object.prototype.toString)for(var g in c)b.call(c,g)&&c[g]&&d.push(g);else d.push(c.toString())}}return d.join(" ")}u.exports?(a.default=a,u.exports=a):window.classNames=a}();var A=j.exports,B=/^\s+|\s+$/g,C=/^[-+]0x[0-9a-f]+$/i,D=/^0b[01]+$/i,E=/^0o[0-7]+$/i,F=parseInt,G=Object.prototype.toString;function H(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function I(a){if("number"==typeof a)return a;if("symbol"==typeof(d=a)||(e=d)&&"object"==typeof e&&"[object Symbol]"==G.call(d))return NaN;if(H(a)){var d,e,b="function"==typeof a.valueOf?a.valueOf():a;a=H(b)?b+"":b}if("string"!=typeof a)return 0===a?a:+a;a=a.replace(B,"");var c=D.test(a);return c||E.test(a)?F(a.slice(2),c?2:8):C.test(a)?NaN:+a}var J=function(f,b,c){var a,d,e;return void 0===c&&(c=b,b=void 0),void 0!==c&&(c=(c=I(c))==c?c:0),void 0!==b&&(b=(b=I(b))==b?b:0),a=I(f),d=b,e=c,a==a&&(void 0!==e&&(a=a<=e?a:e),void 0!==d&&(a=a>=d?a:d)),a},b="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},e={exports:{}};!function(i,k){var ac="__lodash_hash_undefined__",H="[object Arguments]",I="[object Array]",J="[object Boolean]",K="[object Date]",L="[object Error]",M="[object Function]",t="[object Map]",N="[object Number]",O="[object Object]",P="[object Promise]",Q="[object RegExp]",u="[object Set]",R="[object String]",v="[object WeakMap]",S="[object ArrayBuffer]",w="[object DataView]",ad=/^\[object .+?Constructor\]$/,ae=/^(?:0|[1-9]\d*)$/,a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a[H]=a[I]=a[S]=a[J]=a[w]=a[K]=a[L]=a[M]=a[t]=a[N]=a[O]=a[Q]=a[u]=a[R]=a[v]=!1;var x="object"==typeof b&&b&&b.Object===Object&&b,T="object"==typeof self&&self&&self.Object===Object&&self,c=x||T||Function("return this")(),y=k&&!k.nodeType&&k,z=y&&i&&!i.nodeType&&i,A=z&&z.exports===y,af=A&&x.process,B=function(){try{return af&&af.binding&&af.binding("util")}catch(a){}}(),C=B&&B.isTypedArray;function ag(a,c){for(var b=-1,d=null==a?0:a.length;++b<d;)if(c(a[b],b,a))return!0;return!1}function ah(a){var c=-1,b=Array(a.size);return a.forEach(function(a,d){b[++c]=[d,a]}),b}function ai(a){var c=-1,b=Array(a.size);return a.forEach(function(a){b[++c]=a}),b}var D,U,V,W=Array.prototype,X=Function.prototype,l=Object.prototype,m=c["__core-js_shared__"],Y=X.toString,Z=l.hasOwnProperty,aj=(D=/[^.]+$/.exec(m&&m.keys&&m.keys.IE_PROTO||""))?"Symbol(src)_1."+D:"",ak=l.toString,al=RegExp("^"+Y.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),E=A?c.Buffer:void 0,j=c.Symbol,am=c.Uint8Array,an=l.propertyIsEnumerable,ao=W.splice,ap=j?j.toStringTag:void 0,$=Object.getOwnPropertySymbols,_=E?E.isBuffer:void 0,aq=(U=Object.keys,V=Object,function(a){return U(V(a))}),n=aD(c,"DataView"),o=aD(c,"Map"),p=aD(c,"Promise"),q=aD(c,"Set"),r=aD(c,"WeakMap"),ar=aD(Object,"create"),as=aG(n),at=aG(o),au=aG(p),av=aG(q),aw=aG(r),F=j?j.prototype:void 0,ax=F?F.valueOf:void 0;function e(a){var b=-1,d=null==a?0:a.length;for(this.clear();++b<d;){var c=a[b];this.set(c[0],c[1])}}function f(a){var b=-1,d=null==a?0:a.length;for(this.clear();++b<d;){var c=a[b];this.set(c[0],c[1])}}function g(a){var b=-1,d=null==a?0:a.length;for(this.clear();++b<d;){var c=a[b];this.set(c[0],c[1])}}function s(a){var b=-1,c=null==a?0:a.length;for(this.__data__=new g;++b<c;)this.add(a[b])}function h(a){var b=this.__data__=new f(a);this.size=b.size}function ay(d,e){for(var a,b,c=d.length;c--;)if((a=d[c][0])===(b=e)||a!=a&&b!=b)return c;return -1}function aa(a){var b;return null==a?void 0===a?"[object Undefined]":"[object Null]":ap&&ap in Object(a)?function(a){var b=Z.call(a,ap),c=a[ap];try{a[ap]=void 0;var d=!0}catch(f){}var e=ak.call(a);return d&&(b?a[ap]=c:delete a[ap]),e}(a):(b=a,ak.call(b))}function G(a){return aN(a)&&aa(a)==H}function az(a,b,c,e,f){return a===b||(null!=a&&null!=b&&(aN(a)||aN(b))?function(a,c,e,g,i,b){var k=aI(a),p=aI(c),f=k?I:d(a),j=p?I:d(c),l=(f=f==H?O:f)==O,q=(j=j==H?O:j)==O,m=f==j;if(m&&aJ(a)){if(!aJ(c))return!1;k=!0,l=!1}if(m&&!l)return b||(b=new h),k||aO(a)?aA(a,c,e,g,i,b):function(a,b,j,e,k,h,c){switch(j){case w:if(a.byteLength!=b.byteLength||a.byteOffset!=b.byteOffset)return!1;a=a.buffer,b=b.buffer;case S:return!(a.byteLength!=b.byteLength||!h(new am(a),new am(b)));case J:case K:case N:var f,g;return(f=+a)==(g=+b)||f!=f&&g!=g;case L:return a.name==b.name&&a.message==b.message;case Q:case R:return a==b+"";case t:var d=ah;case u:var l=1&e;if(d||(d=ai),a.size!=b.size&&!l)return!1;var i=c.get(a);if(i)return i==b;e|=2,c.set(a,b);var m=aA(d(a),d(b),e,k,h,c);return c.delete(a),m;case"[object Symbol]":if(ax)return ax.call(a)==ax.call(b)}return!1}(a,c,f,e,g,i,b);if(!(1&e)){var n=l&&Z.call(a,"__wrapped__"),o=q&&Z.call(c,"__wrapped__");if(n||o){var r=n?a.value():a,s=o?c.value():c;return b||(b=new h),i(r,s,e,g,b)}}return!!m&&(b||(b=new h),function(b,a,p,e,s,c){var f=1&p,m=aB(b),n=m.length;if(n!=aB(a).length&&!f)return!1;for(var g=n;g--;){var d=m[g];if(!(f?d in a:Z.call(a,d)))return!1}var q=c.get(b);if(q&&c.get(a))return q==a;var h=!0;c.set(b,a),c.set(a,b);for(var o=f;++g<n;){var i=b[d=m[g]],j=a[d];if(e)var r=f?e(j,i,d,a,b,c):e(i,j,d,b,a,c);if(!(void 0===r?i===j||s(i,j,p,e,c):r)){h=!1;break}o||(o="constructor"==d)}if(h&&!o){var k=b.constructor,l=a.constructor;k==l||!("constructor"in b)||!("constructor"in a)||"function"==typeof k&&k instanceof k&&"function"==typeof l&&l instanceof l||(h=!1)}return c.delete(b),c.delete(a),h}(a,c,e,g,i,b))}(a,b,c,e,az,f):a!=a&&b!=b)}function aA(c,a,i,e,o,b){var k=1&i,j=c.length,l=a.length;if(j!=l&&!(k&&l>j))return!1;var m=b.get(c);if(m&&b.get(a))return m==a;var d=-1,f=!0,p=2&i?new s:void 0;for(b.set(c,a),b.set(a,c);++d<j;){var g=c[d],h=a[d];if(e)var n=k?e(h,g,d,a,c,b):e(g,h,d,c,a,b);if(void 0!==n){if(n)continue;f=!1;break}if(p){if(!ag(a,function(a,c){var d;if(d=c,!p.has(d)&&(g===a||o(g,a,i,e,b)))return p.push(c)})){f=!1;break}}else if(g!==h&&!o(g,h,i,e,b)){f=!1;break}}return b.delete(c),b.delete(a),f}function aB(e){var a,c,d,b;return a=e,c=aP,d=aE,b=c(a),aI(a)?b:function(a,c){for(var b=-1,d=c.length,e=a.length;++b<d;)a[e+b]=c[b];return a}(b,d(a))}function aC(e,c){var b,a,d=e.__data__;return("string"==(a=typeof(b=c))||"number"==a||"symbol"==a||"boolean"==a?"__proto__"!==b:null===b)?d["string"==typeof c?"string":"hash"]:d.map}function aD(f,g){var b,c,a,d,e=(b=f,c=g,null==b?void 0:b[c]);return!(!aM(a=e)||(d=a,aj&&aj in d))&&(aK(a)?al:ad).test(aG(a))?e:void 0}e.prototype.clear=function(){this.__data__=ar?ar(null):{},this.size=0},e.prototype.delete=function(a){var b=this.has(a)&&delete this.__data__[a];return this.size-=b?1:0,b},e.prototype.get=function(a){var b=this.__data__;if(ar){var c=b[a];return c===ac?void 0:c}return Z.call(b,a)?b[a]:void 0},e.prototype.has=function(a){var b=this.__data__;return ar?void 0!==b[a]:Z.call(b,a)},e.prototype.set=function(a,b){var c=this.__data__;return this.size+=this.has(a)?0:1,c[a]=ar&& void 0===b?ac:b,this},f.prototype.clear=function(){this.__data__=[],this.size=0},f.prototype.delete=function(c){var a=this.__data__,b=ay(a,c);return!(b<0)&&(b==a.length-1?a.pop():ao.call(a,b,1),--this.size,!0)},f.prototype.get=function(c){var a=this.__data__,b=ay(a,c);return b<0?void 0:a[b][1]},f.prototype.has=function(a){return ay(this.__data__,a)> -1},f.prototype.set=function(b,c){var a=this.__data__,d=ay(a,b);return d<0?(++this.size,a.push([b,c])):a[d][1]=c,this},g.prototype.clear=function(){this.size=0,this.__data__={hash:new e,map:new(o||f),string:new e}},g.prototype.delete=function(a){var b=aC(this,a).delete(a);return this.size-=b?1:0,b},g.prototype.get=function(a){return aC(this,a).get(a)},g.prototype.has=function(a){return aC(this,a).has(a)},g.prototype.set=function(b,c){var a=aC(this,b),d=a.size;return a.set(b,c),this.size+=a.size==d?0:1,this},s.prototype.add=s.prototype.push=function(a){return this.__data__.set(a,ac),this},s.prototype.has=function(a){return this.__data__.has(a)},h.prototype.clear=function(){this.__data__=new f,this.size=0},h.prototype.delete=function(b){var a=this.__data__,c=a.delete(b);return this.size=a.size,c},h.prototype.get=function(a){return this.__data__.get(a)},h.prototype.has=function(a){return this.__data__.has(a)},h.prototype.set=function(c,d){var a=this.__data__;if(a instanceof f){var b=a.__data__;if(!o||b.length<199)return b.push([c,d]),this.size=++a.size,this;a=this.__data__=new g(b)}return a.set(c,d),this.size=a.size,this};var aE=$?function(a){return null==a?[]:function(a,e){for(var b=-1,f=null==a?0:a.length,g=0,c=[];++b<f;){var d=a[b];e(d,b,a)&&(c[g++]=d)}return c}($(a=Object(a)),function(b){return an.call(a,b)})}:function(){return[]},d=aa;function aF(a,b){return!!(b=null==b?9007199254740991:b)&&("number"==typeof a||ae.test(a))&&a> -1&&a%1==0&&a<b}function aG(a){if(null!=a){try{return Y.call(a)}catch(b){}try{return a+""}catch(c){}}return""}(n&&d(new n(new ArrayBuffer(1)))!=w||o&&d(new o)!=t||p&&d(p.resolve())!=P||q&&d(new q)!=u||r&&d(new r)!=v)&&(d=function(a){var b=aa(a),c=b==O?a.constructor:void 0,d=c?aG(c):"";if(d)switch(d){case as:return w;case at:return t;case au:return P;case av:return u;case aw:return v}return b});var aH=G(function(){return arguments}())?G:function(a){return aN(a)&&Z.call(a,"callee")&&!an.call(a,"callee")},aI=Array.isArray,aJ=_||function(){return!1};function aK(b){if(!aM(b))return!1;var a=aa(b);return a==M||"[object GeneratorFunction]"==a||"[object AsyncFunction]"==a||"[object Proxy]"==a}function aL(a){return"number"==typeof a&&a> -1&&a%1==0&&a<=9007199254740991}function aM(a){var b=typeof a;return null!=a&&("object"==b||"function"==b)}function aN(a){return null!=a&&"object"==typeof a}var ab,aO=C?(ab=C,function(a){return ab(a)}):function(b){return aN(b)&&aL(b.length)&&!!a[aa(b)]};function aP(a){var b;return null!=(b=a)&&aL(b.length)&&!aK(b)?function(b,j){var c=aI(b),d=!c&&aH(b),e=!c&&!d&&aJ(b),g=!c&&!d&&!e&&aO(b),h=c||d||e||g,f=h?function(b,d){for(var a=-1,c=Array(b);++a<b;)c[a]=d(a);return c}(b.length,String):[],i=f.length;for(var a in b)!Z.call(b,a)||h&&("length"==a||e&&("offset"==a||"parent"==a)||g&&("buffer"==a||"byteLength"==a||"byteOffset"==a)||aF(a,i))||f.push(a);return f}(a):function(a){if(f="function"==typeof(e=(d=a)&&d.constructor)&&e.prototype||l,d!==f)return aq(a);var d,e,f,c=[];for(var b in Object(a))Z.call(a,b)&&"constructor"!=b&&c.push(b);return c}(a)}i.exports=function(a,b){return az(a,b)}}(e,e.exports);var K=e.exports,L=function(a,b,c){return a[b]?a[b][0]?a[b][0][c]:a[b][c]:"contentBoxSize"===b?a.contentRect["inlineSize"===c?"width":"height"]:void 0},M="allotment-module_splitViewView__KtCWc";let c,k=!1,l=!1;"object"==typeof navigator&&(l=(c=navigator.userAgent).indexOf("Macintosh")>=0,k=(c.indexOf("Macintosh")>=0||c.indexOf("iPad")>=0||c.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0);const v=k,N=l;class O{constructor(){this._size=void 0}getSize(){return this._size}setSize(a){this._size=a}}function P(a,b){const c=a.length,d=c-b.length;return d>=0&&a.slice(d,c)===b}class Q{constructor(a){this.size=void 0,this.size=a}getPreferredSize(){return this.size}}class R{constructor(a,b){this.proportion=void 0,this.layoutService=void 0,this.proportion=a,this.layoutService=b}getPreferredSize(){return this.proportion*this.layoutService.getSize()}}class S{getPreferredSize(){}}class T{get preferredSize(){return this.layoutStrategy.getPreferredSize()}set preferredSize(b){if("number"==typeof b)this.layoutStrategy=new Q(b);else if("string"==typeof b){const a=b.trim();if(P(a,"%")){const c=Number(a.slice(0,-1))/100;this.layoutStrategy=new R(c,this.layoutService)}else if(P(a,"px")){const d=Number(a.slice(0,-2))/100;this.layoutStrategy=new Q(d)}else if("number"==typeof Number.parseFloat(a)){const e=Number.parseFloat(a);this.layoutStrategy=new Q(e)}else this.layoutStrategy=new S}else this.layoutStrategy=new S}constructor(c,a){if(this.minimumSize=0,this.maximumSize=Number.POSITIVE_INFINITY,this.element=void 0,this.snap=void 0,this.layoutService=void 0,this.layoutStrategy=void 0,this.layoutService=c,this.element=a.element,this.minimumSize="number"==typeof a.minimumSize?a.minimumSize:30,this.maximumSize="number"==typeof a.maximumSize?a.maximumSize:Number.POSITIVE_INFINITY,"number"==typeof a.preferredSize)this.layoutStrategy=new Q(a.preferredSize);else if("string"==typeof a.preferredSize){const b=a.preferredSize.trim();if(P(b,"%")){const d=Number(b.slice(0,-1))/100;this.layoutStrategy=new R(d,this.layoutService)}else if(P(b,"px")){const e=Number(b.slice(0,-2))/100;this.layoutStrategy=new Q(e)}else if("number"==typeof Number.parseFloat(b)){const f=Number.parseFloat(b);this.layoutStrategy=new Q(f)}else this.layoutStrategy=new S}else this.layoutStrategy=new S;this.snap="boolean"==typeof a.snap&&a.snap}layout(a){}}var m={exports:{}};!function(d){var e=Object.prototype.hasOwnProperty,b="~";function c(){}function f(a,b,c){this.fn=a,this.context=b,this.once=c||!1}function g(a,e,g,h,i){if("function"!=typeof g)throw new TypeError("The listener must be a function");var d=new f(g,h||a,i),c=b?b+e:e;return a._events[c]?a._events[c].fn?a._events[c]=[a._events[c],d]:a._events[c].push(d):(a._events[c]=d,a._eventsCount++),a}function h(a,b){0== --a._eventsCount?a._events=new c:delete a._events[b]}function a(){this._events=new c,this._eventsCount=0}Object.create&&(c.prototype=Object.create(null),(new c).__proto__||(b=!1)),a.prototype.eventNames=function(){var d,a,c=[];if(0===this._eventsCount)return c;for(a in d=this._events)e.call(d,a)&&c.push(b?a.slice(1):a);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(d){var a=this._events[b?b+d:d];if(!a)return[];if(a.fn)return[a.fn];for(var c=0,e=a.length,f=new Array(e);c<e;c++)f[c]=a[c].fn;return f},a.prototype.listenerCount=function(c){var a=this._events[b?b+c:c];return a?a.fn?1:a.length:0},a.prototype.emit=function(i,d,f,j,k,m){var l=b?b+i:i;if(!this._events[l])return!1;var e,c,a=this._events[l],g=arguments.length;if(a.fn){switch(a.once&&this.removeListener(i,a.fn,void 0,!0),g){case 1:return a.fn.call(a.context),!0;case 2:return a.fn.call(a.context,d),!0;case 3:return a.fn.call(a.context,d,f),!0;case 4:return a.fn.call(a.context,d,f,j),!0;case 5:return a.fn.call(a.context,d,f,j,k),!0;case 6:return a.fn.call(a.context,d,f,j,k,m),!0}for(c=1,e=new Array(g-1);c<g;c++)e[c-1]=arguments[c];a.fn.apply(a.context,e)}else{var h,n=a.length;for(c=0;c<n;c++)switch(a[c].once&&this.removeListener(i,a[c].fn,void 0,!0),g){case 1:a[c].fn.call(a[c].context);break;case 2:a[c].fn.call(a[c].context,d);break;case 3:a[c].fn.call(a[c].context,d,f);break;case 4:a[c].fn.call(a[c].context,d,f,j);break;default:if(!e)for(h=1,e=new Array(g-1);h<g;h++)e[h-1]=arguments[h];a[c].fn.apply(a[c].context,e)}}return!0},a.prototype.on=function(a,b,c){return g(this,a,b,c,!1)},a.prototype.once=function(a,b,c){return g(this,a,b,c,!0)},a.prototype.removeListener=function(i,g,f,j){var c=b?b+i:i;if(!this._events[c])return this;if(!g)return h(this,c),this;var a=this._events[c];if(a.fn)a.fn!==g||j&&!a.once||f&&a.context!==f||h(this,c);else{for(var d=0,e=[],k=a.length;d<k;d++)(a[d].fn!==g||j&&!a[d].once||f&&a[d].context!==f)&&e.push(a[d]);e.length?this._events[c]=1===e.length?e[0]:e:h(this,c)}return this},a.prototype.removeAllListeners=function(a){var d;return a?(d=b?b+a:a,this._events[d]&&h(this,d)):(this._events=new c,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=b,a.EventEmitter=a,d.exports=a}(m);var f=m.exports,U=/^\s+|\s+$/g,V=/^[-+]0x[0-9a-f]+$/i,W=/^0b[01]+$/i,X=/^0o[0-7]+$/i,Y=parseInt,w="object"==typeof b&&b&&b.Object===Object&&b,x="object"==typeof self&&self&&self.Object===Object&&self,Z=w||x||Function("return this")(),$=Object.prototype.toString,_=Math.max,aa=Math.min,ab=function(){return Z.Date.now()};function ac(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function ad(a){if("number"==typeof a)return a;if("symbol"==typeof(d=a)||(e=d)&&"object"==typeof e&&"[object Symbol]"==$.call(d))return NaN;if(ac(a)){var d,e,b="function"==typeof a.valueOf?a.valueOf():a;a=ac(b)?b+"":b}if("string"!=typeof a)return 0===a?a:+a;a=a.replace(U,"");var c=W.test(a);return c||X.test(a)?Y(a.slice(2),c?2:8):V.test(a)?NaN:+a}var ae="sash-module_vertical__2Jemx",af="sash-module_horizontal__3-k3E",ag="sash-module_hover__119X7",ah="sash-module_active__FozP9";let n,o;(h=n||(n={})).Vertical="VERTICAL",h.Horizontal="HORIZONTAL",(a=o||(o={})).Disabled="DISABLED",a.Minimum="MINIMUM",a.Maximum="MAXIMUM",a.Enabled="ENABLED";let ai=v?20:8;const aj=new f;class ak extends f{get state(){return this._state}set state(a){this._state!==a&&(this.el.classList.toggle("sash-module_disabled__2MKAD",a===o.Disabled),this.el.classList.toggle("sash-module_minimum__2FeMz",a===o.Minimum),this.el.classList.toggle("sash-module_maximum__3xrwG",a===o.Maximum),this._state=a,this.emit("enablementChange",a))}constructor(c,d,a){var b;super(),this.el=void 0,this.layoutProvider=void 0,this.orientation=void 0,this.size=void 0,this.hoverDelay=300,this.hoverDelayer=function(f,b,a){var i,j,d,k,l,m,n=0,g=!1,h=!1,e=!0;if("function"!=typeof f)throw new TypeError("Expected a function");function o(a){var b=i,c=j;return i=j=void 0,n=a,k=f.apply(c,b)}function p(a){var c=a-m;return void 0===m||c>=b||c<0||h&&a-n>=d}function q(){var e,a,c=ab();if(p(c))return r(c);l=setTimeout(q,(a=b-((e=c)-m),h?aa(a,d-(e-n)):a))}function r(a){return l=void 0,e&&i?o(a):(i=j=void 0,k)}function c(){var a,c=ab(),d=p(c);if(i=arguments,j=this,m=c,d){if(void 0===l)return n=a=m,l=setTimeout(q,b),g?o(a):k;if(h)return l=setTimeout(q,b),o(m)}return void 0===l&&(l=setTimeout(q,b)),k}return b=ad(b)||0,ac(a)&&(g=!!a.leading,d=(h="maxWait"in a)?_(ad(a.maxWait)||0,b):d,e="trailing"in a?!!a.trailing:e),c.cancel=function(){void 0!==l&&clearTimeout(l),n=0,i=m=j=l=void 0},c.flush=function(){return void 0===l?k:r(ab())},c}(a=>a.classList.add(ag),this.hoverDelay),this._state=o.Enabled,this.onPointerStart=a=>{const b=a.pageX,c=a.pageY;this.el.classList.add(ah),this.emit("start",{startX:b,currentX:b,startY:c,currentY:c}),this.el.setPointerCapture(a.pointerId);const d=a=>{a.preventDefault();const d={startX:b,currentX:a.pageX,startY:c,currentY:a.pageY};this.emit("change",d)},e=a=>{a.preventDefault(),this.el.classList.remove(ah),this.hoverDelayer.cancel(),this.emit("end"),this.el.releasePointerCapture(a.pointerId),window.removeEventListener("pointermove",d),window.removeEventListener("pointerup",e)};window.addEventListener("pointermove",d),window.addEventListener("pointerup",e)},this.onPointerDoublePress=()=>{this.emit("reset")},this.onMouseEnter=()=>{this.el.classList.contains(ah)?(this.hoverDelayer.cancel(),this.el.classList.add(ag)):this.hoverDelayer(this.el)},this.onMouseLeave=()=>{this.hoverDelayer.cancel(),this.el.classList.remove(ag)},this.el=document.createElement("div"),this.el.classList.add("sash-module_sash__eG8e7"),this.el.dataset.testid="sash",c.append(this.el),N&&this.el.classList.add("sash-module_mac__2RGfI"),this.el.addEventListener("pointerdown",this.onPointerStart),this.el.addEventListener("dblclick",this.onPointerDoublePress),this.el.addEventListener("mouseenter",this.onMouseEnter),this.el.addEventListener("mouseleave",this.onMouseLeave),"number"==typeof a.size?(this.size=a.size,a.orientation===n.Vertical?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=ai,aj.on("onDidChangeGlobalSize",a=>{this.size=a,this.layout()})),this.layoutProvider=d,this.orientation=null!=(b=a.orientation)?b:n.Vertical,this.orientation===n.Horizontal?(this.el.classList.add(af),this.el.classList.remove(ae)):(this.el.classList.remove(af),this.el.classList.add(ae)),this.layout()}layout(){if(this.orientation===n.Vertical){const a=this.layoutProvider;this.el.style.left=a.getVerticalSashLeft(this)-this.size/2+"px",a.getVerticalSashTop&&(this.el.style.top=a.getVerticalSashTop(this)+"px"),a.getVerticalSashHeight&&(this.el.style.height=a.getVerticalSashHeight(this)+"px")}else{const b=this.layoutProvider;this.el.style.top=b.getHorizontalSashTop(this)-this.size/2+"px",b.getHorizontalSashLeft&&(this.el.style.left=b.getHorizontalSashLeft(this)+"px"),b.getHorizontalSashWidth&&(this.el.style.width=b.getHorizontalSashWidth(this)+"px")}}dispose(){this.el.removeEventListener("pointerdown",this.onPointerStart),this.el.removeEventListener("dblclick",this.onPointerDoublePress),this.el.removeEventListener("mouseenter",this.onMouseEnter),this.el.removeEventListener("mouseleave",()=>this.onMouseLeave),this.el.remove()}}function al(a,b){const c=a.indexOf(b);c> -1&&(a.splice(c,1),a.push(b))}function am(b,f,c=1){const d=Math.max(0,Math.ceil((f-b)/c)),e=new Array(d);let a=-1;for(;++a<d;)e[a]=b+a*c;return e}let p;(d=p||(p={})).Distribute={type:"distribute"},d.Split=function(a){return{type:"split",index:a}},d.Invisible=function(a){return{type:"invisible",cachedVisibleSize:a}};class q{constructor(b,c,a){this.container=void 0,this.view=void 0,this._size=void 0,this._cachedVisibleSize=void 0,this.container=b,this.view=c,this.container.classList.add(M),this.container.dataset.testid="split-view-view","number"==typeof a?(this._size=a,this._cachedVisibleSize=void 0,b.classList.add("allotment-module_visible__phJMN")):(this._size=0,this._cachedVisibleSize=a.cachedVisibleSize)}set size(a){this._size=a}get size(){return this._size}get snap(){return!!this.view.snap}get cachedVisibleSize(){return this._cachedVisibleSize}get visible(){return void 0===this._cachedVisibleSize}setVisible(a,b){a!==this.visible&&(a?(this.size=J(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize="number"==typeof b?b:this.size,this.size=0),this.container.classList.toggle("visible",a),this.view.setVisible&&this.view.setVisible(a))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}set enabled(a){this.container.style.pointerEvents=a?"":"none"}layout(a){this.layoutContainer(a),this.view.layout(this.size,a)}}class an extends q{layoutContainer(a){this.container.style.left=`${a}px`,this.container.style.width=`${this.size}px`}}class ao extends q{layoutContainer(a){this.container.style.top=`${a}px`,this.container.style.height=`${this.size}px`}}class ap extends f{get startSnappingEnabled(){return this._startSnappingEnabled}set startSnappingEnabled(a){this._startSnappingEnabled!==a&&(this._startSnappingEnabled=a,this.updateSashEnablement())}get endSnappingEnabled(){return this._endSnappingEnabled}set endSnappingEnabled(a){this._endSnappingEnabled!==a&&(this._endSnappingEnabled=a,this.updateSashEnablement())}constructor(f,a={},c){var d,e;if(super(),this.orientation=void 0,this.sashContainer=void 0,this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.sashDragState=void 0,this.proportionalLayout=void 0,this.getSashOrthogonalSize=void 0,this.onDidChange=void 0,this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onSashEnd=a=>{for(const b of(this.emit("sashchange",a),this.saveProportions(),this.viewItems))b.enabled=!0},this.orientation=null!=(d=a.orientation)?d:n.Vertical,this.proportionalLayout=null==(e=a.proportionalLayout)||e,this.getSashOrthogonalSize=a.getSashOrthogonalSize,c&&(this.onDidChange=c),this.sashContainer=document.createElement("div"),this.sashContainer.classList.add("allotment-module_sashContainer__18Sm8"),f.prepend(this.sashContainer),a.descriptor){for(const[g,b]of(this.size=a.descriptor.size,a.descriptor.views.entries())){const h=b.size,i=b.container,j=b.view;this.addView(i,j,h,g,!0)}this.contentSize=this.viewItems.reduce((a,b)=>a+b.size,0),this.saveProportions()}}addView(e,c,a,f=this.viewItems.length,g){let d;d="number"==typeof a?a:"split"===a.type?this.getViewSize(a.index)/2:"invisible"===a.type?{cachedVisibleSize:a.cachedVisibleSize}:c.minimumSize;const h=this.orientation===n.Vertical?new ao(e,c,d):new an(e,c,d);if(this.viewItems.splice(f,0,h),this.viewItems.length>1){const b=this.orientation===n.Vertical?new ak(this.sashContainer,{getHorizontalSashTop:a=>this.getSashPosition(a),getHorizontalSashWidth:this.getSashOrthogonalSize},{orientation:n.Horizontal}):new ak(this.sashContainer,{getVerticalSashLeft:a=>this.getSashPosition(a),getVerticalSashHeight:this.getSashOrthogonalSize},{orientation:n.Vertical}),j=this.orientation===n.Vertical?a=>({sash:b,start:a.startY,current:a.currentY}):a=>({sash:b,start:a.startX,current:a.currentX});b.on("start",a=>this.onSashStart(j(a))),b.on("change",a=>this.onSashChange(j(a))),b.on("end",()=>this.onSashEnd(this.sashItems.findIndex(a=>a.sash===b))),b.on("reset",()=>{const a=this.sashItems.findIndex(a=>a.sash===b),e=am(a,-1,-1),f=am(a+1,this.viewItems.length),c=this.findFirstSnapIndex(e),d=this.findFirstSnapIndex(f);("number"!=typeof c||this.viewItems[c].visible)&&("number"!=typeof d||this.viewItems[d].visible)&&this.emit("sashreset",a)});const i={sash:b};this.sashItems.splice(f-1,0,i)}g||this.relayout(),g||"number"==typeof a||"distribute"!==a.type||this.distributeViewSizes()}removeView(a,b){if(a<0||a>=this.viewItems.length)throw new Error("Index out of bounds");const c=this.viewItems.splice(a,1)[0].view;if(this.viewItems.length>=1){const d=Math.max(a-1,0);this.sashItems.splice(d,1)[0].sash.dispose()}return this.relayout(),b&&"distribute"===b.type&&this.distributeViewSizes(),c}moveView(c,a,d){const b=this.getViewCachedVisibleSize(a),e=void 0===b?this.getViewSize(a):p.Invisible(b),f=this.removeView(a);this.addView(c,f,e,d)}getViewCachedVisibleSize(a){if(a<0||a>=this.viewItems.length)throw new Error("Index out of bounds");return this.viewItems[a].cachedVisibleSize}layout(b=this.size){const d=Math.max(this.size,this.contentSize);if(this.size=b,this.proportions)for(let a=0;a<this.viewItems.length;a++){const c=this.viewItems[a];c.size=J(Math.round(this.proportions[a]*b),c.minimumSize,c.maximumSize)}else this.resize(this.viewItems.length-1,b-d,void 0);this.distributeEmptySpace(),this.layoutViews()}resizeView(a,b){if(a<0||a>=this.viewItems.length)return;const d=[a],c=this.viewItems[a];b=J(b=Math.round(b),c.minimumSize,Math.min(c.maximumSize,this.size)),c.size=b,this.relayout(d)}resizeViews(d){for(let a=0;a<d.length;a++){const c=this.viewItems[a];let b=d[a];b=J(b=Math.round(b),c.minimumSize,Math.min(c.maximumSize,this.size)),c.size=b}this.contentSize=this.viewItems.reduce((a,b)=>a+b.size,0),this.saveProportions(),this.layout(this.size)}getViewSize(a){return a<0||a>=this.viewItems.length?-1:this.viewItems[a].size}isViewVisible(a){if(a<0||a>=this.viewItems.length)throw new Error("Index out of bounds");return this.viewItems[a].visible}setViewVisible(a,b){if(a<0||a>=this.viewItems.length)throw new Error("Index out of bounds");this.viewItems[a].setVisible(b),this.distributeEmptySpace(a),this.layoutViews(),this.saveProportions()}distributeViewSizes(){const b=[];let d=0;for(const a of this.viewItems)a.maximumSize-a.minimumSize>0&&(b.push(a),d+=a.size);const e=Math.floor(d/b.length);for(const c of b)c.size=J(e,c.minimumSize,c.maximumSize);this.relayout()}dispose(){this.sashItems.forEach(a=>a.sash.dispose()),this.sashItems=[],this.sashContainer.remove()}relayout(a){const b=this.viewItems.reduce((a,b)=>a+b.size,0);this.resize(this.viewItems.length-1,this.size-b,void 0,a),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}onSashStart({sash:b,start:a}){const c=this.sashItems.findIndex(a=>a.sash===b);(j=>{const o=this.viewItems.map(a=>a.size);let k,l,b=Number.NEGATIVE_INFINITY,d=Number.POSITIVE_INFINITY;const e=am(c,-1,-1),a=am(c+1,this.viewItems.length),p=e.reduce((b,a)=>b+(this.viewItems[a].minimumSize-o[a]),0),q=e.reduce((b,a)=>b+(this.viewItems[a].viewMaximumSize-o[a]),0),r=0===a.length?Number.POSITIVE_INFINITY:a.reduce((b,a)=>b+(o[a]-this.viewItems[a].minimumSize),0),s=0===a.length?Number.NEGATIVE_INFINITY:a.reduce((b,a)=>b+(o[a]-this.viewItems[a].viewMaximumSize),0);b=Math.max(p,s),d=Math.min(r,q);const f=this.findFirstSnapIndex(e),g=this.findFirstSnapIndex(a);if("number"==typeof f){const h=this.viewItems[f],m=Math.floor(h.viewMinimumSize/2);k={index:f,limitDelta:h.visible?b-m:b+m,size:h.size}}if("number"==typeof g){const i=this.viewItems[g],n=Math.floor(i.viewMinimumSize/2);l={index:g,limitDelta:i.visible?d+n:d-n,size:i.size}}this.sashDragState={start:j,current:j,index:c,sizes:o,minDelta:b,maxDelta:d,snapBefore:k,snapAfter:l}})(a)}onSashChange({current:a}){const{index:b,start:c,sizes:d,minDelta:e,maxDelta:f,snapBefore:g,snapAfter:h}=this.sashDragState;this.sashDragState.current=a,this.resize(b,a-c,d,void 0,e,f,g,h),this.distributeEmptySpace(),this.layoutViews()}getSashPosition(c){let b=0;for(let a=0;a<this.sashItems.length;a++)if(b+=this.viewItems[a].size,this.sashItems[a].sash===c)return b;return 0}resize(c,a,B=this.viewItems.map(a=>a.size),l,m=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY,g,h){if(c<0||c>=this.viewItems.length)return 0;const d=am(c,-1,-1),b=am(c+1,this.viewItems.length);if(l)for(const o of l)al(d,o),al(b,o);const p=d.map(a=>this.viewItems[a]),q=d.map(a=>B[a]),r=b.map(a=>this.viewItems[a]),s=b.map(a=>B[a]),C=d.reduce((b,a)=>b+(this.viewItems[a].minimumSize-B[a]),0),D=d.reduce((b,a)=>b+(this.viewItems[a].maximumSize-B[a]),0),E=0===b.length?Number.POSITIVE_INFINITY:b.reduce((b,a)=>b+(B[a]-this.viewItems[a].minimumSize),0),F=0===b.length?Number.NEGATIVE_INFINITY:b.reduce((b,a)=>b+(B[a]-this.viewItems[a].maximumSize),0),G=Math.max(C,F,m),H=Math.min(E,D,n);let i=!1;if(g){const t=this.viewItems[g.index],u=a>=g.limitDelta;i=u!==t.visible,t.setVisible(u,g.size)}if(!i&&h){const v=this.viewItems[h.index],w=a<h.limitDelta;i=w!==v.visible,v.setVisible(w,h.size)}if(i)return this.resize(c,a,B,void 0,m,n);for(let e=0,x=a=J(a,G,H);e<p.length;e++){const j=p[e],y=J(q[e]+x,j.minimumSize,j.maximumSize);x-=y-q[e],j.size=y}for(let f=0,z=a;f<r.length;f++){const k=r[f],A=J(s[f]-z,k.minimumSize,k.maximumSize);z+=A-s[f],k.size=A}return a}distributeEmptySpace(e){const g=this.viewItems.reduce((a,b)=>a+b.size,0);let b=this.size-g;const c=am(this.viewItems.length-1,-1,-1);"number"==typeof e&&al(c,e);for(let d=0;0!==b&&d<c.length;d++){const a=this.viewItems[c[d]],f=J(a.size+b,a.minimumSize,a.maximumSize);b-=f-a.size,a.size=f}}layoutViews(){var a;this.contentSize=this.viewItems.reduce((a,b)=>a+b.size,0);let b=0;for(const c of this.viewItems)c.layout(b),b+=c.size;null===(a=this.onDidChange)|| void 0===a||a.call(this,this.viewItems.map(a=>a.size)),this.sashItems.forEach(a=>a.sash.layout()),this.updateSashEnablement()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(a=>a.size/this.contentSize))}updateSashEnablement(){let c=!1;const g=this.viewItems.map(a=>c=a.size-a.minimumSize>0||c);c=!1;const l=this.viewItems.map(a=>c=a.maximumSize-a.size>0||c),h=[...this.viewItems].reverse();c=!1;const i=h.map(a=>c=a.size-a.minimumSize>0||c).reverse();c=!1;const m=h.map(a=>c=a.maximumSize-a.size>0||c).reverse();let d=0;for(let a=0;a<this.sashItems.length;a++){const{sash:b}=this.sashItems[a];d+=this.viewItems[a].size;const e=!(g[a]&&m[a+1]),f=!(l[a]&&i[a+1]);if(e&&f){const n=am(a,-1,-1),p=am(a+1,this.viewItems.length),j=this.findFirstSnapIndex(n),k=this.findFirstSnapIndex(p),q="number"==typeof j&&!this.viewItems[j].visible,r="number"==typeof k&&!this.viewItems[k].visible;q&&i[a]&&(d>0||this.startSnappingEnabled)?b.state=o.Minimum:r&&g[a]&&(d<this.contentSize||this.endSnappingEnabled)?b.state=o.Maximum:b.state=o.Disabled}else b.state=e&&!f?o.Minimum:!e&&f?o.Maximum:o.Enabled}}findFirstSnapIndex(b){for(const c of b){const d=this.viewItems[c];if(d.visible&&d.snap)return c}for(const e of b){const a=this.viewItems[e];if(a.visible&&a.maximumSize-a.minimumSize>0)return;if(!a.visible&&a.snap)return e}}}function aq(a){return void 0!==a.minSize|| void 0!==a.maxSize|| void 0!==a.preferredSize|| void 0!==a.visible}const r=(0,i.forwardRef)(({className:a,children:b},c)=>i.createElement("div",{ref:c,className:A(M,a)},b));r.displayName="Allotment.Pane";const s=(0,i.forwardRef)(({children:e,className:m,maxSize:o=1/0,minSize:q=30,proportionalLayout:J=!0,sizes:s,defaultSizes:M=s,snap:t=!1,vertical:u=!1,onChange:N,onReset:P,onVisibleChange:Q},w)=>{var b,f,x,g,y,c,a,B,C,h,j,D,E,F,d,G,k;const l=(0,i.useRef)(null),R=(0,i.useRef)([]),S=(0,i.useRef)(new Map),U=(0,i.useRef)(null),V=(0,i.useRef)(new Map),W=(0,i.useRef)(new O),X=(0,i.useRef)([]),[H,Y]=(0,i.useState)(!1),I=(0,i.useMemo)(()=>i.Children.toArray(e).filter(i.isValidElement),[e]),Z=(0,i.useCallback)(d=>{var a,b;const c=null===(a=X.current)|| void 0===a?void 0:a[d];return"number"==typeof(null==c?void 0:c.preferredSize)&&(null===(b=U.current)|| void 0===b||b.resizeView(d,Math.round(c.preferredSize)),!0)},[]);return(0,i.useImperativeHandle)(w,()=>({reset(){if(P)P();else{var a;null===(a=U.current)|| void 0===a||a.distributeViewSizes();for(let b=0;b<X.current.length;b++)Z(b)}},resize(b){var a;null===(a=U.current)|| void 0===a||a.resizeViews(b)}})),(0,i.useLayoutEffect)(()=>{let a=!0;M&&V.current.size!==M.length&&(a=!1,console.warn(`Expected ${M.length} children based on defaultSizes but found ${V.current.size}`)),a&&M&&(R.current=I.map(a=>a.key));const b=z({orientation:u?n.Vertical:n.Horizontal,proportionalLayout:J},a&&M&&{descriptor:{size:M.reduce((a,b)=>a+b,0),views:M.map((g,b)=>{var c,d,e;const a=S.current.get(R.current[b]),f=new T(W.current,z({element:document.createElement("div"),minimumSize:null!=(c=null==a?void 0:a.minSize)?c:q,maximumSize:null!=(d=null==a?void 0:a.maxSize)?d:o},(null==a?void 0:a.preferredSize)&&{preferredSize:null==a?void 0:a.preferredSize},{snap:null!=(e=null==a?void 0:a.snap)?e:t}));return X.current.push(f),{container:[...V.current.values()][b],size:g,view:f}})}});U.current=new ap(l.current,b,N),U.current.on("sashchange",d=>{if(Q&&U.current){const c=I.map(a=>a.key);for(let a=0;a<c.length;a++){const b=S.current.get(c[a]);void 0!==(null==b?void 0:b.visible)&&b.visible!==U.current.isViewVisible(a)&&Q(a,U.current.isViewVisible(a))}}}),U.current.on("sashreset",b=>{if(P)P();else{var a;if(Z(b))return;if(Z(b+1))return;null===(a=U.current)|| void 0===a||a.distributeViewSizes()}});const c=U.current;return()=>{c.dispose()}},[]),(0,i.useEffect)(()=>{if(H){var v,w,x,i,j,k,l,m,n;const a=I.map(a=>a.key),d=[...R.current],g=a.filter(a=>!R.current.includes(a)),y=a.filter(a=>R.current.includes(a)),A=R.current.map(b=>!a.includes(b));for(const r of(A.forEach((c,a)=>{var b;c&&(null===(b=U.current)|| void 0===b||b.removeView(a),d.splice(a,1),X.current.splice(a,1))}),g)){const c=S.current.get(r),B=new T(W.current,z({element:document.createElement("div"),minimumSize:null!=(v=null==c?void 0:c.minSize)?v:q,maximumSize:null!=(w=null==c?void 0:c.maxSize)?w:o},(null==c?void 0:c.preferredSize)&&{preferredSize:null==c?void 0:c.preferredSize},{snap:null!=(x=null==c?void 0:c.snap)?x:t}));null===(i=U.current)|| void 0===i||i.addView(V.current.get(r),B,p.Distribute,a.findIndex(a=>a===r)),d.splice(a.findIndex(a=>a===r),0,r),X.current.splice(a.findIndex(a=>a===r),0,B)}for(;!K(a,d);)for(const[s,F]of a.entries()){const h=d.findIndex(a=>a===F);if(h!==s){null===(j=U.current)|| void 0===j||j.moveView(V.current.get(F),h,s);const G=d[h];d.splice(h,1),d.splice(s,0,G);break}}for(const M of g){const C=a.findIndex(a=>a===M),D=X.current[C].preferredSize;void 0!==D&&(null===(k=U.current)|| void 0===k||k.resizeView(C,D))}for(const J of[...g,...y]){const f=S.current.get(J),E=a.findIndex(a=>a===J);f&&aq(f)&& void 0!==f.visible&&(null===(l=U.current)|| void 0===l?void 0:l.isViewVisible(E))!==f.visible&&(null===(m=U.current)|| void 0===m||m.setViewVisible(E,f.visible))}for(const L of y){const b=S.current.get(L),e=a.findIndex(a=>a===L);if(b&&aq(b)){void 0!==b.preferredSize&&X.current[e].preferredSize!==b.preferredSize&&(X.current[e].preferredSize=b.preferredSize);let u=!1;void 0!==b.minSize&&X.current[e].minimumSize!==b.minSize&&(X.current[e].minimumSize=b.minSize,u=!0),void 0!==b.maxSize&&X.current[e].maximumSize!==b.maxSize&&(X.current[e].maximumSize=b.maxSize,u=!0),u&&(null===(n=U.current)|| void 0===n||n.layout())}}(g.length>0||A.length>0)&&(R.current=a)}},[I,H,o,q,t]),f=(b={ref:l,onResize({width:a,height:b}){var c;a&&b&&(null===(c=U.current)|| void 0===c||c.layout(u?b:a),W.current.setSize(u?b:a),Y(!0))}}).onResize,(x=(0,i.useRef)(void 0)).current=f,g=b.round||Math.round,y=(0,i.useRef)(),c=(0,i.useState)({width:void 0,height:void 0}),a=c[0],B=c[1],C=(0,i.useRef)(!1),(0,i.useEffect)(function(){return function(){C.current=!0}},[]),G=(0,i.useRef)({width:void 0,height:void 0}),k=(h=(0,i.useCallback)(function(a){return y.current&&y.current.box===b.box&&y.current.round===g||(y.current={box:b.box,round:g,instance:new ResizeObserver(function(j){var d=j[0],e="border-box"===b.box?"borderBoxSize":"device-pixel-content-box"===b.box?"devicePixelContentBoxSize":"contentBoxSize",f=L(d,e,"inlineSize"),h=L(d,e,"blockSize"),a=f?g(f):void 0,c=h?g(h):void 0;if(G.current.width!==a||G.current.height!==c){var i={width:a,height:c};G.current.width=a,G.current.height=c,x.current?x.current(i):C.current||B(i)}})}),y.current.instance.observe(a,{box:b.box}),function(){y.current&&y.current.instance.unobserve(a)}},[b.box,g]),j=b.ref,D=(0,i.useRef)(null),E=(0,i.useRef)(null),F=(0,i.useRef)(),d=(0,i.useCallback)(function(){var a=null;D.current?a=D.current:j&&(a=j instanceof HTMLElement?j:j.current),E.current&&E.current.element===a&&E.current.reporter===d||(F.current&&(F.current(),F.current=null),E.current={reporter:d,element:a},a&&(F.current=h(a)))},[j,h]),(0,i.useEffect)(function(){d()},[d]),(0,i.useCallback)(function(a){D.current=a,d()},[d])),(0,i.useMemo)(function(){return{ref:k,width:a.width,height:a.height}},[k,a?a.width:null,a?a.height:null]),(0,i.useEffect)(()=>{v&&ar(20)},[]),i.createElement("div",{ref:l,className:A("allotment-module_splitView__1rmCV",u?"allotment-module_vertical__1ACDd":"allotment-module_horizontal__Tf6PK","allotment-module_separatorBorder__3xs3c",m)},i.createElement("div",{className:"allotment-module_splitViewContainer__1ugsQ"},i.Children.toArray(e).map(a=>{if(!i.isValidElement(a))return null;const b=a.key;return"Allotment.Pane"===a.type.displayName?(S.current.set(b,a.props),i.cloneElement(a,{key:b,ref(a){a?V.current.set(b,a):V.current.delete(b)}})):i.createElement(r,{key:b,ref(a){a?V.current.set(b,a):V.current.delete(b)}},a)})))});function ar(a){var b;const c=J(a,4,20),d=J(a,1,8);document.documentElement.style.setProperty("--sash-size",c+"px"),document.documentElement.style.setProperty("--sash-hover-size",d+"px"),ai=b=c,aj.emit("onDidChangeGlobalSize",b)}s.displayName="Allotment";var as=Object.assign(s,{Pane:r})},8384:function(V,e,f){"use strict";f.r(e),f.d(e,{arc:function(){return aj},area:function(){return ap},areaRadial:function(){return ax},curveBasis:function(){return aW},curveBasisClosed:function(){return aX},curveBasisOpen:function(){return aY},curveBumpX:function(){return aB},curveBumpY:function(){return aC},curveBundle:function(){return aZ},curveCardinal:function(){return a_},curveCardinalClosed:function(){return a0},curveCardinalOpen:function(){return a1},curveCatmullRom:function(){return a3},curveCatmullRomClosed:function(){return a4},curveCatmullRomOpen:function(){return a5},curveLinear:function(){return q},curveLinearClosed:function(){return a6},curveMonotoneX:function(){return bb},curveMonotoneY:function(){return bc},curveNatural:function(){return be},curveStep:function(){return bf},curveStepAfter:function(){return bh},curveStepBefore:function(){return bg},line:function(){return ao},lineRadial:function(){return aw},link:function(){return aG},linkHorizontal:function(){return aH},linkRadial:function(){return aJ},linkVertical:function(){return aI},pie:function(){return as},pointRadial:function(){return ay},radialArea:function(){return ax},radialLine:function(){return aw},stack:function(){return bm},stackOffsetDiverging:function(){return bo},stackOffsetExpand:function(){return bn},stackOffsetNone:function(){return bi},stackOffsetSilhouette:function(){return bp},stackOffsetWiggle:function(){return bq},stackOrderAppearance:function(){return br},stackOrderAscending:function(){return bt},stackOrderDescending:function(){return bv},stackOrderInsideOut:function(){return bw},stackOrderNone:function(){return bj},stackOrderReverse:function(){return bx},symbol:function(){return aU},symbolAsterisk:function(){return s},symbolCircle:function(){return j},symbolCross:function(){return t},symbolDiamond:function(){return v},symbolDiamond2:function(){return w},symbolPlus:function(){return x},symbolSquare:function(){return y},symbolSquare2:function(){return z},symbolStar:function(){return A},symbolTriangle:function(){return B},symbolTriangle2:function(){return C},symbolWye:function(){return E},symbolX:function(){return F},symbols:function(){return aS},symbolsFill:function(){return aS},symbolsStroke:function(){return aT}});const m=Math.PI,n=2*m,W=n-1e-6;function g(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function h(){return new g}g.prototype=h.prototype={constructor:g,moveTo:function(a,b){this._+="M"+(this._x0=this._x1=+a)+","+(this._y0=this._y1=+b)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(a,b){this._+="L"+(this._x1=+a)+","+(this._y1=+b)},quadraticCurveTo:function(a,b,c,d){this._+="Q"+ +a+","+ +b+","+(this._x1=+c)+","+(this._y1=+d)},bezierCurveTo:function(a,b,c,d,e,f){this._+="C"+ +a+","+ +b+","+ +c+","+ +d+","+(this._x1=+e)+","+(this._y1=+f)},arcTo:function(a,b,f,g,c){a=+a,b=+b,f=+f,g=+g,c=+c;var o=this._x1,p=this._y1,h=f-a,i=g-b,d=o-a,e=p-b,j=d*d+e*e;if(c<0)throw new Error("negative radius: "+c);if(null===this._x1)this._+="M"+(this._x1=a)+","+(this._y1=b);else if(j>1e-6)if(Math.abs(e*h-i*d)>1e-6&&c){var k=f-o,l=g-p,q=h*h+i*i,r=Math.sqrt(q),s=Math.sqrt(j),t=c*Math.tan((m-Math.acos((q+j-(k*k+l*l))/(2*r*s)))/2),n=t/s,u=t/r;Math.abs(n-1)>1e-6&&(this._+="L"+(a+n*d)+","+(b+n*e)),this._+="A"+c+","+c+",0,0,"+ +(e*k>d*l)+","+(this._x1=a+u*h)+","+(this._y1=b+u*i)}else this._+="L"+(this._x1=a)+","+(this._y1=b)},arc:function(c,d,a,e,f,i){var k=(a=+a)*Math.cos(e),l=a*Math.sin(e),g=(c=+c)+k,h=(d=+d)+l,j=1^(i=!!i),b=i?e-f:f-e;if(a<0)throw new Error("negative radius: "+a);null===this._x1?this._+="M"+g+","+h:(Math.abs(this._x1-g)>1e-6||Math.abs(this._y1-h)>1e-6)&&(this._+="L"+g+","+h),a&&(b<0&&(b=b%n+n),b>W?this._+="A"+a+","+a+",0,1,"+j+","+(c-k)+","+(d-l)+"A"+a+","+a+",0,1,"+j+","+(this._x1=g)+","+(this._y1=h):b>1e-6&&(this._+="A"+a+","+a+",0,"+ +(b>=m)+","+j+","+(this._x1=c+a*Math.cos(f))+","+(this._y1=d+a*Math.sin(f))))},rect:function(b,c,a,d){this._+="M"+(this._x0=this._x1=+b)+","+(this._y0=this._y1=+c)+"h"+ +a+"v"+ +d+"h"+ -a+"Z"},toString:function(){return this._}};var X=h;function Y(a){return function(){return a}}const Z=Math.abs,$=Math.atan2,o=Math.cos,_=Math.max,aa=Math.min,d=Math.sin,b=Math.sqrt,c=Math.PI,ab=c/2,i=2*c;function ac(a){return a>=1?ab:a<= -1?-ab:Math.asin(a)}function ad(a){return a.innerRadius}function ae(a){return a.outerRadius}function af(a){return a.startAngle}function ag(a){return a.endAngle}function ah(a){return a&&a.padAngle}function ai(t,u,v,w,j,k,G){var l=t-v,m=u-w,x=(G?k:-k)/b(l*l+m*m),n=x*m,o=-x*l,p=t+n,q=u+o,r=v+n,s=w+o,y=(p+r)/2,z=(q+s)/2,c=r-p,a=s-q,e=c*c+a*a,f=j-k,d=p*s-r*q,g=(a<0?-1:1)*b(_(0,f*f*e-d*d)),h=(d*a-c*g)/e,i=(-d*c-a*g)/e,A=(d*a+c*g)/e,B=(-d*c+a*g)/e,C=h-y,D=i-z,E=A-y,F=B-z;return C*C+D*D>E*E+F*F&&(h=A,i=B),{cx:h,cy:i,x01:-n,y01:-o,x11:h*(j/f-1),y11:i*(j/f-1)}}function aj(){var e=ad,f=ae,g=Y(0),h=null,j=af,k=ag,l=ah,m=null;function a(){var L,Y,p=+e.apply(this,arguments),q=+f.apply(this,arguments),s=j.apply(this,arguments)-ab,t=k.apply(this,arguments)-ab,E=Z(t-s),r=t>s;if(m||(m=L=X()),q<p&&(Y=q,q=p,p=Y),q>1e-12)if(E>i-1e-12)m.moveTo(q*o(s),q*d(s)),m.arc(0,0,q,s,t,!r),p>1e-12&&(m.moveTo(p*o(t),p*d(t)),m.arc(0,0,p,t,s,r));else{var a,n,A=s,B=t,C=s,D=t,M=E,N=E,O=l.apply(this,arguments)/2,P=O>1e-12&&(h?+h.apply(this,arguments):b(p*p+q*q)),x=aa(Z(q-p)/2,+g.apply(this,arguments)),v=x,w=x;if(P>1e-12){var F=ac(P/p*d(O)),G=ac(P/q*d(O));(M-=2*F)>1e-12?(F*=r?1:-1,C+=F,D-=F):(M=0,C=D=(s+t)/2),(N-=2*G)>1e-12?(G*=r?1:-1,A+=G,B-=G):(N=0,A=B=(s+t)/2)}var y=q*o(A),z=q*d(A),H=p*o(D),I=p*d(D);if(x>1e-12){var u,J=q*o(B),K=q*d(B),Q=p*o(C),R=p*d(C);if(E<c&&(u=function(b,c,j,k,d,e,l,m){var f=j-b,g=k-c,h=l-d,i=m-e,a=i*f-h*g;if(!(a*a<1e-12))return a=(h*(c-e)-i*(b-d))/a,[b+a*f,c+a*g]}(y,z,Q,R,J,K,H,I))){var S,T=y-u[0],U=z-u[1],V=J-u[0],W=K-u[1],_=1/d(((S=(T*V+U*W)/(b(T*T+U*U)*b(V*V+W*W)))>1?0:S< -1?c:Math.acos(S))/2),ad=b(u[0]*u[0]+u[1]*u[1]);v=aa(x,(p-ad)/(_-1)),w=aa(x,(q-ad)/(_+1))}}N>1e-12?w>1e-12?(a=ai(Q,R,y,z,q,w,r),n=ai(J,K,H,I,q,w,r),m.moveTo(a.cx+a.x01,a.cy+a.y01),w<x?m.arc(a.cx,a.cy,w,$(a.y01,a.x01),$(n.y01,n.x01),!r):(m.arc(a.cx,a.cy,w,$(a.y01,a.x01),$(a.y11,a.x11),!r),m.arc(0,0,q,$(a.cy+a.y11,a.cx+a.x11),$(n.cy+n.y11,n.cx+n.x11),!r),m.arc(n.cx,n.cy,w,$(n.y11,n.x11),$(n.y01,n.x01),!r))):(m.moveTo(y,z),m.arc(0,0,q,A,B,!r)):m.moveTo(y,z),p>1e-12&&M>1e-12?v>1e-12?(a=ai(H,I,J,K,p,-v,r),n=ai(y,z,Q,R,p,-v,r),m.lineTo(a.cx+a.x01,a.cy+a.y01),v<x?m.arc(a.cx,a.cy,v,$(a.y01,a.x01),$(n.y01,n.x01),!r):(m.arc(a.cx,a.cy,v,$(a.y01,a.x01),$(a.y11,a.x11),!r),m.arc(0,0,p,$(a.cy+a.y11,a.cx+a.x11),$(n.cy+n.y11,n.cx+n.x11),r),m.arc(n.cx,n.cy,v,$(n.y11,n.x11),$(n.y01,n.x01),!r))):m.arc(0,0,p,D,C,r):m.lineTo(H,I)}else m.moveTo(0,0);if(m.closePath(),L)return m=null,L+""||null}return a.centroid=function(){var a=(+e.apply(this,arguments)+ +f.apply(this,arguments))/2,b=(+j.apply(this,arguments)+ +k.apply(this,arguments))/2-c/2;return[o(b)*a,d(b)*a]},a.innerRadius=function(b){return arguments.length?(e="function"==typeof b?b:Y(+b),a):e},a.outerRadius=function(b){return arguments.length?(f="function"==typeof b?b:Y(+b),a):f},a.cornerRadius=function(b){return arguments.length?(g="function"==typeof b?b:Y(+b),a):g},a.padRadius=function(b){return arguments.length?(h=null==b?null:"function"==typeof b?b:Y(+b),a):h},a.startAngle=function(b){return arguments.length?(j="function"==typeof b?b:Y(+b),a):j},a.endAngle=function(b){return arguments.length?(k="function"==typeof b?b:Y(+b),a):k},a.padAngle=function(b){return arguments.length?(l="function"==typeof b?b:Y(+b),a):l},a.context=function(b){return arguments.length?(m=null==b?null:b,a):m},a}var ak=Array.prototype.slice;function al(a){return"object"==typeof a&&"length"in a?a:Array.from(a)}function p(a){this._context=a}function q(a){return new p(a)}function am(a){return a[0]}function an(a){return a[1]}function ao(b,c){var d=Y(!0),e=null,f=q,g=null;function a(h){var a,j,k,l=(h=al(h)).length,i=!1;for(null==e&&(g=f(k=X())),a=0;a<=l;++a)!(a<l&&d(j=h[a],a,h))===i&&((i=!i)?g.lineStart():g.lineEnd()),i&&g.point(+b(j,a,h),+c(j,a,h));if(k)return g=null,k+""||null}return b="function"==typeof b?b:void 0===b?am:Y(b),c="function"==typeof c?c:void 0===c?an:Y(c),a.x=function(c){return arguments.length?(b="function"==typeof c?c:Y(+c),a):b},a.y=function(b){return arguments.length?(c="function"==typeof b?b:Y(+b),a):c},a.defined=function(b){return arguments.length?(d="function"==typeof b?b:Y(!!b),a):d},a.curve=function(b){return arguments.length?(f=b,null!=e&&(g=f(e)),a):f},a.context=function(b){return arguments.length?(null==b?e=g=null:g=f(e=b),a):e},a}function ap(b,c,d){var e=null,f=Y(!0),g=null,h=q,i=null;function a(j){var a,r,k,l,o,m=(j=al(j)).length,n=!1,p=new Array(m),q=new Array(m);for(null==g&&(i=h(o=X())),a=0;a<=m;++a){if(!(a<m&&f(l=j[a],a,j))===n)if(n=!n)r=a,i.areaStart(),i.lineStart();else{for(i.lineEnd(),i.lineStart(),k=a-1;k>=r;--k)i.point(p[k],q[k]);i.lineEnd(),i.areaEnd()}n&&(p[a]=+b(l,a,j),q[a]=+c(l,a,j),i.point(e?+e(l,a,j):p[a],d?+d(l,a,j):q[a]))}if(o)return i=null,o+""||null}function j(){return ao().defined(f).curve(h).context(g)}return b="function"==typeof b?b:void 0===b?am:Y(+b),c="function"==typeof c?c:void 0===c?Y(0):Y(+c),d="function"==typeof d?d:void 0===d?an:Y(+d),a.x=function(c){return arguments.length?(b="function"==typeof c?c:Y(+c),e=null,a):b},a.x0=function(c){return arguments.length?(b="function"==typeof c?c:Y(+c),a):b},a.x1=function(b){return arguments.length?(e=null==b?null:"function"==typeof b?b:Y(+b),a):e},a.y=function(b){return arguments.length?(c="function"==typeof b?b:Y(+b),d=null,a):c},a.y0=function(b){return arguments.length?(c="function"==typeof b?b:Y(+b),a):c},a.y1=function(b){return arguments.length?(d=null==b?null:"function"==typeof b?b:Y(+b),a):d},a.lineX0=a.lineY0=function(){return j().x(b).y(c)},a.lineY1=function(){return j().x(b).y(d)},a.lineX1=function(){return j().x(e).y(c)},a.defined=function(b){return arguments.length?(f="function"==typeof b?b:Y(!!b),a):f},a.curve=function(b){return arguments.length?(h=b,null!=g&&(i=h(g)),a):h},a.context=function(b){return arguments.length?(null==b?g=i=null:i=h(g=b),a):g},a}function aq(a,b){return b<a?-1:b>a?1:b>=a?0:NaN}function ar(a){return a}function as(){var b=ar,c=aq,d=null,e=Y(0),f=Y(i),g=Y(0);function a(j){var a,o,s,p,k,h=(j=al(j)).length,q=0,l=new Array(h),m=new Array(h),n=+e.apply(this,arguments),r=Math.min(i,Math.max(-i,f.apply(this,arguments)-n)),t=Math.min(Math.abs(r)/h,g.apply(this,arguments)),u=t*(r<0?-1:1);for(a=0;a<h;++a)(k=m[l[a]=a]=+b(j[a],a,j))>0&&(q+=k);for(null!=c?l.sort(function(a,b){return c(m[a],m[b])}):null!=d&&l.sort(function(a,b){return d(j[a],j[b])}),a=0,s=q?(r-h*u)/q:0;a<h;++a,n=p)p=n+((k=m[o=l[a]])>0?k*s:0)+u,m[o]={data:j[o],index:a,value:k,startAngle:n,endAngle:p,padAngle:t};return m}return a.value=function(c){return arguments.length?(b="function"==typeof c?c:Y(+c),a):b},a.sortValues=function(b){return arguments.length?(c=b,d=null,a):c},a.sort=function(b){return arguments.length?(d=b,c=null,a):d},a.startAngle=function(b){return arguments.length?(e="function"==typeof b?b:Y(+b),a):e},a.endAngle=function(b){return arguments.length?(f="function"==typeof b?b:Y(+b),a):f},a.padAngle=function(b){return arguments.length?(g="function"==typeof b?b:Y(+b),a):g},a}p.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){switch(a=+a,b=+b,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;default:this._context.lineTo(a,b);break}}};var at=au(q);function r(a){this._curve=a}function au(b){function a(a){return new r(b(a))}return a._curve=b,a}function av(a){var b=a.curve;return a.angle=a.x,delete a.x,a.radius=a.y,delete a.y,a.curve=function(a){return arguments.length?b(au(a)):b()._curve},a}function aw(){return av(ao().curve(at))}function ax(){var a=ap().curve(at),b=a.curve,c=a.lineX0,d=a.lineX1,e=a.lineY0,f=a.lineY1;return a.angle=a.x,delete a.x,a.startAngle=a.x0,delete a.x0,a.endAngle=a.x1,delete a.x1,a.radius=a.y,delete a.y,a.innerRadius=a.y0,delete a.y0,a.outerRadius=a.y1,delete a.y1,a.lineStartAngle=function(){return av(c())},delete a.lineX0,a.lineEndAngle=function(){return av(d())},delete a.lineX1,a.lineInnerRadius=function(){return av(e())},delete a.lineY0,a.lineOuterRadius=function(){return av(f())},delete a.lineY1,a.curve=function(a){return arguments.length?b(au(a)):b()._curve},a}function ay(b,a){return[(a=+a)*Math.cos(b-=Math.PI/2),a*Math.sin(b)]}r.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(a,b){this._curve.point(b*Math.sin(a),-(b*Math.cos(a)))}};class az{constructor(a,b){this._context=a,this._x=b}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(a,b){switch(a=+a,b=+b,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+a)/2,this._y0,this._x0,b,a,b):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+b)/2,a,this._y0,a,b);break}this._x0=a,this._y0=b}}class aA{constructor(a){this._context=a}lineStart(){this._point=0}lineEnd(){}point(a,b){if(a=+a,b=+b,0==this._point++)this._x0=a,this._y0=b;else{const c=ay(this._x0,this._y0),d=ay(this._x0,this._y0=(this._y0+b)/2),e=ay(a,this._y0),f=ay(a,b);this._context.moveTo(...c),this._context.bezierCurveTo(...d,...e,...f)}}}function aB(a){return new az(a,!0)}function aC(a){return new az(a,!1)}function aD(a){return new aA(a)}function aE(a){return a.source}function aF(a){return a.target}function aG(b){let c=aE,d=aF,e=am,f=an,g=null,h=null;function a(){let i;const a=ak.call(arguments),j=c.apply(this,a),k=d.apply(this,a);if(null==g&&(h=b(i=X())),h.lineStart(),a[0]=j,h.point(+e.apply(this,a),+f.apply(this,a)),a[0]=k,h.point(+e.apply(this,a),+f.apply(this,a)),h.lineEnd(),i)return h=null,i+""||null}return a.source=function(b){return arguments.length?(c=b,a):c},a.target=function(b){return arguments.length?(d=b,a):d},a.x=function(b){return arguments.length?(e="function"==typeof b?b:Y(+b),a):e},a.y=function(b){return arguments.length?(f="function"==typeof b?b:Y(+b),a):f},a.context=function(c){return arguments.length?(null==c?g=h=null:h=b(g=c),a):g},a}function aH(){return aG(aB)}function aI(){return aG(aC)}function aJ(){const a=aG(aD);return a.angle=a.x,delete a.x,a.radius=a.y,delete a.y,a}const aK=b(3);var s={draw(a,f){const e=.59436*b(f+aa(f/28,.75)),c=e/2,d=c*aK;a.moveTo(0,e),a.lineTo(0,-e),a.moveTo(-d,-c),a.lineTo(d,c),a.moveTo(-d,c),a.lineTo(d,-c)}},j={draw(a,e){const d=b(e/c);a.moveTo(d,0),a.arc(0,0,d,0,i)}},t={draw(c,d){const a=b(d/5)/2;c.moveTo(-3*a,-a),c.lineTo(-a,-a),c.lineTo(-a,-3*a),c.lineTo(a,-3*a),c.lineTo(a,-a),c.lineTo(3*a,-a),c.lineTo(3*a,a),c.lineTo(a,a),c.lineTo(a,3*a),c.lineTo(-a,3*a),c.lineTo(-a,a),c.lineTo(-3*a,a),c.closePath()}};const u=b(1/3),aL=2*u;var v={draw(a,e){const c=b(e/aL),d=c*u;a.moveTo(0,-c),a.lineTo(d,0),a.lineTo(0,c),a.lineTo(-d,0),a.closePath()}},w={draw(a,d){const c=.62625*b(d);a.moveTo(0,-c),a.lineTo(c,0),a.lineTo(0,c),a.lineTo(-c,0),a.closePath()}},x={draw(a,d){const c=.87559*b(d-aa(d/7,2));a.moveTo(-c,0),a.lineTo(c,0),a.moveTo(0,c),a.lineTo(0,-c)}},y={draw(d,e){const a=b(e),c=-a/2;d.rect(c,c,a,a)}},z={draw(c,d){const a=.4431*b(d);c.moveTo(a,a),c.lineTo(a,-a),c.lineTo(-a,-a),c.lineTo(-a,a),c.closePath()}};const k=d(c/10)/d(7*c/10),aM=d(i/10)*k,aN=-o(i/10)*k;var A={draw(a,l){const c=b(.8908130915292852*l),e=aM*c,f=aN*c;a.moveTo(0,-c),a.lineTo(e,f);for(let g=1;g<5;++g){const k=i*g/5,h=o(k),j=d(k);a.lineTo(j*c,-h*c),a.lineTo(h*e-j*f,j*e+h*f)}a.closePath()}};const aO=b(3);var B={draw(c,d){const a=-b(d/(3*aO));c.moveTo(0,2*a),c.lineTo(-aO*a,-a),c.lineTo(aO*a,-a),c.closePath()}};const aP=b(3);var C={draw(a,f){const c=.6824*b(f),d=c/2,e=c*aP/2;a.moveTo(0,-c),a.lineTo(e,d),a.lineTo(-e,d),a.closePath()}};const aQ=b(3)/2,D=1/b(12),aR=(D/2+1)*3;var E={draw(a,j){const i=b(j/aR),c=i/2,f=i*D,d=c,e=i*D+i,g=-d,h=e;a.moveTo(c,f),a.lineTo(d,e),a.lineTo(g,h),a.lineTo(-0.5*c-aQ*f,aQ*c+ -0.5*f),a.lineTo(-0.5*d-aQ*e,aQ*d+ -0.5*e),a.lineTo(-0.5*g-aQ*h,aQ*g+ -0.5*h),a.lineTo(-0.5*c+aQ*f,-0.5*f-aQ*c),a.lineTo(-0.5*d+aQ*e,-0.5*e-aQ*d),a.lineTo(-0.5*g+aQ*h,-0.5*h-aQ*g),a.closePath()}},F={draw(c,d){const a=.6189*b(d-aa(d/6,1.7));c.moveTo(-a,-a),c.lineTo(a,a),c.moveTo(-a,a),c.lineTo(a,-a)}};const aS=[j,t,v,y,A,B,E],aT=[j,x,F,C,s,z,w];function aU(b,a){let d=null;function c(){let c;if(d||(d=c=X()),b.apply(this,arguments).draw(d,+a.apply(this,arguments)),c)return d=null,c+""||null}return b="function"==typeof b?b:Y(b||j),a="function"==typeof a?a:Y(void 0===a?64:+a),c.type=function(a){return arguments.length?(b="function"==typeof a?a:Y(a),c):b},c.size=function(b){return arguments.length?(a="function"==typeof b?b:Y(+b),c):a},c.context=function(a){return arguments.length?(d=null==a?null:a,c):d},c}function a(){}function aV(a,b,c){a._context.bezierCurveTo((2*a._x0+a._x1)/3,(2*a._y0+a._y1)/3,(a._x0+2*a._x1)/3,(a._y0+2*a._y1)/3,(a._x0+4*a._x1+b)/6,(a._y0+4*a._y1+c)/6)}function G(a){this._context=a}function aW(a){return new G(a)}function H(a){this._context=a}function aX(a){return new H(a)}function I(a){this._context=a}function aY(a){return new I(a)}function J(a,b){this._basis=new G(a),this._beta=b}G.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:aV(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){switch(a=+a,b=+b,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:aV(this,a,b);break}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=b}},H.prototype={areaStart:a,areaEnd:a,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}},point:function(a,b){switch(a=+a,b=+b,this._point){case 0:this._point=1,this._x2=a,this._y2=b;break;case 1:this._point=2,this._x3=a,this._y3=b;break;case 2:this._point=3,this._x4=a,this._y4=b,this._context.moveTo((this._x0+4*this._x1+a)/6,(this._y0+4*this._y1+b)/6);break;default:aV(this,a,b);break}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=b}},I.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){switch(a=+a,b=+b,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var c=(this._x0+4*this._x1+a)/6,d=(this._y0+4*this._y1+b)/6;this._line?this._context.lineTo(c,d):this._context.moveTo(c,d);break;case 3:this._point=4;default:aV(this,a,b);break}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=b}},J.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var b=this._x,d=this._y,a=b.length-1;if(a>0)for(var e,f=b[0],g=d[0],h=b[a]-f,i=d[a]-g,c=-1;++c<=a;)e=c/a,this._basis.point(this._beta*b[c]+(1-this._beta)*(f+e*h),this._beta*d[c]+(1-this._beta)*(g+e*i));this._x=this._y=null,this._basis.lineEnd()},point:function(a,b){this._x.push(+a),this._y.push(+b)}};var aZ=function b(c){function a(a){return 1===c?new G(a):new J(a,c)}return a.beta=function(a){return b(+a)},a}(.85);function a$(a,b,c){a._context.bezierCurveTo(a._x1+a._k*(a._x2-a._x0),a._y1+a._k*(a._y2-a._y0),a._x2+a._k*(a._x1-b),a._y2+a._k*(a._y1-c),a._x2,a._y2)}function K(a,b){this._context=a,this._k=(1-b)/6}K.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:a$(this,this._x1,this._y1);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){switch(a=+a,b=+b,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2,this._x1=a,this._y1=b;break;case 2:this._point=3;default:a$(this,a,b);break}this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=b}};var a_=function b(c){function a(a){return new K(a,0)}return a.tension=function(a){return b(+a)},a}(0);function L(a,b){this._context=a,this._k=(1-b)/6}L.prototype={areaStart:a,areaEnd:a,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}},point:function(a,b){switch(a=+a,b=+b,this._point){case 0:this._point=1,this._x3=a,this._y3=b;break;case 1:this._point=2,this._context.moveTo(this._x4=a,this._y4=b);break;case 2:this._point=3,this._x5=a,this._y5=b;break;default:a$(this,a,b);break}this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=b}};var a0=function b(c){function a(a){return new L(a,0)}return a.tension=function(a){return b(+a)},a}(0);function M(a,b){this._context=a,this._k=(1-b)/6}M.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){switch(a=+a,b=+b,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:a$(this,a,b);break}this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=b}};var a1=function b(c){function a(a){return new M(a,0)}return a.tension=function(a){return b(+a)},a}(0);function a2(a,j,k){var b=a._x1,c=a._y1,d=a._x2,e=a._y2;if(a._l01_a>1e-12){var f=2*a._l01_2a+3*a._l01_a*a._l12_a+a._l12_2a,g=3*a._l01_a*(a._l01_a+a._l12_a);b=(b*f-a._x0*a._l12_2a+a._x2*a._l01_2a)/g,c=(c*f-a._y0*a._l12_2a+a._y2*a._l01_2a)/g}if(a._l23_a>1e-12){var h=2*a._l23_2a+3*a._l23_a*a._l12_a+a._l12_2a,i=3*a._l23_a*(a._l23_a+a._l12_a);d=(d*h+a._x1*a._l23_2a-j*a._l12_2a)/i,e=(e*h+a._y1*a._l23_2a-k*a._l12_2a)/i}a._context.bezierCurveTo(b,c,d,e,a._x2,a._y2)}function N(a,b){this._context=a,this._alpha=b}N.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){if(a=+a,b=+b,this._point){var c=this._x2-a,d=this._y2-b;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(c*c+d*d,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;break;case 2:this._point=3;default:a2(this,a,b);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=b}};var a3=function b(c){function a(a){return c?new N(a,c):new K(a,0)}return a.alpha=function(a){return b(+a)},a}(.5);function O(a,b){this._context=a,this._alpha=b}O.prototype={areaStart:a,areaEnd:a,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}},point:function(a,b){if(a=+a,b=+b,this._point){var c=this._x2-a,d=this._y2-b;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(c*c+d*d,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=a,this._y3=b;break;case 1:this._point=2,this._context.moveTo(this._x4=a,this._y4=b);break;case 2:this._point=3,this._x5=a,this._y5=b;break;default:a2(this,a,b);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=b}};var a4=function b(c){function a(a){return c?new O(a,c):new L(a,0)}return a.alpha=function(a){return b(+a)},a}(.5);function P(a,b){this._context=a,this._alpha=b}P.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){if(a=+a,b=+b,this._point){var c=this._x2-a,d=this._y2-b;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(c*c+d*d,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:a2(this,a,b);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=b}};var a5=function b(c){function a(a){return c?new P(a,c):new M(a,0)}return a.alpha=function(a){return b(+a)},a}(.5);function Q(a){this._context=a}function a6(a){return new Q(a)}function a7(a){return a<0?-1:1}function a8(a,f,g){var b=a._x1-a._x0,c=f-a._x1,d=(a._y1-a._y0)/(b||c<0&& -0),e=(g-a._y1)/(c||b<0&& -0);return(a7(d)+a7(e))*Math.min(Math.abs(d),Math.abs(e),.5*Math.abs((d*c+e*b)/(b+c)))||0}function a9(a,b){var c=a._x1-a._x0;return c?(3*(a._y1-a._y0)/c-b)/2:b}function ba(a,f,g){var d=a._x0,h=a._y0,c=a._x1,e=a._y1,b=(c-d)/3;a._context.bezierCurveTo(d+b,h+b*f,c-b,e-b*g,c,e)}function l(a){this._context=a}function R(a){this._context=new S(a)}function S(a){this._context=a}function bb(a){return new l(a)}function bc(a){return new R(a)}function T(a){this._context=a}function bd(e){var a,g,b=e.length-1,c=new Array(b),d=new Array(b),f=new Array(b);for(c[0]=0,d[0]=2,f[0]=e[0]+2*e[1],a=1;a<b-1;++a)c[a]=1,d[a]=4,f[a]=4*e[a]+2*e[a+1];for(c[b-1]=2,d[b-1]=7,f[b-1]=8*e[b-1]+e[b],a=1;a<b;++a)g=c[a]/d[a-1],d[a]-=g,f[a]-=g*f[a-1];for(c[b-1]=f[b-1]/d[b-1],a=b-2;a>=0;--a)c[a]=(f[a]-c[a+1])/d[a];for(a=0,d[b-1]=(e[b]+c[b-1])/2;a<b-1;++a)d[a]=2*e[a+1]-c[a+1];return[c,d]}function be(a){return new T(a)}function U(a,b){this._context=a,this._t=b}function bf(a){return new U(a,.5)}function bg(a){return new U(a,0)}function bh(a){return new U(a,1)}function bi(d,f){if((g=d.length)>1)for(var a,c,g,e=1,b=d[f[0]],h=b.length;e<g;++e)for(c=b,b=d[f[e]],a=0;a<h;++a)b[a][1]+=b[a][0]=isNaN(c[a][1])?c[a][0]:c[a][1]}function bj(c){for(var a=c.length,b=new Array(a);--a>=0;)b[a]=a;return b}function bk(a,b){return a[b]}function bl(b){const a=[];return a.key=b,a}function bm(){var b=Y([]),c=bj,d=bi,e=bk;function a(i){var a,g,f=Array.from(b.apply(this,arguments),bl),j=f.length,h=-1;for(const k of i)for(a=0,++h;a<j;++a)(f[a][h]=[0,+e(k,f[a].key,h,i)]).data=k;for(a=0,g=al(c(f));a<j;++a)f[g[a]].index=a;return d(f,g),f}return a.keys=function(c){return arguments.length?(b="function"==typeof c?c:Y(Array.from(c)),a):b},a.value=function(b){return arguments.length?(e="function"==typeof b?b:Y(+b),a):e},a.order=function(b){return arguments.length?(c=null==b?bj:"function"==typeof b?b:Y(Array.from(b)),a):c},a.offset=function(b){return arguments.length?(d=null==b?bi:b,a):d},a}function bn(b,f){if((e=b.length)>0){for(var a,e,c,d=0,g=b[0].length;d<g;++d){for(c=a=0;a<e;++a)c+=b[a][d][1]||0;if(c)for(a=0;a<e;++a)b[a][d][1]/=c}bi(b,f)}}function bo(d,h){if((i=d.length)>0)for(var c,a,b,e,f,i,g=0,j=d[h[0]].length;g<j;++g)for(e=f=0,c=0;c<i;++c)(b=(a=d[h[c]][g])[1]-a[0])>0?(a[0]=e,a[1]=e+=b):b<0?(a[1]=f,a[0]=f+=b):(a[0]=0,a[1]=b)}function bp(b,e){if((g=b.length)>0){for(var g,a=0,c=b[e[0]],h=c.length;a<h;++a){for(var d=0,f=0;d<g;++d)f+=b[d][a][1]||0;c[a][1]+=c[a][0]=-f/2}bi(b,e)}}function bq(b,c){if((o=b.length)>0&&(n=(d=b[c[0]]).length)>0){for(var d,n,o,f=0,a=1;a<n;++a){for(var e=0,g=0,j=0;e<o;++e){for(var k=b[c[e]],h=k[a][1]||0,l=(h-(k[a-1][1]||0))/2,i=0;i<e;++i){var m=b[c[i]],p=m[a][1]||0,q=m[a-1][1]||0;l+=p-q}g+=h,j+=l*h}d[a-1][1]+=d[a-1][0]=f,g&&(f-=j/g)}d[a-1][1]+=d[a-1][0]=f,bi(b,c)}}function br(a){var b=a.map(bs);return bj(a).sort(function(a,c){return b[a]-b[c]})}function bs(b){for(var c,a=-1,d=0,f=b.length,e=-1/0;++a<f;)(c=+b[a][1])>e&&(e=c,d=a);return d}function bt(a){var b=a.map(bu);return bj(a).sort(function(a,c){return b[a]-b[c]})}function bu(a){for(var b,c=0,d=-1,e=a.length;++d<e;)(b=+a[d][1])&&(c+=b);return c}function bv(a){return bt(a).reverse()}function bw(c){var b,a,i=c.length,d=c.map(bu),j=br(c),e=0,f=0,g=[],h=[];for(b=0;b<i;++b)a=j[b],e<f?(e+=d[a],g.push(a)):(f+=d[a],h.push(a));return h.reverse().concat(g)}function bx(a){return bj(a).reverse()}Q.prototype={areaStart:a,areaEnd:a,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(a,b){a=+a,b=+b,this._point?this._context.lineTo(a,b):(this._point=1,this._context.moveTo(a,b))}},l.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ba(this,this._t0,a9(this,this._t0));break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(b,a){var c=NaN;if(a=+a,(b=+b)!==this._x1||a!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(b,a):this._context.moveTo(b,a);break;case 1:this._point=2;break;case 2:this._point=3,ba(this,a9(this,c=a8(this,b,a)),c);break;default:ba(this,this._t0,c=a8(this,b,a));break}this._x0=this._x1,this._x1=b,this._y0=this._y1,this._y1=a,this._t0=c}}},(R.prototype=Object.create(l.prototype)).point=function(a,b){l.prototype.point.call(this,b,a)},S.prototype={moveTo:function(a,b){this._context.moveTo(b,a)},closePath:function(){this._context.closePath()},lineTo:function(a,b){this._context.lineTo(b,a)},bezierCurveTo:function(a,b,c,d,e,f){this._context.bezierCurveTo(b,a,d,c,f,e)}},T.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var a=this._x,b=this._y,d=a.length;if(d)if(this._line?this._context.lineTo(a[0],b[0]):this._context.moveTo(a[0],b[0]),2===d)this._context.lineTo(a[1],b[1]);else for(var f=bd(a),g=bd(b),c=0,e=1;e<d;++c,++e)this._context.bezierCurveTo(f[0][c],g[0][c],f[1][c],g[1][c],a[e],b[e]);(this._line||0!==this._line&&1===d)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(a,b){this._x.push(+a),this._y.push(+b)}},U.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(b,a){switch(b=+b,a=+a,this._point){case 0:this._point=1,this._line?this._context.lineTo(b,a):this._context.moveTo(b,a);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,a),this._context.lineTo(b,a);else{var c=this._x*(1-this._t)+b*this._t;this._context.lineTo(c,this._y),this._context.lineTo(c,a)}break}this._x=b,this._y=a}}},90:function(d,a,b){"use strict";b.r(a),b.d(a,{CancelError:function(){return e},"default":function(){return c}});class e extends Error{constructor(a){super(a||"Promise was canceled"),this.name="CancelError"}get isCanceled(){return!0}}class c{static fn(a){return(...b)=>new c((c,d,e)=>{b.push(e),a(...b).then(c,d)})}constructor(a){this._cancelHandlers=[],this._isPending=!0,this._isCanceled=!1,this._rejectOnCancel=!0,this._promise=new Promise((d,c)=>{this._reject=c;const b=a=>{if(!this._isPending)throw new Error("The `onCancel` handler was attached after the promise settled.");this._cancelHandlers.push(a)};Object.defineProperties(b,{shouldReject:{get:()=>this._rejectOnCancel,set:a=>{this._rejectOnCancel=a}}}),a(a=>{this._isCanceled&&b.shouldReject||(this._isPending=!1,d(a))},a=>{this._isPending=!1,c(a)},b)})}then(a,b){return this._promise.then(a,b)}catch(a){return this._promise.catch(a)}finally(a){return this._promise.finally(a)}cancel(a){if(this._isPending&&!this._isCanceled){if(this._isCanceled=!0,this._cancelHandlers.length>0)try{for(const b of this._cancelHandlers)b()}catch(c){this._reject(c);return}this._rejectOnCancel&&this._reject(new e(a))}}get isCanceled(){return this._isCanceled}}Object.setPrototypeOf(c.prototype,Promise.prototype)}}])